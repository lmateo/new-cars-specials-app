/*
 * jQuery Form Plugin
 * version: 3.51.0-2014.06.20
 * Requires jQuery v1.5 or later
 * Copyright (c) 2014 M. Alsup
 * Project repository: https://github.com/malsup/form
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a((typeof(jQuery)!="undefined")?jQuery:window.Zepto)}}(function(f){var c={};c.fileapi=f("<input type='file'/>").get(0).files!==undefined;c.formdata=window.FormData!==undefined;var e=!!f.fn.prop;f.fn.attr2=function(){if(!e){return this.attr.apply(this,arguments)}var g=this.prop.apply(this,arguments);if((g&&g.jquery)||typeof g==="string"){return g}return this.attr.apply(this,arguments)};f.fn.ajaxSubmit=function(j){if(!this.length){d("ajaxSubmit: skipping submit process - no element selected");return this}var i,C,m,o=this;if(typeof j=="function"){j={success:j}}else{if(j===undefined){j={}}}i=j.type||this.attr2("method");C=j.url||this.attr2("action");m=(typeof C==="string")?f.trim(C):"";m=m||window.location.href||"";if(m){m=(m.match(/^([^#]+)/)||[])[1]}j=f.extend(true,{url:m,success:f.ajaxSettings.success,type:i||f.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},j);var u={};this.trigger("form-pre-serialize",[this,j,u]);if(u.veto){d("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(j.beforeSerialize&&j.beforeSerialize(this,j)===false){d("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var n=j.traditional;if(n===undefined){n=f.ajaxSettings.traditional}var s=[];var E,F=this.formToArray(j.semantic,s);if(j.data){j.extraData=j.data;E=f.param(j.data,n)}if(j.beforeSubmit&&j.beforeSubmit(F,this,j)===false){d("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[F,this,j,u]);if(u.veto){d("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var y=f.param(F,n);if(E){y=(y?(y+"&"+E):E)}if(j.type.toUpperCase()=="GET"){j.url+=(j.url.indexOf("?")>=0?"&":"?")+y;j.data=null}else{j.data=y}var H=[];if(j.resetForm){H.push(function(){o.resetForm()})}if(j.clearForm){H.push(function(){o.clearForm(j.includeHidden)})}if(!j.dataType&&j.target){var l=j.success||function(){};H.push(function(q){var k=j.replaceTarget?"replaceWith":"html";f(j.target)[k](q).each(l,arguments)})}else{if(j.success){H.push(j.success)}}j.success=function(K,q,L){var J=j.context||this;for(var I=0,k=H.length;I<k;I++){H[I].apply(J,[K,q,L||o,o])}};if(j.error){var z=j.error;j.error=function(J,k,q){var I=j.context||this;z.apply(I,[J,k,q,o])}}if(j.complete){var h=j.complete;j.complete=function(I,k){var q=j.context||this;h.apply(q,[I,k,o])}}var D=f("input[type=file]:enabled",this).filter(function(){return f(this).val()!==""});var p=D.length>0;var B="multipart/form-data";var x=(o.attr("enctype")==B||o.attr("encoding")==B);var w=c.fileapi&&c.formdata;d("fileAPI :"+w);var r=(p||x)&&!w;var v;if(j.iframe!==false&&(j.iframe||r)){if(j.closeKeepAlive){f.get(j.closeKeepAlive,function(){v=G(F)})}else{v=G(F)}}else{if((p||x)&&w){v=t(F)}else{v=f.ajax(j)}}o.removeData("jqxhr").data("jqxhr",v);for(var A=0;A<s.length;A++){s[A]=null}this.trigger("form-submit-notify",[this,j]);return this;function g(K){var L=f.param(K,j.traditional).split("&");var q=L.length;var k=[];var J,I;for(J=0;J<q;J++){L[J]=L[J].replace(/\+/g," ");I=L[J].split("=");k.push([decodeURIComponent(I[0]),decodeURIComponent(I[1])])}return k}function t(q){var k=new FormData();for(var I=0;I<q.length;I++){k.append(q[I].name,q[I].value)}if(j.extraData){var L=g(j.extraData);for(I=0;I<L.length;I++){if(L[I]){k.append(L[I][0],L[I][1])}}}j.data=null;var K=f.extend(true,{},f.ajaxSettings,j,{contentType:false,processData:false,cache:false,type:i||"POST"});if(j.uploadProgress){K.xhr=function(){var M=f.ajaxSettings.xhr();if(M.upload){M.upload.addEventListener("progress",function(Q){var P=0;var N=Q.loaded||Q.position;var O=Q.total;if(Q.lengthComputable){P=Math.ceil(N/O*100)}j.uploadProgress(Q,N,O,P)},false)}return M}}K.data=null;var J=K.beforeSend;K.beforeSend=function(N,M){if(j.formData){M.data=j.formData}else{M.data=k}if(J){J.call(this,N,M)}};return f.ajax(K)}function G(af){var L=o[0],K,ab,V,ad,Y,N,Q,O,P,Z,ac,T;var ai=f.Deferred();ai.abort=function(aj){O.abort(aj)};if(af){for(ab=0;ab<s.length;ab++){K=f(s[ab]);if(e){K.prop("disabled",false)}else{K.removeAttr("disabled")}}}V=f.extend(true,{},f.ajaxSettings,j);V.context=V.context||V;Y="jqFormIO"+(new Date().getTime());if(V.iframeTarget){N=f(V.iframeTarget);Z=N.attr2("name");if(!Z){N.attr2("name",Y)}else{Y=Z}}else{N=f('<iframe name="'+Y+'" src="'+V.iframeSrc+'" />');N.css({position:"absolute",top:"-1000px",left:"-1000px"})}Q=N[0];O={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(aj){var ak=(aj==="timeout"?"timeout":"aborted");d("aborting upload... "+ak);this.aborted=1;try{if(Q.contentWindow.document.execCommand){Q.contentWindow.document.execCommand("Stop")}}catch(al){}N.attr("src",V.iframeSrc);O.error=ak;if(V.error){V.error.call(V.context,O,ak,aj)}if(ad){f.event.trigger("ajaxError",[O,V,ak])}if(V.complete){V.complete.call(V.context,O,ak)}}};ad=V.global;if(ad&&0===f.active++){f.event.trigger("ajaxStart")}if(ad){f.event.trigger("ajaxSend",[O,V])}if(V.beforeSend&&V.beforeSend.call(V.context,O,V)===false){if(V.global){f.active--}ai.reject();return ai}if(O.aborted){ai.reject();return ai}P=L.clk;if(P){Z=P.name;if(Z&&!P.disabled){V.extraData=V.extraData||{};V.extraData[Z]=P.value;if(P.type=="image"){V.extraData[Z+".x"]=L.clk_x;V.extraData[Z+".y"]=L.clk_y}}}var U=1;var R=2;function S(al){var ak=null;try{if(al.contentWindow){ak=al.contentWindow.document}}catch(aj){d("cannot get iframe.contentWindow document: "+aj)}if(ak){return ak}try{ak=al.contentDocument?al.contentDocument:al.document}catch(aj){d("cannot get iframe.contentDocument: "+aj);ak=al.document}return ak}var J=f("meta[name=csrf-token]").attr("content");var I=f("meta[name=csrf-param]").attr("content");if(I&&J){V.extraData=V.extraData||{};V.extraData[I]=J}function aa(){var ar=o.attr2("target"),an=o.attr2("action"),al="multipart/form-data",ao=o.attr("enctype")||o.attr("encoding")||al;L.setAttribute("target",Y);if(!i||/post/i.test(i)){L.setAttribute("method","POST")}if(an!=V.url){L.setAttribute("action",V.url)}if(!V.skipEncodingOverride&&(!i||/post/i.test(i))){o.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(V.timeout){T=setTimeout(function(){ac=true;X(U)},V.timeout)}function ap(){try{var at=S(Q).readyState;d("state = "+at);if(at&&at.toLowerCase()=="uninitialized"){setTimeout(ap,50)}}catch(au){d("Server abort: ",au," (",au.name,")");X(R);if(T){clearTimeout(T)}T=undefined}}var aq=[];try{if(V.extraData){for(var ak in V.extraData){if(V.extraData.hasOwnProperty(ak)){if(f.isPlainObject(V.extraData[ak])&&V.extraData[ak].hasOwnProperty("name")&&V.extraData[ak].hasOwnProperty("value")){aq.push(f('<input type="hidden" name="'+V.extraData[ak].name+'">').val(V.extraData[ak].value).appendTo(L)[0])}else{aq.push(f('<input type="hidden" name="'+ak+'">').val(V.extraData[ak]).appendTo(L)[0])}}}}if(!V.iframeTarget){N.appendTo("body")}if(Q.attachEvent){Q.attachEvent("onload",X)}else{Q.addEventListener("load",X,false)}setTimeout(ap,15);try{L.submit()}catch(am){var aj=document.createElement("form").submit;aj.apply(L)}}finally{L.setAttribute("action",an);L.setAttribute("enctype",ao);if(ar){L.setAttribute("target",ar)}else{o.removeAttr("target")}f(aq).remove()}}if(V.forceSync){aa()}else{setTimeout(aa,10)}var ag,ah,ae=50,M;function X(ap){if(O.aborted||M){return}ah=S(Q);if(!ah){d("cannot access response document");ap=R}if(ap===U&&O){O.abort("timeout");ai.reject(O,"timeout");return}else{if(ap==R&&O){O.abort("server abort");ai.reject(O,"error","server abort");return}}if(!ah||ah.location.href==V.iframeSrc){if(!ac){return}}if(Q.detachEvent){Q.detachEvent("onload",X)}else{Q.removeEventListener("load",X,false)}var an="success",ar;try{if(ac){throw"timeout"}var am=V.dataType=="xml"||ah.XMLDocument||f.isXMLDoc(ah);d("isXml="+am);if(!am&&window.opera&&(ah.body===null||!ah.body.innerHTML)){if(--ae){d("requeing onLoad callback, DOM not available");setTimeout(X,250);return}}var at=ah.body?ah.body:ah.documentElement;O.responseText=at?at.innerHTML:null;O.responseXML=ah.XMLDocument?ah.XMLDocument:ah;if(am){V.dataType="xml"}O.getResponseHeader=function(aw){var av={"content-type":V.dataType};return av[aw.toLowerCase()]};if(at){O.status=Number(at.getAttribute("status"))||O.status;O.statusText=at.getAttribute("statusText")||O.statusText}var aj=(V.dataType||"").toLowerCase();var aq=/(json|script|text)/.test(aj);if(aq||V.textarea){var ao=ah.getElementsByTagName("textarea")[0];if(ao){O.responseText=ao.value;O.status=Number(ao.getAttribute("status"))||O.status;O.statusText=ao.getAttribute("statusText")||O.statusText}else{if(aq){var ak=ah.getElementsByTagName("pre")[0];var au=ah.getElementsByTagName("body")[0];if(ak){O.responseText=ak.textContent?ak.textContent:ak.innerText}else{if(au){O.responseText=au.textContent?au.textContent:au.innerText}}}}}else{if(aj=="xml"&&!O.responseXML&&O.responseText){O.responseXML=W(O.responseText)}}try{ag=k(O,aj,V)}catch(al){an="parsererror";O.error=ar=(al||an)}}catch(al){d("error caught: ",al);an="error";O.error=ar=(al||an)}if(O.aborted){d("upload aborted");an=null}if(O.status){an=(O.status>=200&&O.status<300||O.status===304)?"success":"error"}if(an==="success"){if(V.success){V.success.call(V.context,ag,"success",O)}ai.resolve(O.responseText,"success",O);if(ad){f.event.trigger("ajaxSuccess",[O,V])}}else{if(an){if(ar===undefined){ar=O.statusText}if(V.error){V.error.call(V.context,O,an,ar)}ai.reject(O,"error",ar);if(ad){f.event.trigger("ajaxError",[O,V,ar])}}}if(ad){f.event.trigger("ajaxComplete",[O,V])}if(ad&&!--f.active){f.event.trigger("ajaxStop")}if(V.complete){V.complete.call(V.context,O,an)}M=true;if(V.timeout){clearTimeout(T)}setTimeout(function(){if(!V.iframeTarget){N.remove()}else{N.attr("src",V.iframeSrc)}O.responseXML=null},100)}var W=f.parseXML||function(aj,ak){if(window.ActiveXObject){ak=new ActiveXObject("Microsoft.XMLDOM");ak.async="false";ak.loadXML(aj)}else{ak=(new DOMParser()).parseFromString(aj,"text/xml")}return(ak&&ak.documentElement&&ak.documentElement.nodeName!="parsererror")?ak:null};var q=f.parseJSON||function(aj){return window["eval"]("("+aj+")")};var k=function(ao,am,al){var ak=ao.getResponseHeader("content-type")||"",aj=am==="xml"||!am&&ak.indexOf("xml")>=0,an=aj?ao.responseXML:ao.responseText;if(aj&&an.documentElement.nodeName==="parsererror"){if(f.error){f.error("parsererror")}}if(al&&al.dataFilter){an=al.dataFilter(an,am)}if(typeof an==="string"){if(am==="json"||!am&&ak.indexOf("json")>=0){an=q(an)}else{if(am==="script"||!am&&ak.indexOf("javascript")>=0){f.globalEval(an)}}}return an};return ai}};f.fn.ajaxForm=function(g){g=g||{};g.delegation=g.delegation&&f.isFunction(f.fn.on);if(!g.delegation&&this.length===0){var h={s:this.selector,c:this.context};if(!f.isReady&&h.s){d("DOM not ready, queuing ajaxForm");f(function(){f(h.s,h.c).ajaxForm(g)});return this}d("terminating; zero elements found by selector"+(f.isReady?"":" (DOM not ready)"));return this}if(g.delegation){f(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,g,b).on("click.form-plugin",this.selector,g,a);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",g,b).bind("click.form-plugin",g,a)};function b(h){var g=h.data;if(!h.isDefaultPrevented()){h.preventDefault();f(h.target).ajaxSubmit(g)}}function a(k){var j=k.target;var h=f(j);if(!(h.is("[type=submit],[type=image]"))){var g=h.closest("[type=submit]");if(g.length===0){return}j=g[0]}var i=this;i.clk=j;if(j.type=="image"){if(k.offsetX!==undefined){i.clk_x=k.offsetX;i.clk_y=k.offsetY}else{if(typeof f.fn.offset=="function"){var l=h.offset();i.clk_x=k.pageX-l.left;i.clk_y=k.pageY-l.top}else{i.clk_x=k.pageX-j.offsetLeft;i.clk_y=k.pageY-j.offsetTop}}}setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}f.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};f.fn.formToArray=function(x,g){var w=[];if(this.length===0){return w}var l=this[0];var z=this.attr("id");var q=x?l.getElementsByTagName("*"):l.elements;var A;if(q&&!/MSIE [678]/.test(navigator.userAgent)){q=f(q).get()}if(z){A=f(':input[form="'+z+'"]').get();if(A.length){q=(q||[]).concat(A)}}if(!q||!q.length){return w}var r,p,o,y,m,t,k;for(r=0,t=q.length;r<t;r++){m=q[r];o=m.name;if(!o||m.disabled){continue}if(x&&l.clk&&m.type=="image"){if(l.clk==m){w.push({name:o,value:f(m).val(),type:m.type});w.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}continue}y=f.fieldValue(m,true);if(y&&y.constructor==Array){if(g){g.push(m)}for(p=0,k=y.length;p<k;p++){w.push({name:o,value:y[p]})}}else{if(c.fileapi&&m.type=="file"){if(g){g.push(m)}var h=m.files;if(h.length){for(p=0;p<h.length;p++){w.push({name:o,value:h[p],type:m.type})}}else{w.push({name:o,value:"",type:m.type})}}else{if(y!==null&&typeof y!="undefined"){if(g){g.push(m)}w.push({name:o,value:y,type:m.type,required:m.required})}}}}if(!x&&l.clk){var s=f(l.clk),u=s[0];o=u.name;if(o&&!u.disabled&&u.type=="image"){w.push({name:o,value:s.val()});w.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}}return w};f.fn.formSerialize=function(g){return f.param(this.formToArray(g))};f.fn.fieldSerialize=function(h){var g=[];this.each(function(){var m=this.name;if(!m){return}var k=f.fieldValue(this,h);if(k&&k.constructor==Array){for(var l=0,j=k.length;l<j;l++){g.push({name:m,value:k[l]})}}else{if(k!==null&&typeof k!="undefined"){g.push({name:this.name,value:k})}}});return f.param(g)};f.fn.fieldValue=function(m){for(var l=[],j=0,g=this.length;j<g;j++){var k=this[j];var h=f.fieldValue(k,m);if(h===null||typeof h=="undefined"||(h.constructor==Array&&!h.length)){continue}if(h.constructor==Array){f.merge(l,h)}else{l.push(h)}}return l};f.fieldValue=function(g,o){var j=g.name,u=g.type,w=g.tagName.toLowerCase();if(o===undefined){o=true}if(o&&(!j||g.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!g.checked||(u=="submit"||u=="image")&&g.form&&g.form.clk!=g||w=="select"&&g.selectedIndex==-1)){return null}if(w=="select"){var p=g.selectedIndex;if(p<0){return null}var r=[],h=g.options;var l=(u=="select-one");var q=(l?p+1:h.length);for(var k=(l?p:0);k<q;k++){var m=h[k];if(m.selected){var s=m.value;if(!s){s=(m.attributes&&m.attributes.value&&!(m.attributes.value.specified))?m.text:m.value}if(l){return s}r.push(s)}}return r}return f(g).val()};f.fn.clearForm=function(g){return this.each(function(){f("input,select,textarea",this).clearFields(g)})};f.fn.clearFields=f.fn.clearInputs=function(g){var h=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var j=this.type,i=this.tagName.toLowerCase();if(h.test(j)||i=="textarea"){this.value=""}else{if(j=="checkbox"||j=="radio"){this.checked=false}else{if(i=="select"){this.selectedIndex=-1}else{if(j=="file"){if(/MSIE/.test(navigator.userAgent)){f(this).replaceWith(f(this).clone(true))}else{f(this).val("")}}else{if(g){if((g===true&&/hidden/.test(j))||(typeof g=="string"&&f(this).is(g))){this.value=""}}}}}}})};f.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};f.fn.enable=function(g){if(g===undefined){g=true}return this.each(function(){this.disabled=!g})};f.fn.selected=function(g){if(g===undefined){g=true}return this.each(function(){var h=this.type;if(h=="checkbox"||h=="radio"){this.checked=g}else{if(this.tagName.toLowerCase()=="option"){var i=f(this).parent("select");if(g&&i[0]&&i[0].type=="select-one"){i.find("option").selected(false)}this.selected=g}}})};f.fn.ajaxSubmit.debug=false;function d(){if(!f.fn.ajaxSubmit.debug){return}var g="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(g)}else{if(window.opera&&window.opera.postError){window.opera.postError(g)}}}}));
/*!
 * jQuery Validation Plugin v1.13.1
 * http://jqueryvalidation.org/
 * Copyright (c) 2014 Jörn Zaefferer
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(d){d.extend(d.fn,{validate:function(e){if(!this.length){if(e&&e.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var f=d.data(this[0],"validator");if(f){return f}this.attr("novalidate","novalidate");f=new d.validator(e,this[0]);d.data(this[0],"validator",f);if(f.settings.onsubmit){this.validateDelegate(":submit","click",function(g){if(f.settings.submitHandler){f.submitButton=g.target}if(d(g.target).hasClass("cancel")){f.cancelSubmit=true}if(d(g.target).attr("formnovalidate")!==undefined){f.cancelSubmit=true}});this.submit(function(g){if(f.settings.debug){g.preventDefault()}function h(){var j,i;if(f.settings.submitHandler){if(f.submitButton){j=d("<input type='hidden'/>").attr("name",f.submitButton.name).val(d(f.submitButton).val()).appendTo(f.currentForm)}i=f.settings.submitHandler.call(f,f.currentForm,g);if(f.submitButton){j.remove()}if(i!==undefined){return i}return false}return true}if(f.cancelSubmit){f.cancelSubmit=false;return h()}if(f.form()){if(f.pendingRequest){f.formSubmitted=true;return false}return h()}else{f.focusInvalid();return false}})}return f},valid:function(){var f,e;if(d(this[0]).is("form")){f=this.validate().form()}else{f=true;e=d(this[0].form).validate();this.each(function(){f=e.element(this)&&f})}return f},removeAttrs:function(g){var e={},f=this;d.each(g.split(/\s/),function(h,i){e[i]=f.attr(i);f.removeAttr(i)});return e},rules:function(h,e){var j=this[0],g,l,m,i,f,k;if(h){g=d.data(j.form,"validator").settings;l=g.rules;m=d.validator.staticRules(j);switch(h){case"add":d.extend(m,d.validator.normalizeRule(e));delete m.messages;l[j.name]=m;if(e.messages){g.messages[j.name]=d.extend(g.messages[j.name],e.messages)}break;case"remove":if(!e){delete l[j.name];return m}k={};d.each(e.split(/\s/),function(n,o){k[o]=m[o];delete m[o];if(o==="required"){d(j).removeAttr("aria-required")}});return k}}i=d.validator.normalizeRules(d.extend({},d.validator.classRules(j),d.validator.attributeRules(j),d.validator.dataRules(j),d.validator.staticRules(j)),j);if(i.required){f=i.required;delete i.required;i=d.extend({required:f},i);d(j).attr("aria-required","true")}if(i.remote){f=i.remote;delete i.remote;i=d.extend(i,{remote:f})}return i}});d.extend(d.expr[":"],{blank:function(e){return !d.trim(""+d(e).val())},filled:function(e){return !!d.trim(""+d(e).val())},unchecked:function(e){return !d(e).prop("checked")}});d.validator=function(e,f){this.settings=d.extend(true,{},d.validator.defaults,e);this.currentForm=f;this.init()};d.validator.format=function(e,f){if(arguments.length===1){return function(){var g=d.makeArray(arguments);g.unshift(e);return d.validator.format.apply(this,g)}}if(arguments.length>2&&f.constructor!==Array){f=d.makeArray(arguments).slice(1)}if(f.constructor!==Array){f=[f]}d.each(f,function(g,h){e=e.replace(new RegExp("\\{"+g+"\\}","g"),function(){return h})});return e};d.extend(d.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:false,focusInvalid:true,errorContainer:d([]),errorLabelContainer:d([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(e){this.lastActive=e;if(this.settings.focusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass)}this.hideThese(this.errorsFor(e))}},onfocusout:function(e){if(!this.checkable(e)&&(e.name in this.submitted||!this.optional(e))){this.element(e)}},onkeyup:function(e,f){if(f.which===9&&this.elementValue(e)===""){return}else{if(e.name in this.submitted||e===this.lastElement){this.element(e)}}},onclick:function(e){if(e.name in this.submitted){this.element(e)}else{if(e.parentNode.name in this.submitted){this.element(e.parentNode)}}},highlight:function(g,e,f){if(g.type==="radio"){this.findByName(g.name).addClass(e).removeClass(f)}else{d(g).closest(".field").addClass(e).removeClass(f)}},unhighlight:function(g,e,f){if(g.type==="radio"){this.findByName(g.name).removeClass(e).addClass(f)}else{d(g).closest(".field").removeClass(e).addClass(f)}}},setDefaults:function(e){d.extend(d.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:d.validator.format("Please enter no more than {0} characters."),minlength:d.validator.format("Please enter at least {0} characters."),rangelength:d.validator.format("Please enter a value between {0} and {1} characters long."),range:d.validator.format("Please enter a value between {0} and {1}."),max:d.validator.format("Please enter a value less than or equal to {0}."),min:d.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=d(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||d(this.currentForm);this.containers=d(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var e=(this.groups={}),g;d.each(this.settings.groups,function(h,i){if(typeof i==="string"){i=i.split(/\s/)}d.each(i,function(k,j){e[j]=h})});g=this.settings.rules;d.each(g,function(h,i){g[h]=d.validator.normalizeRule(i)});function f(k){var i=d.data(this[0].form,"validator"),h="on"+k.type.replace(/^validate/,""),j=i.settings;if(j[h]&&!this.is(j.ignore)){j[h].call(i,this[0],k)}}d(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",f).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",f);if(this.settings.invalidHandler){d(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}d(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){this.checkForm();d.extend(this.submitted,this.errorMap);this.invalid=d.extend({},this.errorMap);if(!this.valid()){d(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var e=0,f=(this.currentElements=this.elements());f[e];e++){this.check(f[e])}return this.valid()},element:function(g){var h=this.clean(g),f=this.validationTargetFor(h),e=true;this.lastElement=f;if(f===undefined){delete this.invalid[h.name]}else{this.prepareElement(f);this.currentElements=d(f);e=this.check(f)!==false;if(e){delete this.invalid[f.name]}else{this.invalid[f.name]=true}}d(g).attr("aria-invalid",!e);if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return e},showErrors:function(f){if(f){d.extend(this.errorMap,f);this.errorList=[];for(var e in f){this.errorList.push({message:f[e],element:this.findByName(e)[0]})}this.successList=d.grep(this.successList,function(g){return !(g.name in f)})}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if(d.fn.resetForm){d(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(g){var f=0,e;for(e in g){f++}return f},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text("");this.addWrapper(e).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{d(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(f){}}},findLastActive:function(){var e=this.lastActive;return e&&d.grep(this.errorList,function(f){return f.element.name===e.name}).length===1&&e},elements:function(){var f=this,e={};return d(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){if(!this.name&&f.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in e||!f.objectLength(d(this).rules())){return false}e[this.name]=true;return true})},clean:function(e){return d(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return d(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=d([]);this.toHide=d([]);this.currentElements=d([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset();this.toHide=this.errorsFor(e)},elementValue:function(f){var h,e=d(f),g=f.type;if(g==="radio"||g==="checkbox"){return d("input[name='"+f.name+"']:checked").val()}else{if(g==="number"&&typeof f.validity!=="undefined"){return f.validity.badInput?false:e.val()}}h=e.val();if(typeof h==="string"){return h.replace(/\r/g,"")}return h},check:function(h){h=this.validationTargetFor(this.clean(h));var l=d(h).rules(),j=d.map(l,function(o,e){return e}).length,m=false,g=this.elementValue(h),n,f,k;for(f in l){k={method:f,parameters:l[f]};try{n=d.validator.methods[f].call(this,g,h,k.parameters);if(n==="dependency-mismatch"&&j===1){m=true;continue}m=false;if(n==="pending"){this.toHide=this.toHide.not(this.errorsFor(h));return}if(!n){this.formatAndAdd(h,k);return false}}catch(i){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+h.id+", check the '"+k.method+"' method.",i)}throw i}}if(m){return}if(this.objectLength(l)){this.successList.push(h)}return true},customDataMessage:function(e,f){return d(e).data("msg"+f.charAt(0).toUpperCase()+f.substring(1).toLowerCase())||d(e).data("msg")},customMessage:function(f,g){var e=this.settings.messages[f];return e&&(e.constructor===String?e:e[g])},findDefined:function(){for(var e=0;e<arguments.length;e++){if(arguments[e]!==undefined){return arguments[e]}}return undefined},defaultMessage:function(e,f){return this.findDefined(this.customMessage(e.name,f),this.customDataMessage(e,f),!this.settings.ignoreTitle&&e.title||undefined,d.validator.messages[f],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(f,h){var g=this.defaultMessage(f,h.method),e=/\$?\{(\d+)\}/g;if(typeof g==="function"){g=g.call(this,h.parameters,f)}else{if(e.test(g)){g=d.validator.format(g.replace(e,"{$1}"),h.parameters)}}this.errorList.push({message:g,element:f,method:h.method});this.errorMap[f.name]=g;this.submitted[f.name]=g},addWrapper:function(e){if(this.settings.wrapper){e=e.add(e.parent(this.settings.wrapper))}return e},defaultShowErrors:function(){var f,g,e;for(f=0;this.errorList[f];f++){e=this.errorList[f];if(this.settings.highlight){this.settings.highlight.call(this,e.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(e.element,e.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(f=0;this.successList[f];f++){this.showLabel(this.successList[f])}}if(this.settings.unhighlight){for(f=0,g=this.validElements();g[f];f++){this.settings.unhighlight.call(this,g[f],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return d(this.errorList).map(function(){return this.element})},showLabel:function(i,j){var f,l,h,g=this.errorsFor(i),e=this.idOrName(i),k=d(i).attr("aria-describedby");if(g.length){g.removeClass(this.settings.validClass).addClass(this.settings.errorClass);g.html(j)}else{g=d("<"+this.settings.errorElement+">").attr("id",e+"-error").addClass(this.settings.errorClass).html(j||"");f=g;if(this.settings.wrapper){f=g.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(this.labelContainer.length){this.labelContainer.append(f)}else{if(this.settings.errorPlacement){this.settings.errorPlacement(f,d(i))}else{f.insertAfter(i)}}if(g.is("label")){g.attr("for",e)}else{if(g.parents("label[for='"+e+"']").length===0){h=g.attr("id").replace(/(:|\.|\[|\])/g,"\\$1");if(!k){k=h}else{if(!k.match(new RegExp("\\b"+h+"\\b"))){k+=" "+h}}d(i).attr("aria-describedby",k);l=this.groups[i.name];if(l){d.each(this.groups,function(n,m){if(m===l){d("[name='"+n+"']",this.currentForm).attr("aria-describedby",g.attr("id"))}})}}}}if(!j&&this.settings.success){g.text("");if(typeof this.settings.success==="string"){g.addClass(this.settings.success)}else{this.settings.success(g,i)}}this.toShow=this.toShow.add(g)},errorsFor:function(g){var f=this.idOrName(g),h=d(g).attr("aria-describedby"),e="label[for='"+f+"'], label[for='"+f+"'] *";if(h){e=e+", #"+h.replace(/\s+/g,", #")}return this.errors().filter(e)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){if(this.checkable(e)){e=this.findByName(e.name)}return d(e).not(this.settings.ignore)[0]},checkable:function(e){return(/radio|checkbox/i).test(e.type)},findByName:function(e){return d(this.currentForm).find("[name='"+e+"']")},getLength:function(f,e){switch(e.nodeName.toLowerCase()){case"select":return d("option:selected",e).length;case"input":if(this.checkable(e)){return this.findByName(e.name).filter(":checked").length}}return f.length},depend:function(f,e){return this.dependTypes[typeof f]?this.dependTypes[typeof f](f,e):true},dependTypes:{"boolean":function(e){return e},string:function(f,e){return !!d(f,e.form).length},"function":function(f,e){return f(e)}},optional:function(e){var f=this.elementValue(e);return !d.validator.methods.required.call(this,f,e)&&"dependency-mismatch"},startRequest:function(e){if(!this.pending[e.name]){this.pendingRequest++;this.pending[e.name]=true}},stopRequest:function(e,f){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[e.name];if(f&&this.pendingRequest===0&&this.formSubmitted&&this.form()){d(this.currentForm).submit();this.formSubmitted=false}else{if(!f&&this.pendingRequest===0&&this.formSubmitted){d(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(e){return d.data(e,"previousValue")||d.data(e,"previousValue",{old:null,valid:true,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(e,f){if(e.constructor===String){this.classRuleSettings[e]=f}else{d.extend(this.classRuleSettings,e)}},classRules:function(f){var g={},e=d(f).attr("class");if(e){d.each(e.split(" "),function(){if(this in d.validator.classRuleSettings){d.extend(g,d.validator.classRuleSettings[this])}})}return g},attributeRules:function(f){var i={},e=d(f),g=f.getAttribute("type"),j,h;for(j in d.validator.methods){if(j==="required"){h=f.getAttribute(j);if(h===""){h=true}h=!!h}else{h=e.attr(j)}if(/min|max/.test(j)&&(g===null||/number|range|text/.test(g))){h=Number(h)}if(h||h===0){i[j]=h}else{if(g===j&&g!=="range"){i[j]=true}}}if(i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)){delete i.maxlength}return i},dataRules:function(f){var i,g,h={},e=d(f);for(i in d.validator.methods){g=e.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase());if(g!==undefined){h[i]=g}}return h},staticRules:function(f){var g={},e=d.data(f.form,"validator");if(e.settings.rules){g=d.validator.normalizeRule(e.settings.rules[f.name])||{}}return g},normalizeRules:function(f,e){d.each(f,function(i,h){if(h===false){delete f[i];return}if(h.param||h.depends){var g=true;switch(typeof h.depends){case"string":g=!!d(h.depends,e.form).length;break;case"function":g=h.depends.call(e,e);break}if(g){f[i]=h.param!==undefined?h.param:true}else{delete f[i]}}});d.each(f,function(g,h){f[g]=d.isFunction(h)?h(e):h});d.each(["minlength","maxlength"],function(){if(f[this]){f[this]=Number(f[this])}});d.each(["rangelength","range"],function(){var g;if(f[this]){if(d.isArray(f[this])){f[this]=[Number(f[this][0]),Number(f[this][1])]}else{if(typeof f[this]==="string"){g=f[this].replace(/[\[\]]/g,"").split(/[\s,]+/);f[this]=[Number(g[0]),Number(g[1])]}}}});if(d.validator.autoCreateRanges){if(f.min!=null&&f.max!=null){f.range=[f.min,f.max];delete f.min;delete f.max}if(f.minlength!=null&&f.maxlength!=null){f.rangelength=[f.minlength,f.maxlength];delete f.minlength;delete f.maxlength}}return f},normalizeRule:function(f){if(typeof f==="string"){var e={};d.each(f.split(/\s/),function(){e[this]=true});f=e}return f},addMethod:function(e,g,f){d.validator.methods[e]=g;d.validator.messages[e]=f!==undefined?f:d.validator.messages[e];if(g.length<3){d.validator.addClassRules(e,d.validator.normalizeRule(e))}},methods:{required:function(f,e,h){if(!this.depend(h,e)){return"dependency-mismatch"}if(e.nodeName.toLowerCase()==="select"){var g=d(e).val();return g&&g.length>0}if(this.checkable(e)){return this.getLength(f,e)>0}return d.trim(f).length>0},email:function(f,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(f)},url:function(f,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(f)},date:function(f,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(f).toString())},dateISO:function(f,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(f)},number:function(f,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(f)},digits:function(f,e){return this.optional(e)||/^\d+$/.test(f)},creditcard:function(i,f){if(this.optional(f)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(i)){return false}var j=0,h=0,e=false,k,g;i=i.replace(/\D/g,"");if(i.length<13||i.length>19){return false}for(k=i.length-1;k>=0;k--){g=i.charAt(k);h=parseInt(g,10);if(e){if((h*=2)>9){h-=9}}j+=h;e=!e}return(j%10)===0},minlength:function(g,e,h){var f=d.isArray(g)?g.length:this.getLength(g,e);return this.optional(e)||f>=h},maxlength:function(g,e,h){var f=d.isArray(g)?g.length:this.getLength(g,e);return this.optional(e)||f<=h},rangelength:function(g,e,h){var f=d.isArray(g)?g.length:this.getLength(g,e);return this.optional(e)||(f>=h[0]&&f<=h[1])},min:function(f,e,g){return this.optional(e)||f>=g},max:function(f,e,g){return this.optional(e)||f<=g},range:function(f,e,g){return this.optional(e)||(f>=g[0]&&f<=g[1])},equalTo:function(f,e,h){var g=d(h);if(this.settings.onfocusout){g.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){d(e).valid()})}return f===g.val()},remote:function(i,f,j){if(this.optional(f)){return"dependency-mismatch"}var g=this.previousValue(f),e,h;if(!this.settings.messages[f.name]){this.settings.messages[f.name]={}}g.originalMessage=this.settings.messages[f.name].remote;this.settings.messages[f.name].remote=g.message;j=typeof j==="string"&&{url:j}||j;if(g.old===i){return g.valid}g.old=i;e=this;this.startRequest(f);h={};h[f.name]=i;d.ajax(d.extend(true,{url:j,mode:"abort",port:"validate"+f.name,dataType:"json",data:h,context:e.currentForm,success:function(l){var n=l===true||l==="true",o,m,k;e.settings.messages[f.name].remote=g.originalMessage;if(n){k=e.formSubmitted;e.prepareElement(f);e.formSubmitted=k;e.successList.push(f);delete e.invalid[f.name];e.showErrors()}else{o={};m=l||e.defaultMessage(f,"remote");o[f.name]=g.message=d.isFunction(m)?m(i):m;e.invalid[f.name]=true;e.showErrors(o)}g.valid=n;e.stopRequest(f,n)}},j));return"pending"}}});d.format=function a(){throw"$.format has been deprecated. Please use $.validator.format instead."};var b={},c;if(d.ajaxPrefilter){d.ajaxPrefilter(function(g,f,h){var e=g.port;if(g.mode==="abort"){if(b[e]){b[e].abort()}b[e]=h}})}else{c=d.ajax;d.ajax=function(f){var g=("mode" in f?f:d.ajaxSettings).mode,e=("port" in f?f:d.ajaxSettings).port;if(g==="abort"){if(b[e]){b[e].abort()}b[e]=c.apply(this,arguments);return b[e]}return c.apply(this,arguments)}}d.extend(d.fn,{validateDelegate:function(g,f,e){return this.bind(f,function(h){var i=d(h.target);if(i.is(g)){return e.apply(i,arguments)}})}})}));
/* Cookie Plugin 
* @author Klaus Hartl/klaus.hartl@stilbuero.de
*/
jQuery.cookie=function(d,e,b){if(arguments.length>1&&(e===null||typeof e!=="object")){b=jQuery.extend({},b);if(e===null){b.expires=-1}if(typeof b.expires==="number"){var g=b.expires,c=b.expires=new Date();c.setDate(c.getDate()+g)}return(document.cookie=[encodeURIComponent(d),"=",b.raw?String(e):encodeURIComponent(String(e)),b.expires?"; expires="+b.expires.toUTCString():"",b.path?"; path="+b.path:"",b.domain?"; domain="+b.domain:"",b.secure?"; secure":""].join(""))}b=e||{};var a,f=b.raw?function(h){return h}:decodeURIComponent;return(a=new RegExp("(?:^|; )"+encodeURIComponent(d)+"=([^;]*)").exec(document.cookie))?f(a[1]):null}; 
/*
* JQuery URL Parser plugin
* Developed and maintanined by Mark Perkins, mark@allmarkedup.com
* Source repository: https://github.com/allmarkedup/jQuery-URL-Parser
* Licensed under an MIT-style license. See https://github.com/allmarkedup/jQuery-URL-Parser/blob/master/LICENSE for details.
*/ 
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}})(function(h,f){var i={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},j=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],e={anchor:"fragment"},a={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},c=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g,b=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g;function g(k,n){var p=decodeURI(unescape(k)),m=a[n||false?"strict":"loose"].exec(p),o={attr:{},param:{},seg:{}},l=14;while(l--){o.attr[j[l]]=m[l]||""}o.param.query={};o.param.fragment={};o.attr.query.replace(c,function(r,q,s){if(q){o.param.query[q]=s}});o.attr.fragment.replace(b,function(r,q,s){if(q){o.param.fragment[q]=s}});o.seg.path=o.attr.path.replace(/^\/+|\/+$/g,"").split("/");o.seg.fragment=o.attr.fragment.replace(/^\/+|\/+$/g,"").split("/");o.attr.base=o.attr.host?(o.attr.protocol?o.attr.protocol+"://"+o.attr.host:o.attr.host)+(o.attr.port?":"+o.attr.port:""):"";return o}function d(l){var k=l.tagName;if(k!==f){return i[k.toLowerCase()]}return k}h.fn.url=function(l){var k="";if(this.length){k=h(this).attr(d(this[0]))||""}return h.url(k,l)};h.url=function(k,l){if(arguments.length===1&&k===true){l=true;k=f}l=l||false;k=k||window.location.toString();return{data:g(k,l),attr:function(m){m=e[m]||m;return m!==f?this.data.attr[m]:this.data.attr},param:function(m){return m!==f?this.data.param.query[m]:this.data.param.query},fparam:function(m){return m!==f?this.data.param.fragment[m]:this.data.param.fragment},segment:function(m){if(m===f){return this.data.seg.path}else{m=m<0?this.data.seg.path.length+m:m-1;return this.data.seg.path[m]}},fsegment:function(m){if(m===f){return this.data.seg.fragment}else{m=m<0?this.data.seg.fragment.length+m:m-1;return this.data.seg.fragment[m]}}}}});
/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/ 
 *
*/
jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t+n;return-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t+n;return r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t+n;return-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t*t+n;return r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){if(t==0)return n;if(t==i)return n+r;if((t/=i/2)<1)return r/2*Math.pow(2,10*(t-1))+n;return r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){if((t/=i/2)<1)return-r/2*(Math.sqrt(1-t*t)-1)+n;return r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;if(!o)o=i*.3*1.5;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);if(t<1)return-.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n;return u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;if((t/=i/2)<1)return r/2*t*t*(((s*=1.525)+1)*t-s)+n;return r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){if((t/=i)<1/2.75){return r*7.5625*t*t+n}else if(t<2/2.75){return r*(7.5625*(t-=1.5/2.75)*t+.75)+n}else if(t<2.5/2.75){return r*(7.5625*(t-=2.25/2.75)*t+.9375)+n}else{return r*(7.5625*(t-=2.625/2.75)*t+.984375)+n}},easeInOutBounce:function(e,t,n,r,i){if(t<i/2)return jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n;return jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}})
/*
 * Dialog
 */
function Messi(data,options){var _this=this;_this.options=jQuery.extend({},Messi.prototype.options,options||{});_this.messi=jQuery(_this.template);_this.setContent(data);if(_this.options.title==null){jQuery(".messi-titlebox",_this.messi).remove()}else{jQuery(".messi-title",_this.messi).append(_this.options.title);if(_this.options.buttons.length===0||!_this.options.autoclose){if(_this.options.closeButton){var close=jQuery('<a class="messi-closebtn"><i class="icon delete"></i></a>');close.on("click",function(){_this.hide()});jQuery(".messi-titlebox",this.messi).prepend(close)}}if(_this.options.titleClass!=null){jQuery(".messi-titlebox",this.messi).addClass(_this.options.titleClass)}}if(_this.options.width!=null){jQuery(".messi-box",_this.messi).css("width",_this.options.width)}if(_this.options.buttons.length>0){for(var i=0;i<_this.options.buttons.length;i++){var cls=(_this.options.buttons[i]["class"])?_this.options.buttons[i]["class"]:"";var ico=(_this.options.buttons[i]["icon"])?_this.options.buttons[i]["icon"]:"";var data=(_this.options.buttons[i]["data"])?_this.options.buttons[i]["data"]:"";var btn=jQuery('<div class="btnbox"><a '+data+' class="wojo button mod-button '+cls+'"> '+ico+_this.options.buttons[i].label+"</a></div>").data("value",_this.options.buttons[i].val);btn.on("click",function(){var value=jQuery.data(this,"value");var after=(_this.options.callback!=null)?function(){_this.options.callback(value)}:null;if(value=="action"){_this.options.callback(value)}else{_this.hide(after)}});jQuery(".messi-actions",this.messi).append(btn)}}else{jQuery(".messi-footbox",this.messi).remove()}_this.modal=(_this.options.modal)?jQuery('<div class="messi-modal"></div>').css({opacity:_this.options.modalOpacity,width:jQuery(document).width(),height:jQuery(document).height(),"z-index":_this.options.zIndex+jQuery(".messi").length}).appendTo(document.body):null;if(_this.options.show){_this.show()}jQuery(window).on("resize",function(){_this.resize()});if(_this.options.autoclose!=null){setTimeout(function(_this){_this.hide()},_this.options.autoclose,this)}return _this}Messi.prototype={options:{autoclose:null,buttons:[],callback:null,center:true,closeButton:true,height:"auto",title:null,titleClass:null,modal:false,modalOpacity:0.5,show:true,unload:true,viewport:{top:"0px",left:"0px"},width:"",zIndex:7777},template:'<div class="messi"><div class="messi-box"><div class="messi-wrapper"><div class="messi-titlebox"><span class="messi-title"></span></div><div class="messi-content"></div><div class="messi-footbox clearfix"><div class="messi-actions clearfix"></div></div></div></div></div>',content:"<div></div>",visible:false,setContent:function(data){jQuery(".messi-content",this.messi).css({height:this.options.height}).empty().append(data)},viewport:function(){return{top:((jQuery(window).height()-this.messi.height())/2)+jQuery(window).scrollTop()+"px",left:((jQuery(window).width()-this.messi.width())/2)+jQuery(window).scrollLeft()+"px"}},show:function(){if(this.visible){return}if(this.options.modal&&this.modal!=null){this.modal.show()}this.messi.appendTo(document.body);if(this.options.center){this.options.viewport=this.viewport(jQuery(".messi-box",this.messi))}this.messi.css({top:this.options.viewport.top,left:this.options.viewport.left,"z-index":this.options.zIndex+jQuery(".messi").length}).show().animate({opacity:1},300);this.visible=true},hide:function(after){if(!this.visible){return}var _this=this;if(after){after.call()}this.messi.animate({opacity:0},600,function(){if(_this.options.modal&&_this.modal!=null){_this.modal.remove()}_this.messi.css({display:"none"}).remove();_this.visible=false;if(_this.options.unload){_this.unload()}});return this},resize:function(){if(this.options.modal){jQuery(".messi-modal").css({width:jQuery(document).width(),height:jQuery(document).height()})}if(this.options.center){this.options.viewport=this.viewport(jQuery(".messi-box",this.messi));this.messi.css({top:this.options.viewport.top,left:this.options.viewport.left})}},toggle:function(){this[this.visible?"hide":"show"]();return this},unload:function(){if(this.visible){this.hide()}jQuery(window).off("resize",function(){this.resize()});this.messi.remove()}};jQuery.extend(Messi,{alert:function(data,callback,options){var buttons=[{id:"ok",label:"OK",val:"OK"}];options=jQuery.extend({closeButton:false,buttons:buttons,callback:function(){}},options||{},{show:true,unload:true,callback:callback});return new Messi(data,options)},ask:function(data,callback,options){var buttons=[{id:"yes",label:"Yes",val:"Y","class":"positive"},{id:"no",label:"No",val:"N","class":"negative"}];options=jQuery.extend({closeButton:false,modal:true,buttons:buttons,callback:function(){}},options||{},{show:true,unload:true,callback:callback});return new Messi(data,options)},img:function(src,options){var img=new Image();jQuery(img).load(function(){var vp={width:jQuery(window).width()-50,height:jQuery(window).height()-50};var ratio=(this.width>vp.width||this.height>vp.height)?Math.min(vp.width/this.width,vp.height/this.height):1;jQuery(img).css({width:this.width*ratio,height:this.height*ratio});options=jQuery.extend(options||{},{show:true,unload:true,closeButton:true,width:this.width*ratio,height:this.height*ratio,padding:0});new Messi(img,options)}).error(function(){console.log("Error loading "+src)}).attr("src",src)},load:function(url,params,method,options,callback){var buttons=[];method=method||"get";options=jQuery.extend({closeButton:true,modal:true,buttons:buttons,title:""},options||{},{show:true,unload:true,callback:callback});var request={type:method,url:url,data:params,cache:false};jQuery.ajax(request).done(function(html){new Messi(html,options)}).fail(function(){console.log(request)})}});
/* 
http://jquery.github.io/Stupid-Table-Plugin/ 
*/
(function($){$.fn.tablesort=function(sortFns){return this.each(function(){var $table=$(this);sortFns=sortFns||{};sortFns=$.extend({},$.fn.tablesort.default_sort_fns,sortFns);$table.on("click.tablesort","th",function(){var $this=$(this);var th_index=0;var dir=$.fn.tablesort.dir;$table.find("th").slice(0,$this.index()).each(function(){var cols=$(this).attr("colspan")||1;th_index+=parseInt(cols,10);});var sort_dir=$this.data("sort-default")||dir.ASC;if($this.data("sort-dir"))
sort_dir=$this.data("sort-dir")===dir.ASC?dir.DESC:dir.ASC;var type=$this.data("sort")||null;if(type===null){return;}
$table.trigger("beforetablesort",{column:th_index,direction:sort_dir});$table.css("display");setTimeout(function(){var column=[];var sortMethod=sortFns[type];var trs=$table.children("tbody").children("tr");trs.each(function(index,tr){var $e=$(tr).children().eq(th_index);var sort_val=$e.data("sort-value");var order_by=typeof(sort_val)!=="undefined"?sort_val:$e.text();column.push([order_by,tr]);});column.sort(function(a,b){return sortMethod(a[0],b[0]);});if(sort_dir!=dir.ASC)
column.reverse();trs=$.map(column,function(kv){return kv[1];});$table.children("tbody").append(trs);$table.find("th").data("sort-dir",null).removeClass("desc asc");$this.data("sort-dir",sort_dir).addClass(sort_dir);$table.trigger("aftertablesort",{column:th_index,direction:sort_dir});$table.css("display");},10);});});};$.fn.tablesort.dir={ASC:"asc",DESC:"desc"};$.fn.tablesort.default_sort_fns={"int":function(a,b){return parseInt(a,10)-parseInt(b,10);},"float":function(a,b){return parseFloat(a)-parseFloat(b);},"string":function(a,b){if(a<b)return-1;if(a>b)return+1;return 0;},"string-ins":function(a,b){a=a.toLowerCase();b=b.toLowerCase();if(a<b)return-1;if(a>b)return+1;return 0;}};})(jQuery);
/*
 * Project URL : http://www.malot.fr/bootstrap-datetimepicker
 */
!function($){function UTCDate(){return new Date(Date.UTC.apply(Date,arguments))}function UTCToday(){var today=new Date();return UTCDate(today.getUTCFullYear(),today.getUTCMonth(),today.getUTCDate(),today.getUTCHours(),today.getUTCMinutes(),today.getUTCSeconds(),0)}var Datetimepicker=function(element,options){var that=this;this.element=$(element);this.container=options.container||"body";this.language=options.language||this.element.data("date-language")||"en";this.language=this.language in dates?this.language:"en";this.isRTL=dates[this.language].rtl||false;this.formatType=options.formatType||this.element.data("format-type")||"standard";this.format=DPGlobal.parseFormat(options.format||this.element.data("date-format")||dates[this.language].format||DPGlobal.getDefaultFormat(this.formatType,"input"),this.formatType);this.isInline=false;this.isVisible=false;this.isInput=this.element.is("input");this.fontAwesome=options.fontAwesome||this.element.data("font-awesome")||false;this.linkField=options.linkField||this.element.data("link-field")||false;this.linkFormat=DPGlobal.parseFormat(options.linkFormat||this.element.data("link-format")||DPGlobal.getDefaultFormat(this.formatType,"link"),this.formatType);this.minuteStep=options.minuteStep||this.element.data("minute-step")||5;this.pickerPosition=options.pickerPosition||this.element.data("picker-position")||"bottom-right";this.showMeridian=options.showMeridian||this.element.data("show-meridian")||false;this.initialDate=options.initialDate||new Date();this.altfield=$("<input>").attr({type:"hidden",value:this.element.data('date'),name:this.element.prop("name")+"_submit"}).appendTo(this.element);this.icons={leftArrow:"icon chevron left",rightArrow:"icon chevron right"};this.icontype="icon";this._attachEvents();this.formatViewType="datetime";if("formatViewType"in options){this.formatViewType=options.formatViewType}else{if("formatViewType"in this.element.data()){this.formatViewType=this.element.data("formatViewType")}}this.minView=0;if("minView"in options){this.minView=options.minView}else{if("minView"in this.element.data()){this.minView=this.element.data("min-view")}}this.minView=DPGlobal.convertViewMode(this.minView);this.maxView=DPGlobal.modes.length-1;if("maxView"in options){this.maxView=options.maxView}else{if("maxView"in this.element.data()){this.maxView=this.element.data("max-view")}}this.maxView=DPGlobal.convertViewMode(this.maxView);this.wheelViewModeNavigation=false;if("wheelViewModeNavigation"in options){this.wheelViewModeNavigation=options.wheelViewModeNavigation}else{if("wheelViewModeNavigation"in this.element.data()){this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")}}this.wheelViewModeNavigationInverseDirection=false;if("wheelViewModeNavigationInverseDirection"in options){this.wheelViewModeNavigationInverseDirection=options.wheelViewModeNavigationInverseDirection}else{if("wheelViewModeNavigationInverseDirection"in this.element.data()){this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")}}this.wheelViewModeNavigationDelay=100;if("wheelViewModeNavigationDelay"in options){this.wheelViewModeNavigationDelay=options.wheelViewModeNavigationDelay}else{if("wheelViewModeNavigationDelay"in this.element.data()){this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")}}this.startViewMode=2;if("startView"in options){this.startViewMode=options.startView}else{if("startView"in this.element.data()){this.startViewMode=this.element.data("start-view")}}this.startViewMode=DPGlobal.convertViewMode(this.startViewMode);this.viewMode=this.startViewMode;this.viewSelect=this.minView;if("viewSelect"in options){this.viewSelect=options.viewSelect}else{if("viewSelect"in this.element.data()){this.viewSelect=this.element.data("view-select")}}this.viewSelect=DPGlobal.convertViewMode(this.viewSelect);this.forceParse=true;if("forceParse"in options){this.forceParse=options.forceParse}else{if("dateForceParse"in this.element.data()){this.forceParse=this.element.data("date-force-parse")}}var template=DPGlobal.template;while(template.indexOf("{iconType}")!==-1){template=template.replace("{iconType}",this.icontype)}while(template.indexOf("{leftArrow}")!==-1){template=template.replace("{leftArrow}",this.icons.leftArrow)}while(template.indexOf("{rightArrow}")!==-1){template=template.replace("{rightArrow}",this.icons.rightArrow)}this.picker=$(template).appendTo(this.isInline?this.element:this.container).on({click:$.proxy(this.click,this),mousedown:$.proxy(this.mousedown,this)});if(this.wheelViewModeNavigation){if($.fn.mousewheel){this.picker.on({mousewheel:$.proxy(this.mousewheel,this)})}else{console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")}}if(this.isInline){this.picker.addClass("datetimepicker-inline")}else{this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu")}if(this.isRTL){this.picker.addClass("datetimepicker-rtl");var selector=".prev i, .next i";this.picker.find(selector).toggleClass(this.icons.leftArrow+" "+this.icons.rightArrow)}$(document).on("mousedown",function(e){if($(e.target).closest(".datetimepicker").length===0){that.hide()}});this.autoclose=false;if("autoclose"in options){this.autoclose=options.autoclose}else{if("dateAutoclose"in this.element.data()){this.autoclose=this.element.data("date-autoclose")}}this.keyboardNavigation=true;if("keyboardNavigation"in options){this.keyboardNavigation=options.keyboardNavigation}else{if("dateKeyboardNavigation"in this.element.data()){this.keyboardNavigation=this.element.data("date-keyboard-navigation")}}this.todayBtn=(options.todayBtn||this.element.data("date-today-btn")||false);this.todayHighlight=(options.todayHighlight||this.element.data("date-today-highlight")||false);this.weekStart=((options.weekStart||this.element.data("date-weekstart")||dates[this.language].weekStart||0)%7);this.weekEnd=((this.weekStart+6)%7);this.startDate=-Infinity;this.endDate=Infinity;this.dow="long";this.daysOfWeekDisabled=[];this.setStartDate(options.startDate||this.element.data("date-startdate"));this.setEndDate(options.endDate||this.element.data("date-enddate"));this.setDaysOfWeekDisabled(options.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled"));this.setMinutesDisabled(options.minutesDisabled||this.element.data("date-minute-disabled"));this.setHoursDisabled(options.hoursDisabled||this.element.data("date-hour-disabled"));this.fillDow();this.fillMonths();this.update();this.showMode();if(this.isInline){this.show()}};Datetimepicker.prototype={constructor:Datetimepicker,_events:[],_attachEvents:function(){this._detachEvents();if(this.isInput){this._events=[[this.element,{focus:$.proxy(this.show,this),keyup:$.proxy(this.update,this),keydown:$.proxy(this.keydown,this)}]]}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:$.proxy(this.show,this)}]]}}for(var i=0,el,ev;i<this._events.length;i++){el=this._events[i][0];ev=this._events[i][1];el.on(ev)}},_detachEvents:function(){for(var i=0,el,ev;i<this._events.length;i++){el=this._events[i][0];ev=this._events[i][1];el.off(ev)}this._events=[]},show:function(e){this.picker.show();this.height=this.element.outerHeight();if(this.forceParse){this.update()}this.place();$(window).on("resize",$.proxy(this.place,this));if(e){e.stopPropagation();e.preventDefault()}this.isVisible=true;this.element.trigger({type:"show",date:this.date})},hide:function(e){if(!this.isVisible){return}if(this.isInline){return}this.picker.hide();$(window).off("resize",this.place);this.viewMode=this.startViewMode;this.showMode();if(!this.isInput){$(document).off("mousedown",this.hide)}if(this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this.isVisible=false;this.element.trigger({type:"hide",date:this.date})},remove:function(){this._detachEvents();this.picker.remove();delete this.picker;delete this.element.data().datetimepicker},getDate:function(){var d=this.getUTCDate();return new Date(d.getTime()+(d.getTimezoneOffset()*60000))},getUTCDate:function(){return this.date},setDate:function(d){this.setUTCDate(new Date(d.getTime()-(d.getTimezoneOffset()*60000)))},setUTCDate:function(d){if(d>=this.startDate&&d<=this.endDate){this.date=d;this.setValue();this.viewDate=this.date;this.fill()}else{this.element.trigger({type:"outOfRange",date:d,startDate:this.startDate,endDate:this.endDate})}},setFormat:function(format){this.format=DPGlobal.parseFormat(format,this.formatType);var element;if(this.isInput){element=this.element}if(element&&element.val()){this.setValue()}},setValue:function(){var formatted=this.getFormattedDate();if(!this.isInput){this.element.data("date",formatted)}else{this.element.val(formatted)}if(this.linkField){name=this.element.prop("name")+"_submit";$("input [name='"+name+"']").val(this.getFormattedDate(this.linkFormat))}},getFormattedDate:function(format){if(format==undefined){format=this.format}return DPGlobal.formatDate(this.date,format,this.language,this.formatType)},setStartDate:function(startDate){this.startDate=startDate||-Infinity;if(this.startDate!==-Infinity){this.startDate=DPGlobal.parseDate(this.startDate,this.format,this.language,this.formatType)}this.update();this.updateNavArrows()},setEndDate:function(endDate){this.endDate=endDate||Infinity;if(this.endDate!==Infinity){this.endDate=DPGlobal.parseDate(this.endDate,this.format,this.language,this.formatType)}this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(daysOfWeekDisabled){this.daysOfWeekDisabled=daysOfWeekDisabled||[];if(!$.isArray(this.daysOfWeekDisabled)){this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)}this.daysOfWeekDisabled=$.map(this.daysOfWeekDisabled,function(d){return parseInt(d,10)});this.update();this.updateNavArrows()},setMinutesDisabled:function(minutesDisabled){this.minutesDisabled=minutesDisabled||[];if(!$.isArray(this.minutesDisabled)){this.minutesDisabled=this.minutesDisabled.split(/,\s*/)}this.minutesDisabled=$.map(this.minutesDisabled,function(d){return parseInt(d,10)});this.update();this.updateNavArrows()},setHoursDisabled:function(hoursDisabled){this.hoursDisabled=hoursDisabled||[];if(!$.isArray(this.hoursDisabled)){this.hoursDisabled=this.hoursDisabled.split(/,\s*/)}this.hoursDisabled=$.map(this.hoursDisabled,function(d){return parseInt(d,10)});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}var index_highest=0;$("div").each(function(){var index_current=parseInt($(this).css("zIndex"),10);if(index_current>index_highest){index_highest=index_current}});var zIndex=index_highest+10;var offset,top,left,containerOffset;if(this.container instanceof $){containerOffset=this.container.offset()}else{containerOffset=$(this.container).offset()}offset=this.element.offset();left=offset.left;if(left+220>document.body.clientWidth){left=document.body.clientWidth-220}if(this.pickerPosition=="top-left"||this.pickerPosition=="top-right"){top=offset.top-this.picker.outerHeight()}else{top=offset.top+this.height}top=top-containerOffset.top;left=left-containerOffset.left;this.picker.css({top:top,left:left,zIndex:zIndex})},update:function(){var date,fromArgs=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0]instanceof Date)){date=arguments[0];fromArgs=true}else{date=(this.isInput?this.element.val():this.element.find("input").val())||this.element.data("date")||this.initialDate;if(typeof date=="string"||date instanceof String){date=date.replace(/^\s+|\s+$/g,"")}}if(!date){date=new Date();fromArgs=false}this.date=DPGlobal.parseDate(date,this.format,this.language,this.formatType);if(fromArgs){this.setValue()}if(this.date<this.startDate){this.viewDate=new Date(this.startDate)}else{if(this.date>this.endDate){this.viewDate=new Date(this.endDate)}else{this.viewDate=new Date(this.date)}}this.fill()},fillDow:function(){var dowCnt=this.weekStart,html="<tr>";while(dowCnt<this.weekStart+7){dow=this.dow=="long"?dates[this.language].daysShort:dates[this.language].daysMin;html+='<td class="dow">'+dow[(dowCnt++)%7]+"</td>"}html+="</tr>";this.picker.find(".datetimepicker-days thead").append(html)},fillMonths:function(){var html="",i=0;while(i<12){html+='<span class="month">'+dates[this.language].monthsShort[i++]+"</span>"}this.picker.find(".datetimepicker-months td").html(html)},fill:function(){if(this.date==null||this.viewDate==null){return}var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),dayMonth=d.getUTCDate(),hours=d.getUTCHours(),minutes=d.getUTCMinutes(),startYear=this.startDate!==-Infinity?this.startDate.getUTCFullYear():-Infinity,startMonth=this.startDate!==-Infinity?this.startDate.getUTCMonth()+1:-Infinity,endYear=this.endDate!==Infinity?this.endDate.getUTCFullYear():Infinity,endMonth=this.endDate!==Infinity?this.endDate.getUTCMonth()+1:Infinity,currentDate=(new UTCDate(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate())).valueOf(),today=new Date();this.picker.find(".datetimepicker-days thead th:eq(1)").text(dates[this.language].months[month]+" "+year);if(this.formatViewType=="time"){var formatted=this.getFormattedDate();this.picker.find(".datetimepicker-hours thead th:eq(1)").text(formatted);this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(formatted)}else{this.picker.find(".datetimepicker-hours thead th:eq(1)").text(dayMonth+" "+dates[this.language].months[month]+" "+year);this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(dayMonth+" "+dates[this.language].months[month]+" "+year)}this.picker.find("tfoot th.today").text(dates[this.language].today).toggle(this.todayBtn!==false);this.updateNavArrows();this.fillMonths();var prevMonth=UTCDate(year,month-1,28,0,0,0,0),day=DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(),prevMonth.getUTCMonth());prevMonth.setUTCDate(day);prevMonth.setUTCDate(day-(prevMonth.getUTCDay()-this.weekStart+7)%7);var nextMonth=new Date(prevMonth);nextMonth.setUTCDate(nextMonth.getUTCDate()+42);nextMonth=nextMonth.valueOf();var html=[];var clsName;while(prevMonth.valueOf()<nextMonth){if(prevMonth.getUTCDay()==this.weekStart){html.push("<tr>")}clsName="";if(prevMonth.getUTCFullYear()<year||(prevMonth.getUTCFullYear()==year&&prevMonth.getUTCMonth()<month)){clsName+=" old"}else{if(prevMonth.getUTCFullYear()>year||(prevMonth.getUTCFullYear()==year&&prevMonth.getUTCMonth()>month)){clsName+=" new"}}if(this.todayHighlight&&prevMonth.getUTCFullYear()==today.getFullYear()&&prevMonth.getUTCMonth()==today.getMonth()&&prevMonth.getUTCDate()==today.getDate()){clsName+=" today"}if(prevMonth.valueOf()==currentDate){clsName+=" active"}if((prevMonth.valueOf()+86400000)<=this.startDate||prevMonth.valueOf()>this.endDate||$.inArray(prevMonth.getUTCDay(),this.daysOfWeekDisabled)!==-1){clsName+=" disabled"}html.push('<td class="day'+clsName+'">'+prevMonth.getUTCDate()+"</td>");if(prevMonth.getUTCDay()==this.weekEnd){html.push("</tr>")}prevMonth.setUTCDate(prevMonth.getUTCDate()+1)}this.picker.find(".datetimepicker-days tbody").empty().append(html.join(""));html=[];var txt="",meridian="",meridianOld="";var hoursDisabled=this.hoursDisabled||[];for(var i=0;i<24;i++){if(hoursDisabled.indexOf(i)!==-1){continue}var actual=UTCDate(year,month,dayMonth,i);clsName="";if((actual.valueOf()+3600000)<=this.startDate||actual.valueOf()>this.endDate){clsName+=" disabled"}else{if(hours==i){clsName+=" active"}}if(this.showMeridian&&dates[this.language].meridiem.length==2){meridian=(i<12?dates[this.language].meridiem[0]:dates[this.language].meridiem[1]);if(meridian!=meridianOld){if(meridianOld!=""){html.push("</fieldset>")}html.push('<fieldset class="hour"><legend>'+meridian.toUpperCase()+"</legend>")}meridianOld=meridian;txt=(i%12?i%12:12);html.push('<span class="hour'+clsName+" hour_"+(i<12?"am":"pm")+'">'+txt+"</span>");if(i==23){html.push("</fieldset>")}}else{txt=i+":00";html.push('<span class="hour'+clsName+'">'+txt+"</span>")}}this.picker.find(".datetimepicker-hours td").html(html.join(""));html=[];txt="",meridian="",meridianOld="";var minutesDisabled=this.minutesDisabled||[];for(var i=0;i<60;i+=this.minuteStep){if(minutesDisabled.indexOf(i)!==-1){continue}var actual=UTCDate(year,month,dayMonth,hours,i,0);clsName="";if(actual.valueOf()<this.startDate||actual.valueOf()>this.endDate){clsName+=" disabled"}else{if(Math.floor(minutes/this.minuteStep)==Math.floor(i/this.minuteStep)){clsName+=" active"}}if(this.showMeridian&&dates[this.language].meridiem.length==2){meridian=(hours<12?dates[this.language].meridiem[0]:dates[this.language].meridiem[1]);if(meridian!=meridianOld){if(meridianOld!=""){html.push("</fieldset>")}html.push('<fieldset class="minute"><legend>'+meridian.toUpperCase()+"</legend>")}meridianOld=meridian;txt=(hours%12?hours%12:12);html.push('<span class="minute'+clsName+'">'+txt+":"+(i<10?"0"+i:i)+"</span>");if(i==59){html.push("</fieldset>")}}else{txt=i+":00";html.push('<span class="minute'+clsName+'">'+hours+":"+(i<10?"0"+i:i)+"</span>")}}this.picker.find(".datetimepicker-minutes td").html(html.join(""));var currentYear=this.date.getUTCFullYear();var months=this.picker.find(".datetimepicker-months").find("th:eq(1)").text(year).end().find("span").removeClass("active");if(currentYear==year){months.eq(this.date.getUTCMonth()+2).addClass("active")}if(year<startYear||year>endYear){months.addClass("disabled")}if(year==startYear){months.slice(0,startMonth+1).addClass("disabled")}if(year==endYear){months.slice(endMonth).addClass("disabled")}html="";year=parseInt(year/10,10)*10;var yearCont=this.picker.find(".datetimepicker-years").find("th:eq(1)").text(year+"-"+(year+9)).end().find("td");year-=1;for(var i=-1;i<11;i++){html+='<span class="year'+(i==-1||i==10?" old":"")+(currentYear==year?" active":"")+(year<startYear||year>endYear?" disabled":"")+'">'+year+"</span>";year+=1}yearCont.html(html);this.place()},updateNavArrows:function(){var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),day=d.getUTCDate(),hour=d.getUTCHours();switch(this.viewMode){case 0:if(this.startDate!==-Infinity&&year<=this.startDate.getUTCFullYear()&&month<=this.startDate.getUTCMonth()&&day<=this.startDate.getUTCDate()&&hour<=this.startDate.getUTCHours()){this.picker.find(".prev i").css({visibility:"hidden"})}else{this.picker.find(".prev i").css({visibility:"visible"})}if(this.endDate!==Infinity&&year>=this.endDate.getUTCFullYear()&&month>=this.endDate.getUTCMonth()&&day>=this.endDate.getUTCDate()&&hour>=this.endDate.getUTCHours()){this.picker.find(".next i").css({visibility:"hidden"})}else{this.picker.find(".next i").css({visibility:"visible"})}break;case 1:if(this.startDate!==-Infinity&&year<=this.startDate.getUTCFullYear()&&month<=this.startDate.getUTCMonth()&&day<=this.startDate.getUTCDate()){this.picker.find(".prev i").css({visibility:"hidden"})}else{this.picker.find(".prev i").css({visibility:"visible"})}if(this.endDate!==Infinity&&year>=this.endDate.getUTCFullYear()&&month>=this.endDate.getUTCMonth()&&day>=this.endDate.getUTCDate()){this.picker.find(".next i").css({visibility:"hidden"})}else{this.picker.find(".next i").css({visibility:"visible"})}break;case 2:if(this.startDate!==-Infinity&&year<=this.startDate.getUTCFullYear()&&month<=this.startDate.getUTCMonth()){this.picker.find(".prev i").css({visibility:"hidden"})}else{this.picker.find(".prev i").css({visibility:"visible"})}if(this.endDate!==Infinity&&year>=this.endDate.getUTCFullYear()&&month>=this.endDate.getUTCMonth()){this.picker.find(".next i").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 3:case 4:if(this.startDate!==-Infinity&&year<=this.startDate.getUTCFullYear()){this.picker.find(".prev i").css({visibility:"hidden"})}else{this.picker.find(".prev i").css({visibility:"visible"})}if(this.endDate!==Infinity&&year>=this.endDate.getUTCFullYear()){this.picker.find(".next i").css({visibility:"hidden"})}else{this.picker.find(".next i").css({visibility:"visible"})}break}},mousewheel:function(e){e.preventDefault();e.stopPropagation();if(this.wheelPause){return}this.wheelPause=true;var originalEvent=e.originalEvent;var delta=originalEvent.wheelDelta;var mode=delta>0?1:(delta===0)?0:-1;if(this.wheelViewModeNavigationInverseDirection){mode=-mode}this.showMode(mode);setTimeout($.proxy(function(){this.wheelPause=false},this),this.wheelViewModeNavigationDelay)},click:function(e){e.stopPropagation();e.preventDefault();var target=$(e.target).closest("span, td, th, legend");if(target.is("."+this.icontype)){target=$(target).parent().closest("span, td, th, legend")}if(target.length==1){if(target.is(".disabled")){this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});return}switch(target[0].nodeName.toLowerCase()){case"th":switch(target[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var dir=DPGlobal.modes[this.viewMode].navStep*(target[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,dir);break;case 1:this.viewDate=this.moveDate(this.viewDate,dir);break;case 2:this.viewDate=this.moveMonth(this.viewDate,dir);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,dir);break}this.fill();this.element.trigger({type:target[0].className+":"+this.convertViewModeText(this.viewMode),date:this.viewDate,startDate:this.startDate,endDate:this.endDate});break;case"today":var date=new Date();date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds(),0);if(date<this.startDate){date=this.startDate}else{if(date>this.endDate){date=this.endDate}}this.viewMode=this.startViewMode;this.showMode(0);this._setDate(date);this.fill();if(this.autoclose){this.hide()}break}break;case"span":if(!target.is(".disabled")){var year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),day=this.viewDate.getUTCDate(),hours=this.viewDate.getUTCHours(),minutes=this.viewDate.getUTCMinutes(),seconds=this.viewDate.getUTCSeconds();if(target.is(".month")){this.viewDate.setUTCDate(1);month=target.parent().find("span").index(target);day=this.viewDate.getUTCDate();this.viewDate.setUTCMonth(month);this.element.trigger({type:"changeMonth",date:this.viewDate});if(this.viewSelect>=3){this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))}}else{if(target.is(".year")){this.viewDate.setUTCDate(1);year=parseInt(target.text(),10)||0;this.viewDate.setUTCFullYear(year);this.element.trigger({type:"changeYear",date:this.viewDate});if(this.viewSelect>=4){this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))}}else{if(target.is(".hour")){hours=parseInt(target.text(),10)||0;if(target.hasClass("hour_am")||target.hasClass("hour_pm")){if(hours==12&&target.hasClass("hour_am")){hours=0}else{if(hours!=12&&target.hasClass("hour_pm")){hours+=12}}}this.viewDate.setUTCHours(hours);this.element.trigger({type:"changeHour",date:this.viewDate});if(this.viewSelect>=1){this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))}}else{if(target.is(".minute")){minutes=parseInt(target.text().substr(target.text().indexOf(":")+1),10)||0;this.viewDate.setUTCMinutes(minutes);this.element.trigger({type:"changeMinute",date:this.viewDate});if(this.viewSelect>=0){this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))}}}}}if(this.viewMode!=0){var oldViewMode=this.viewMode;this.showMode(-1);this.fill();if(oldViewMode==this.viewMode&&this.autoclose){this.hide()}}else{this.fill();if(this.autoclose){this.hide()}}}break;case"td":if(target.is(".day")&&!target.is(".disabled")){var day=parseInt(target.text(),10)||1;var year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),hours=this.viewDate.getUTCHours(),minutes=this.viewDate.getUTCMinutes(),seconds=this.viewDate.getUTCSeconds();if(target.is(".old")){if(month===0){month=11;year-=1}else{month-=1}}else{if(target.is(".new")){if(month==11){month=0;year+=1}else{month+=1}}}this.viewDate.setUTCFullYear(year);this.viewDate.setUTCMonth(month,day);this.element.trigger({type:"changeDay",date:this.viewDate});if(this.viewSelect>=2){this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))}}var oldViewMode=this.viewMode;this.showMode(-1);this.fill();if(oldViewMode==this.viewMode&&this.autoclose){this.hide()}break}}},_setDate:function(date,which){if(!which||which=="date"){this.date=date}if(!which||which=="view"){this.viewDate=date}this.fill();this.setValue();var element;if(this.isInput){element=this.element}if(element){element.change();if(this.autoclose&&(!which||which=="date")){}}this.element.trigger({type:"changeDate",date:this.date})},moveMinute:function(date,dir){if(!dir){return date}var new_date=new Date(date.valueOf());new_date.setUTCMinutes(new_date.getUTCMinutes()+(dir*this.minuteStep));return new_date},moveHour:function(date,dir){if(!dir){return date}var new_date=new Date(date.valueOf());new_date.setUTCHours(new_date.getUTCHours()+dir);return new_date},moveDate:function(date,dir){if(!dir){return date}var new_date=new Date(date.valueOf());new_date.setUTCDate(new_date.getUTCDate()+dir);return new_date},moveMonth:function(date,dir){if(!dir){return date}var new_date=new Date(date.valueOf()),day=new_date.getUTCDate(),month=new_date.getUTCMonth(),mag=Math.abs(dir),new_month,test;dir=dir>0?1:-1;if(mag==1){test=dir==-1?function(){return new_date.getUTCMonth()==month}:function(){return new_date.getUTCMonth()!=new_month};new_month=month+dir;new_date.setUTCMonth(new_month);if(new_month<0||new_month>11){new_month=(new_month+12)%12}}else{for(var i=0;i<mag;i++){new_date=this.moveMonth(new_date,dir)}new_month=new_date.getUTCMonth();new_date.setUTCDate(day);test=function(){return new_month!=new_date.getUTCMonth()}}while(test()){new_date.setUTCDate(--day);new_date.setUTCMonth(new_month)}return new_date},moveYear:function(date,dir){return this.moveMonth(date,dir*12)},dateWithinRange:function(date){return date>=this.startDate&&date<=this.endDate},keydown:function(e){if(this.picker.is(":not(:visible)")){if(e.keyCode==27){this.show()}return}var dateChanged=false,dir,day,month,newDate,newViewDate;switch(e.keyCode){case 27:this.hide();e.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation){break}dir=e.keyCode==37?-1:1;viewMode=this.viewMode;if(e.ctrlKey){viewMode+=2}else{if(e.shiftKey){viewMode+=1}}if(viewMode==4){newDate=this.moveYear(this.date,dir);newViewDate=this.moveYear(this.viewDate,dir)}else{if(viewMode==3){newDate=this.moveMonth(this.date,dir);newViewDate=this.moveMonth(this.viewDate,dir)}else{if(viewMode==2){newDate=this.moveDate(this.date,dir);newViewDate=this.moveDate(this.viewDate,dir)}else{if(viewMode==1){newDate=this.moveHour(this.date,dir);newViewDate=this.moveHour(this.viewDate,dir)}else{if(viewMode==0){newDate=this.moveMinute(this.date,dir);newViewDate=this.moveMinute(this.viewDate,dir)}}}}}if(this.dateWithinRange(newDate)){this.date=newDate;this.viewDate=newViewDate;this.setValue();this.update();e.preventDefault();dateChanged=true}break;case 38:case 40:if(!this.keyboardNavigation){break}dir=e.keyCode==38?-1:1;viewMode=this.viewMode;if(e.ctrlKey){viewMode+=2}else{if(e.shiftKey){viewMode+=1}}if(viewMode==4){newDate=this.moveYear(this.date,dir);newViewDate=this.moveYear(this.viewDate,dir)}else{if(viewMode==3){newDate=this.moveMonth(this.date,dir);newViewDate=this.moveMonth(this.viewDate,dir)}else{if(viewMode==2){newDate=this.moveDate(this.date,dir*7);newViewDate=this.moveDate(this.viewDate,dir*7)}else{if(viewMode==1){if(this.showMeridian){newDate=this.moveHour(this.date,dir*6);newViewDate=this.moveHour(this.viewDate,dir*6)}else{newDate=this.moveHour(this.date,dir*4);newViewDate=this.moveHour(this.viewDate,dir*4)}}else{if(viewMode==0){newDate=this.moveMinute(this.date,dir*4);newViewDate=this.moveMinute(this.viewDate,dir*4)}}}}}if(this.dateWithinRange(newDate)){this.date=newDate;this.viewDate=newViewDate;this.setValue();this.update();e.preventDefault();dateChanged=true}break;case 13:if(this.viewMode!=0){var oldViewMode=this.viewMode;this.showMode(-1);this.fill();if(oldViewMode==this.viewMode&&this.autoclose){this.hide()}}else{this.fill();if(this.autoclose){this.hide()}}e.preventDefault();break;case 9:this.hide();break}if(dateChanged){var element;if(this.isInput){element=this.element}if(element){element.change()}this.element.trigger({type:"changeDate",date:this.date})}},showMode:function(dir){if(dir){var newViewMode=Math.max(0,Math.min(DPGlobal.modes.length-1,this.viewMode+dir));if(newViewMode>=this.minView&&newViewMode<=this.maxView){this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:newViewMode});this.viewMode=newViewMode}}this.picker.find(">div").hide().filter(".datetimepicker-"+DPGlobal.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()},reset:function(e){this._setDate(null,"date")},convertViewModeText:function(viewMode){switch(viewMode){case 4:return"decade";case 3:return"year";case 2:return"month";case 1:return"day";case 0:return"hour"}}};$.fn.datetimepicker=function(option){var args=Array.apply(null,arguments);args.shift();var internal_return;this.each(function(){var $this=$(this),data=$this.data("datetimepicker"),options=typeof option=="object"&&option;if(!data){$this.data("datetimepicker",(data=new Datetimepicker(this,$.extend({},$.fn.datetimepicker.defaults,options))))}if(typeof option=="string"&&typeof data[option]=="function"){internal_return=data[option].apply(data,args);if(internal_return!==undefined){return false}}});if(internal_return!==undefined){return internal_return}else{return this}};$.fn.datetimepicker.defaults={};$.fn.datetimepicker.Constructor=Datetimepicker;var dates=$.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today"}};var DPGlobal={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(year){return(((year%4===0)&&(year%100!==0))||(year%400===0))},getDaysInMonth:function(year,month){return[31,(DPGlobal.isLeapYear(year)?29:28),31,30,31,30,31,31,30,31,30,31][month]},getDefaultFormat:function(type,field){if(type=="standard"){if(field=="input"){return"yyyy-mm-dd hh:ii"}else{return"yyyy-mm-dd hh:ii:ss"}}else{if(type=="php"){if(field=="input"){return"Y-m-d H:i"}else{return"Y-m-d H:i:s"}}else{throw new Error("Invalid format type.")}}},validParts:function(type){if(type=="standard"){return/hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g}else{if(type=="php"){return/[dDjlNwzFmMnStyYaABgGhHis]/g}else{throw new Error("Invalid format type.")}}},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(format,type){var separators=format.replace(this.validParts(type),"\0").split("\0"),parts=format.match(this.validParts(type));if(!separators||!separators.length||!parts||parts.length==0){throw new Error("Invalid date format.")}return{separators:separators,parts:parts}},parseDate:function(date,format,language,type){if(date instanceof Date){var dateUTC=new Date(date.valueOf()-date.getTimezoneOffset()*60000);dateUTC.setMilliseconds(0);return dateUTC}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(date)){format=this.parseFormat("yyyy-mm-dd",type)}if(/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(date)){format=this.parseFormat("yyyy-mm-dd hh:ii",type)}if(/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(date)){format=this.parseFormat("yyyy-mm-dd hh:ii:ss",type)}if(/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(date)){var part_re=/([-+]\d+)([dmwy])/,parts=date.match(/([-+]\d+)([dmwy])/g),part,dir;date=new Date();for(var i=0;i<parts.length;i++){part=part_re.exec(parts[i]);dir=parseInt(part[1]);switch(part[2]){case"d":date.setUTCDate(date.getUTCDate()+dir);break;case"m":date=Datetimepicker.prototype.moveMonth.call(Datetimepicker.prototype,date,dir);break;case"w":date.setUTCDate(date.getUTCDate()+dir*7);break;case"y":date=Datetimepicker.prototype.moveYear.call(Datetimepicker.prototype,date,dir);break}}return UTCDate(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),0)}var parts=date&&date.match(this.nonpunctuation)||[],date=new Date(0,0,0,0,0,0,0),parsed={},setters_order=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P"],setters_map={hh:function(d,v){return d.setUTCHours(v)},h:function(d,v){return d.setUTCHours(v)},HH:function(d,v){return d.setUTCHours(v==12?0:v)},H:function(d,v){return d.setUTCHours(v==12?0:v)},ii:function(d,v){return d.setUTCMinutes(v)},i:function(d,v){return d.setUTCMinutes(v)},ss:function(d,v){return d.setUTCSeconds(v)},s:function(d,v){return d.setUTCSeconds(v)},yyyy:function(d,v){return d.setUTCFullYear(v)},yy:function(d,v){return d.setUTCFullYear(2000+v)},m:function(d,v){v-=1;while(v<0){v+=12}v%=12;d.setUTCMonth(v);while(d.getUTCMonth()!=v){if(isNaN(d.getUTCMonth())){return d}else{d.setUTCDate(d.getUTCDate()-1)}}return d},d:function(d,v){return d.setUTCDate(v)},p:function(d,v){return d.setUTCHours(v==1?d.getUTCHours()+12:d.getUTCHours())}},val,filtered,part;setters_map.M=setters_map.MM=setters_map.mm=setters_map.m;setters_map.dd=setters_map.d;setters_map.P=setters_map.p;date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds());if(parts.length==format.parts.length){for(var i=0,cnt=format.parts.length;i<cnt;i++){val=parseInt(parts[i],10);part=format.parts[i];if(isNaN(val)){switch(part){case"MM":filtered=$(dates[language].months).filter(function(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m==p});val=$.inArray(filtered[0],dates[language].months)+1;break;case"M":filtered=$(dates[language].monthsShort).filter(function(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m.toLowerCase()==p.toLowerCase()});val=$.inArray(filtered[0],dates[language].monthsShort)+1;break;case"p":case"P":val=$.inArray(parts[i].toLowerCase(),dates[language].meridiem);break}}parsed[part]=val}for(var i=0,s;i<setters_order.length;i++){s=setters_order[i];if(s in parsed&&!isNaN(parsed[s])){setters_map[s](date,parsed[s])}}}return date},formatDate:function(date,format,language,type){if(date==null){return""}var val;if(type=="standard"){val={yy:date.getUTCFullYear().toString().substring(2),yyyy:date.getUTCFullYear(),m:date.getUTCMonth()+1,M:dates[language].monthsShort[date.getUTCMonth()],MM:dates[language].months[date.getUTCMonth()],d:date.getUTCDate(),D:dates[language].daysShort[date.getUTCDay()],DD:dates[language].days[date.getUTCDay()],p:(dates[language].meridiem.length==2?dates[language].meridiem[date.getUTCHours()<12?0:1]:""),h:date.getUTCHours(),i:date.getUTCMinutes(),s:date.getUTCSeconds()};if(dates[language].meridiem.length==2){val.H=(val.h%12==0?12:val.h%12)}else{val.H=val.h}val.HH=(val.H<10?"0":"")+val.H;val.P=val.p.toUpperCase();val.hh=(val.h<10?"0":"")+val.h;val.ii=(val.i<10?"0":"")+val.i;val.ss=(val.s<10?"0":"")+val.s;val.dd=(val.d<10?"0":"")+val.d;val.mm=(val.m<10?"0":"")+val.m}else{if(type=="php"){val={y:date.getUTCFullYear().toString().substring(2),Y:date.getUTCFullYear(),F:dates[language].months[date.getUTCMonth()],M:dates[language].monthsShort[date.getUTCMonth()],n:date.getUTCMonth()+1,t:DPGlobal.getDaysInMonth(date.getUTCFullYear(),date.getUTCMonth()),j:date.getUTCDate(),l:dates[language].days[date.getUTCDay()],D:dates[language].daysShort[date.getUTCDay()],w:date.getUTCDay(),N:(date.getUTCDay()==0?7:date.getUTCDay()),S:(date.getUTCDate()%10<=dates[language].suffix.length?dates[language].suffix[date.getUTCDate()%10-1]:""),a:(dates[language].meridiem.length==2?dates[language].meridiem[date.getUTCHours()<12?0:1]:""),g:(date.getUTCHours()%12==0?12:date.getUTCHours()%12),G:date.getUTCHours(),i:date.getUTCMinutes(),s:date.getUTCSeconds()};val.m=(val.n<10?"0":"")+val.n;val.d=(val.j<10?"0":"")+val.j;val.A=val.a.toString().toUpperCase();val.h=(val.g<10?"0":"")+val.g;val.H=(val.G<10?"0":"")+val.G;val.i=(val.i<10?"0":"")+val.i;val.s=(val.s<10?"0":"")+val.s}else{throw new Error("Invalid format type.")}}var date=[],seps=$.extend([],format.separators);for(var i=0,cnt=format.parts.length;i<cnt;i++){if(seps.length){date.push(seps.shift())}date.push(val[format.parts[i]])}if(seps.length){date.push(seps.shift())}return date.join("")},convertViewMode:function(viewMode){switch(viewMode){case 4:case"decade":viewMode=4;break;case 3:case"year":viewMode=3;break;case 2:case"month":viewMode=2;break;case 1:case"day":viewMode=1;break;case 0:case"hour":viewMode=0;break}return viewMode},headTemplate:'<thead><tr><th class="prev"><i class="{leftArrow}"/></th><th colspan="5" class="switch"></th><th class="next"><i class="{rightArrow}"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};DPGlobal.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class="wojo compact table">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+'</table></div><div class="datetimepicker-hours"><table class="wojo compact table">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+'</table></div><div class="datetimepicker-days"><table class="wojo compact table">'+DPGlobal.headTemplate+"<tbody></tbody>"+DPGlobal.footTemplate+'</table></div><div class="datetimepicker-months"><table class="wojo compact table">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+'</table></div><div class="datetimepicker-years"><table class="wojo compact table">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table></div></div>";$.fn.datetimepicker.DPGlobal=DPGlobal;$.fn.datetimepicker.noConflict=function(){$.fn.datetimepicker=old;return this};$(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(e){var $this=$(this);if($this.data("datetimepicker")){return}e.preventDefault();$this.datetimepicker("show")});$(function(){$('[data-provide="datetimepicker-inline"]').datetimepicker()})}(window.jQuery);
/* Custom File Input 
 * bootstrap-filestyle
 * doc: http://dev.tudosobreweb.com.br/bootstrap-filestyle/
 * github: https://github.com/markusslima/bootstrap-filestyle
 */
(function(c){var b=function(e,d){this.options=d;this.$elementFilestyle=[];this.$element=c(e)};b.prototype={clear:function(){this.$element.val("");this.$elementFilestyle.find(":text").val("");this.$elementFilestyle.find(".badge").remove()},destroy:function(){this.$element.removeAttr("style").removeData("filestyle").val("");this.$elementFilestyle.remove()},disabled:function(d){if(d===true){if(!this.options.disabled){this.$element.attr("disabled","true");this.$elementFilestyle.find("label").attr("disabled","true");this.options.disabled=true}}else{if(d===false){if(this.options.disabled){this.$element.removeAttr("disabled");this.$elementFilestyle.find("label").removeAttr("disabled");this.options.disabled=false}}else{return this.options.disabled}}},buttonBefore:function(d){if(d===true){if(!this.options.buttonBefore){this.options.buttonBefore=true;if(this.options.input){this.$elementFilestyle.remove();this.constructor();this.pushNameFiles()}}}else{if(d===false){if(this.options.buttonBefore){this.options.buttonBefore=false;if(this.options.input){this.$elementFilestyle.remove();this.constructor();this.pushNameFiles()}}}else{return this.options.buttonBefore}}},icon:function(d){if(d===true){if(!this.options.icon){this.options.icon=true;this.$elementFilestyle.find("label").prepend(this.htmlIcon())}}else{if(d===false){if(this.options.icon){this.options.icon=false;this.$elementFilestyle.find(".glyphicon").remove()}}else{return this.options.icon}}},input:function(e){if(e===true){if(!this.options.input){this.options.input=true;if(this.options.buttonBefore){this.$elementFilestyle.append(this.htmlInput())}else{this.$elementFilestyle.prepend(this.htmlInput())}this.$elementFilestyle.find(".badge").remove();this.pushNameFiles();this.$elementFilestyle.find(".group-span-filestyle").addClass("input-group-btn")}}else{if(e===false){if(this.options.input){this.options.input=false;this.$elementFilestyle.find(":text").remove();var d=this.pushNameFiles();if(d.length>0&&this.options.badge){this.$elementFilestyle.find("label").append(' <span class="badge">'+d.length+"</span>")}this.$elementFilestyle.find(".group-span-filestyle").removeClass("input-group-btn")}}else{return this.options.input}}},size:function(f){if(f!==undefined){var e=this.$elementFilestyle.find("label"),d=this.$elementFilestyle.find("input");e.removeClass("btn-lg btn-sm");d.removeClass("input-lg input-sm");if(f!="nr"){e.addClass("btn-"+f);d.addClass("input-"+f)}}else{return this.options.size}},buttonText:function(d){if(d!==undefined){this.options.buttonText=d;this.$elementFilestyle.find("label span").html(this.options.buttonText)}else{return this.options.buttonText}},buttonName:function(d){if(d!==undefined){this.options.buttonName=d;this.$elementFilestyle.find("label").attr({"class":"btn "+this.options.buttonName})}else{return this.options.buttonName}},iconName:function(d){if(d!==undefined){this.$elementFilestyle.find(".glyphicon").attr({"class":".glyphicon "+this.options.iconName})}else{return this.options.iconName}},htmlIcon:function(){if(this.options.icon){return'<i class="icon laptop"></i> '}else{return""}},htmlInput:function(){if(this.options.input){return'<input disabled="disabled" type="text" class="form-control '+(this.options.size=="nr"?"":"input-"+this.options.size)+'"> '}else{return""}},pushNameFiles:function(){var f="",e=[];if(this.$element[0].files===undefined){e[0]={name:this.$element[0]&&this.$element[0].value}}else{e=this.$element[0].files}for(var d=0;d<e.length;d++){f+=e[d].name.split("\\").pop()+", "}if(f!==""){this.$elementFilestyle.find(":text").val(f.replace(/\, $/g,""))}else{this.$elementFilestyle.find(":text").val("")}return e},constructor:function(){var e=this,g="",i=e.$element.attr("id"),h=[],f="",d;if(i===""||!i){i="filestyle-"+c(".bootstrap-filestyle").length;e.$element.attr({id:i})}f='<a class="group-span-filestyle '+(e.options.input?"input-group-btn":"")+'"><label for="'+i+'" class="btn '+e.options.buttonName+" "+(e.options.size=="nr"?"":"btn-"+e.options.size)+'" '+(e.options.disabled?'disabled="true"':"")+">"+e.htmlIcon()+e.options.buttonText+"</label></a>";g=e.options.buttonBefore?f+e.htmlInput():e.htmlInput()+f;e.$elementFilestyle=c('<div class="fileinput">'+g+"</div>");e.$elementFilestyle.find(".group-span-filestyle").attr("tabindex","0").keypress(function(j){if(j.keyCode===13||j.charCode===32){e.$elementFilestyle.find("label").click();return false}});e.$element.css({position:"absolute",clip:"rect(0px 0px 0px 0px)"}).attr("tabindex","-1").after(e.$elementFilestyle);if(e.options.disabled){e.$element.attr("disabled","true")}e.$element.change(function(){var j=e.pushNameFiles();if(e.options.input==false&&e.options.badge){if(e.$elementFilestyle.find(".badge").length==0){e.$elementFilestyle.find("label").append(' <span class="badge">'+j.length+"</span>")}else{if(j.length==0){e.$elementFilestyle.find(".badge").remove()}else{e.$elementFilestyle.find(".badge").html(j.length)}}}else{e.$elementFilestyle.find(".badge").remove()}});if(window.navigator.userAgent.search(/firefox/i)>-1){e.$elementFilestyle.find("label").click(function(){e.$element.click();return false})}}};var a=c.fn.filestyle;c.fn.filestyle=function(f,g){var d="",e=this.each(function(){if(c(this).attr("type")==="file"){var j=c(this),i=j.data("filestyle"),h=c.extend({},c.fn.filestyle.defaults,f,typeof f==="object"&&f);if(!i){j.data("filestyle",(i=new b(this,h)));i.constructor()}if(typeof f==="string"){d=i[f](g)}}});if(typeof d!==undefined){return d}else{return e}};c.fn.filestyle.defaults={buttonText:"Choose file",iconName:"glyphicon-folder-open",buttonName:"btn-default",size:"nr",input:true,badge:true,icon:true,buttonBefore:false,disabled:false};c.fn.filestyle.noConflict=function(){c.fn.filestyle=a;return this};c(function(){c(".filestyle").each(function(){var e=c(this),d={input:e.attr("data-input")==="false"?false:true,icon:e.attr("data-icon")==="false"?false:true,buttonBefore:e.attr("data-buttonBefore")==="true"?true:false,disabled:e.attr("data-disabled")==="true"?true:false,size:e.attr("data-size"),buttonText:e.attr("data-buttonText"),buttonName:e.attr("data-buttonName"),iconName:e.attr("data-iconName"),badge:e.attr("data-badge")==="false"?false:true};e.filestyle(d)})})})(window.jQuery);
/*
 * Notices
 */
(function($){$.sticky=function(note,options,callback){return $.fn.sticky(note,options,callback);};$.fn.sticky=function(note,options,callback){var settings={speed:600,duplicates:true,autoclose:5000,title:"",type:""};if(!note){note=this.html();}if(options){$.extend(settings,options);}var display=true;var duplicate="no";var uniqID=Math.floor(Math.random()*99999);$(".wojo.notice").each(function(){if($(this).html()==note&&$(this).is(":visible")){duplicate="yes";if(!settings.duplicates){display=false;}}if($(this).attr("id")==uniqID){uniqID=Math.floor(Math.random()*9999999);}});if(!$("body").find("#wojo-overlay").html()){$("body").append('<div id="wojo-overlay"></div>');}if(display){$("#wojo-overlay").prepend('<div class="wojo notice '+settings.type+'" id="'+uniqID+'"></div>');$("#"+uniqID).append('<i class="icon flag"></i><div class="content"><span>'+settings.title+'</span><a class="notice-close" data-id="'+uniqID+'"title="Close"><i class="icon close"></i></a><p class="sticky-note" data-id="'+uniqID+'">'+note+"</p></div>");$("#"+uniqID).slideDown(settings.speed);display=true;}$(".wojo.notice").ready(function(){if(settings.autoclose){$("#"+uniqID).delay(settings.autoclose).fadeOut(settings.speed);}});$(".wojo.notice").click(function(){$(this).dequeue().slideUp(settings.speed);});var response={id:uniqID,duplicate:duplicate,displayed:display,type:settings.type,title:settings.title};if(callback){callback(response);}else{return(response);}};})(jQuery);
/*
 * # Semantic - Dropdown
 * http://github.com/jlukic/semantic-ui/
 */
(function(c,b,a,d){c.fn.dropdown=function(o){var m=c(this),h=c(a),j=m.selector||"",i=("ontouchstart"in a.documentElement),f=new Date().getTime(),l=[],k=arguments[0],e=(typeof k=="string"),n=[].slice.call(arguments,1),g;m.each(function(){var r=(c.isPlainObject(o))?c.extend(true,{},c.fn.dropdown.settings,o):c.extend({},c.fn.dropdown.settings),w=r.className,A=r.metadata,s=r.namespace,t=r.selector,x=r.error,E="."+s,v="module-"+s,z=c(this),C=z.find(t.item),B=z.find(t.text),y=z.find(t.input),p=z.children(t.menu),u=this,D=z.data(v),q;q={initialize:function(){q.debug("Initializing dropdown",r);q.save.defaults();q.set.selected();if(i){q.bind.touchEvents()}q.bind.mouseEvents();q.instantiate()},instantiate:function(){q.verbose("Storing instance of dropdown",q);D=q;z.data(v,q)},destroy:function(){q.verbose("Destroying previous dropdown for",z);C.off(E);z.off(E).removeData(v)},bind:{touchEvents:function(){q.debug("Touch device detected binding touch events");z.on("touchstart"+E,q.event.test.toggle);C.on("touchstart"+E,q.event.item.mouseenter).on("touchstart"+E,q.event.item.click)},mouseEvents:function(){q.verbose("Mouse detected binding mouse events");if(r.on=="click"){z.on("click"+E,q.event.test.toggle)}else{if(r.on=="hover"){z.on("mouseenter"+E,q.delay.show).on("mouseleave"+E,q.delay.hide)}else{z.on(r.on+E,q.toggle)}}C.on("mouseenter"+E,q.event.item.mouseenter).on("mouseleave"+E,q.event.item.mouseleave).on("click"+E,q.event.item.click)},intent:function(){q.verbose("Binding hide intent event to document");if(i){h.on("touchstart"+E,q.event.test.touch).on("touchmove"+E,q.event.test.touch)}h.on("click"+E,q.event.test.hide)}},unbind:{intent:function(){q.verbose("Removing hide intent event from document");if(i){h.off("touchstart"+E).off("touchmove"+E)}h.off("click"+E)}},event:{test:{toggle:function(F){if(q.determine.intent(F,q.toggle)){F.preventDefault()}},touch:function(F){q.determine.intent(F,function(){if(F.type=="touchstart"){q.timer=setTimeout(q.hide,r.delay.touch)}else{if(F.type=="touchmove"){clearTimeout(q.timer)}}});F.stopPropagation()},hide:function(F){q.determine.intent(F,q.hide)}},item:{mouseenter:function(H){var F=c(this).find(t.menu),G=c(this).siblings(t.item).children(t.menu);if(F.size()>0){clearTimeout(q.itemTimer);q.itemTimer=setTimeout(function(){q.animate.hide(false,G);q.verbose("Showing sub-menu",F);q.animate.show(false,F)},r.delay.show*2);H.preventDefault()}},mouseleave:function(G){var F=c(this).find(t.menu);if(F.size()>0){clearTimeout(q.itemTimer);q.itemTimer=setTimeout(function(){q.verbose("Hiding sub-menu",F);q.animate.hide(false,F)},r.delay.hide)}},click:function(G){var F=c(this),I=(F.data(A.text)!==d)?F.data(A.text):F.text(),H=(F.data(A.value)!==d)?F.data(A.value):I.toLowerCase(),J=function(){q.determine.selectAction(I,H);c.proxy(r.onChange,u)(H,I)};if(F.find(t.menu).size()===0){if(G.type=="touchstart"){F.one("click",J)}else{J()}}}},resetStyle:function(){c(this).removeAttr("style")}},determine:{selectAction:function(G,F){q.verbose("Determining action",r.action);if(c.isFunction(q.action[r.action])){q.verbose("Triggering preset action",r.action,G,F);q.action[r.action](G,F)}else{if(c.isFunction(r.action)){q.verbose("Triggering user action",r.action,G,F);r.action(G,F)}else{q.error(x.action,r.action)}}},intent:function(F,G){q.debug("Determining whether event occurred in dropdown",F.target);G=G||function(){};if(c(F.target).closest(p).size()===0){q.verbose("Triggering event",G);G();return true}else{q.verbose("Event occurred in dropdown, canceling callback");return false}}},action:{nothing:function(){},hide:function(){q.hide()},activate:function(G,F){F=(F!==d)?F:G;q.set.selected(F);q.set.value(F);q.hide()},auto:function(G,F){F=(F!==d)?F:G;q.set.selected(F);q.set.value(F);q.hide()},changeText:function(G,F){F=(F!==d)?F:G;q.set.selected(F);q.hide()},updateForm:function(G,F){F=(F!==d)?F:G;q.set.selected(F);q.set.value(F);q.hide()}},get:{text:function(){return B.text()},value:function(){return(y.size()>0)?y.val():z.data(A.value)},item:function(G){var F=false;G=(G!==d)?G:(q.get.value()!==d)?q.get.value():q.get.text();if(G!==d){C.each(function(){var H=c(this),J=(H.data(A.text)!==d)?H.data(A.text):H.text(),I=(H.data(A.value)!==d)?H.data(A.value):J.toLowerCase();if(I==G){F=c(this)}else{if(!F&&J==G){F=c(this)}}})}else{G=q.get.text()}return F||false}},restore:{defaults:function(){q.restore.defaultText();q.restore.defaultValue()},defaultText:function(){var F=z.data(A.defaultText);q.debug("Restoring default text",F);q.set.text(F)},defaultValue:function(){var F=z.data(A.defaultValue);if(F!==d){q.debug("Restoring default value",F);q.set.selected(F);q.set.value(F)}}},save:{defaults:function(){q.save.defaultText();q.save.defaultValue()},defaultValue:function(){z.data(A.defaultValue,q.get.value())},defaultText:function(){z.data(A.defaultText,B.text())}},set:{text:function(F){q.debug("Changing text",F,B);B.removeClass(w.placeholder);B.text(F)},value:function(F){q.debug("Adding selected value to hidden input",F,y);if(y.size()>0){y.val(F)}else{z.data(A.value,F)}},active:function(){z.addClass(w.active)},visible:function(){z.addClass(w.visible)},selected:function(G){var F=q.get.item(G),H;if(F){q.debug("Setting selected menu item to",F);H=(F.data(A.text)!==d)?F.data(A.text):F.text();C.removeClass(w.active);F.addClass(w.active);q.set.text(H)}}},remove:{active:function(){z.removeClass(w.active)},visible:function(){z.removeClass(w.visible)}},is:{selection:function(){return z.hasClass(w.selection)},animated:function(F){return(F)?F.is(":animated"):p.is(":animated")},visible:function(F){return(F)?F.is(":visible"):p.is(":visible")},hidden:function(F){return(F)?F.is(":not(:visible)"):p.is(":not(:visible)")}},can:{click:function(){return(i||r.on=="click")},show:function(){return!z.hasClass(w.disabled)}},animate:{show:function(H,G){var F=G||p;H=H||function(){};if(q.is.hidden(F)){q.verbose("Doing menu show animation",F);if(r.transition=="none"){H()}else{if(r.transition=="slide down"){F.hide().clearQueue().children().clearQueue().css("opacity",0).delay(50).animate({opacity:1},r.duration,"easeOutQuad",q.event.resetStyle).end().slideDown(100,"easeOutQuad",function(){c.proxy(q.event.resetStyle,this)();H()})}else{if(r.transition=="fade"){F.hide().clearQueue().fadeIn(r.duration,function(){c.proxy(q.event.resetStyle,this)();H()})}else{q.error(x.transition,r.transition)}}}}},hide:function(H,G){var F=G||p;H=H||function(){};if(q.is.visible(F)){q.verbose("Doing menu hide animation",F);if(r.transition=="none"){H()}else{if(r.transition=="slide down"){F.show().clearQueue().children().clearQueue().css("opacity",1).animate({opacity:0},100,"easeOutQuad",q.event.resetStyle).end().delay(50).slideUp(100,"easeOutQuad",function(){c.proxy(q.event.resetStyle,this)();H()})}else{if(r.transition=="fade"){F.show().clearQueue().fadeOut(150,function(){c.proxy(q.event.resetStyle,this)();H()})}else{q.error(x.transition)}}}}}},show:function(){q.debug("Checking if dropdown can show");if(q.is.hidden()){q.hideOthers();q.set.active();q.animate.show(function(){if(q.can.click()){q.bind.intent()}q.set.visible()});c.proxy(r.onShow,u)()}},hide:function(){if(!q.is.animated()&&q.is.visible()){q.debug("Hiding dropdown");if(q.can.click()){q.unbind.intent()}q.remove.active();q.animate.hide(q.remove.visible);c.proxy(r.onHide,u)()}},delay:{show:function(){q.verbose("Delaying show event to ensure user intent");clearTimeout(q.timer);q.timer=setTimeout(q.show,r.delay.show)},hide:function(){q.verbose("Delaying hide event to ensure user intent");clearTimeout(q.timer);q.timer=setTimeout(q.hide,r.delay.hide)}},hideOthers:function(){q.verbose("Finding other dropdowns to hide");m.not(z).has(t.menu+":visible").dropdown("hide")},toggle:function(){q.verbose("Toggling menu visibility");if(q.is.hidden()){q.show()}else{q.hide()}},setting:function(F,G){if(c.isPlainObject(F)){c.extend(true,r,F)}else{if(G!==d){r[F]=G}else{return r[F]}}},internal:function(F,G){if(c.isPlainObject(F)){c.extend(true,q,F)}else{if(G!==d){q[F]=G}else{return q[F]}}},debug:function(){if(r.debug){if(r.performance){q.performance.log(arguments)}else{q.debug=Function.prototype.bind.call(console.info,console,r.name+":");q.debug.apply(console,arguments)}}},verbose:function(){if(r.verbose&&r.debug){if(r.performance){q.performance.log(arguments)}else{q.verbose=Function.prototype.bind.call(console.info,console,r.name+":");q.verbose.apply(console,arguments)}}},error:function(){q.error=Function.prototype.bind.call(console.error,console,r.name+":");q.error.apply(console,arguments)},performance:{log:function(H){var G,I,F;if(r.performance){G=new Date().getTime();F=f||G;I=G-F;f=G;l.push({Element:u,Name:H[0],Arguments:[].slice.call(H,1)||"","Execution Time":I})}clearTimeout(q.performance.timer);q.performance.timer=setTimeout(q.performance.display,100)},display:function(){var G=r.name+":",F=0;f=false;clearTimeout(q.performance.timer);c.each(l,function(H,I){F+=I["Execution Time"]});G+=" "+F+"ms";if(j){G+=" '"+j+"'"}if((console.group!==d||console.table!==d)&&l.length>0){console.groupCollapsed(G);if(console.table){console.table(l)}else{c.each(l,function(H,I){console.log(I.Name+": "+I["Execution Time"]+"ms")})}console.groupEnd()}l=[]}},invoke:function(K,G,I){var H=D,L,J,F;G=G||n;I=u||I;if(typeof K=="string"&&H!==d){K=K.split(/[\. ]/);L=K.length-1;c.each(K,function(O,N){var M=(O!=L)?N+K[O+1].charAt(0).toUpperCase()+K[O+1].slice(1):K;if(c.isPlainObject(H[M])&&(O!=L)){H=H[M]}else{if(H[M]!==d){J=H[M];return false}else{if(c.isPlainObject(H[N])&&(O!=L)){H=H[N]}else{if(H[N]!==d){J=H[N];return false}else{q.error(x.method,K);return false}}}}})}if(c.isFunction(J)){F=J.apply(I,G)}else{if(J!==d){F=J}}if(c.isArray(g)){g.push(F)}else{if(g!==d){g=[g,F]}else{if(F!==d){g=F}}}return J}};if(e){if(D===d){q.initialize()}q.invoke(k)}else{if(D!==d){q.destroy()}q.initialize()}});return(g)?g:this};c.fn.dropdown.settings={name:"Dropdown",namespace:"dropdown",verbose:false,debug:false,performance:true,on:"click",action:"activate",delay:{show:200,hide:300,touch:50},transition:"slide down",duration:250,onChange:function(e,f){},onShow:function(){},onHide:function(){},error:{action:"You called a dropdown action that was not defined",method:"The method you called is not defined.",transition:"The requested transition was not found"},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",text:"text",value:"value"},selector:{menu:".menu",item:".menu > .item",text:"> .text",input:'> input[type="hidden"]'},className:{active:"active",placeholder:"default",disabled:"disabled",visible:"visible",selection:"selection"}};c.extend(c.easing,{easeOutQuad:function(f,g,e,i,h){return-i*(g/=h)*(g-2)+e}})})(jQuery,window,document);
/**!
 * easyPieChart
 * Lightweight plugin to render simple, animated and retina optimized pie charts
 **/
!function(a,b){"object"==typeof exports?module.exports=b(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],b):b(a.jQuery)}(this,function(a){var b=function(a,b){var c,d=document.createElement("canvas");a.appendChild(d),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(d);var e=d.getContext("2d");d.width=d.height=b.size;var f=1;window.devicePixelRatio>1&&(f=window.devicePixelRatio,d.style.width=d.style.height=[b.size,"px"].join(""),d.width=d.height=b.size*f,e.scale(f,f)),e.translate(b.size/2,b.size/2),e.rotate((-0.5+b.rotate/180)*Math.PI);var g=(b.size-b.lineWidth)/2;b.scaleColor&&b.scaleLength&&(g-=b.scaleLength+2),Date.now=Date.now||function(){return+new Date};var h=function(a,b,c){c=Math.min(Math.max(-1,c||0),1);var d=0>=c?!0:!1;e.beginPath(),e.arc(0,0,g,0,2*Math.PI*c,d),e.strokeStyle=a,e.lineWidth=b,e.stroke()},i=function(){var a,c;e.lineWidth=1,e.fillStyle=b.scaleColor,e.save();for(var d=24;d>0;--d)d%6===0?(c=b.scaleLength,a=0):(c=.6*b.scaleLength,a=b.scaleLength-c),e.fillRect(-b.size/2+a,0,c,1),e.rotate(Math.PI/12);e.restore()},j=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),k=function(){b.scaleColor&&i(),b.trackColor&&h(b.trackColor,b.lineWidth,1)};this.getCanvas=function(){return d},this.getCtx=function(){return e},this.clear=function(){e.clearRect(b.size/-2,b.size/-2,b.size,b.size)},this.draw=function(a){b.scaleColor||b.trackColor?e.getImageData&&e.putImageData?c?e.putImageData(c,0,0):(k(),c=e.getImageData(0,0,b.size*f,b.size*f)):(this.clear(),k()):this.clear(),e.lineCap=b.lineCap;var d;d="function"==typeof b.barColor?b.barColor(a):b.barColor,h(d,b.lineWidth,a/100)}.bind(this),this.animate=function(a,c){var d=Date.now();b.onStart(a,c);var e=function(){var f=Math.min(Date.now()-d,b.animate.duration),g=b.easing(this,f,a,c-a,b.animate.duration);this.draw(g),b.onStep(a,c,g),f>=b.animate.duration?b.onStop(a,c):j(e)}.bind(this);j(e)}.bind(this)},c=function(a,c){var d={barColor:"#ef1e25",trackColor:"#f5f5f5",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(a,b,c,d,e){return b/=e/2,1>b?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},onStart:function(){},onStep:function(){},onStop:function(){}};if("undefined"!=typeof b)d.renderer=b;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");d.renderer=SVGRenderer}var e={},f=0,g=function(){this.el=a,this.options=e;for(var b in d)d.hasOwnProperty(b)&&(e[b]=c&&"undefined"!=typeof c[b]?c[b]:d[b],"function"==typeof e[b]&&(e[b]=e[b].bind(this)));e.easing="string"==typeof e.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[e.easing])?jQuery.easing[e.easing]:d.easing,"number"==typeof e.animate&&(e.animate={duration:e.animate,enabled:!0}),"boolean"!=typeof e.animate||e.animate||(e.animate={duration:1e3,enabled:e.animate}),this.renderer=new e.renderer(a,e),this.renderer.draw(f),a.dataset&&a.dataset.percent?this.update(parseFloat(a.dataset.percent)):a.getAttribute&&a.getAttribute("data-percent")&&this.update(parseFloat(a.getAttribute("data-percent")))}.bind(this);this.update=function(a){return a=parseFloat(a),e.animate.enabled?this.renderer.animate(f,a):this.renderer.draw(a),f=a,this}.bind(this),this.disableAnimation=function(){return e.animate.enabled=!1,this},this.enableAnimation=function(){return e.animate.enabled=!0,this},g()};a.fn.easyPieChart=function(b){return this.each(function(){var d;a.data(this,"easyPieChart")||(d=a.extend({},b,a(this).data()),a.data(this,"easyPieChart",new c(this,d)))})}});
/* 
 * Selecter v3.2.3 - 2014-11-25 
 * A jQuery plugin for replacing default select elements. Part of the Formstone Library. 
 * http://formstone.it/selecter/ 
 * 
 * Copyright 2014 Ben Plum; MIT Licensed 
 */
;(function($,window){"use strict";var guid=0,userAgent=(window.navigator.userAgent||window.navigator.vendor||window.opera),isFirefox=/Firefox/i.test(userAgent),isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(userAgent),isFirefoxMobile=(isFirefox&&isMobile),$body=null;var options={callback:$.noop,cover:false,customClass:"",label:"",external:false,links:false,mobile:false,trim:0};var pub={defaults:function(opts){options=$.extend(options,opts||{});return(typeof this==='object')?$(this):true},disable:function(option){return $(this).each(function(i,input){var data=$(input).parent(".selecter").data("selecter");if(data){if(typeof option!=="undefined"){var index=data.$items.index(data.$items.filter("[data-value="+option+"]"));data.$items.eq(index).addClass("disabled");data.$options.eq(index).prop("disabled",true)}else{if(data.$selecter.hasClass("open")){data.$selecter.find(".selecter-selected").trigger("click.selecter")}data.$selecter.addClass("disabled");data.$select.prop("disabled",true)}}})},destroy:function(){return $(this).each(function(i,input){var data=$(input).parent(".selecter").data("selecter");if(data){if(data.$selecter.hasClass("open")){data.$selecter.find(".selecter-selected").trigger("click.selecter")}if($.fn.scroller!==undefined){data.$selecter.find(".selecter-options").scroller("destroy")}data.$select[0].tabIndex=data.tabIndex;data.$select.find(".selecter-placeholder").remove();data.$selected.remove();data.$itemsWrapper.remove();data.$selecter.off(".selecter");data.$select.off(".selecter").removeClass("selecter-element").show().unwrap()}})},enable:function(option){return $(this).each(function(i,input){var data=$(input).parent(".selecter").data("selecter");if(data){if(typeof option!=="undefined"){var index=data.$items.index(data.$items.filter("[data-value="+option+"]"));data.$items.eq(index).removeClass("disabled");data.$options.eq(index).prop("disabled",false)}else{data.$selecter.removeClass("disabled");data.$select.prop("disabled",false)}}})},refresh:function(){return pub.update.apply($(this))},update:function(){return $(this).each(function(i,input){var data=$(input).parent(".selecter").data("selecter");if(data){var index=data.index;data.$allOptions=data.$select.find("option, optgroup");data.$options=data.$allOptions.filter("option");data.index=-1;index=data.$options.index(data.$options.filter(":selected"));_buildOptions(data);if(!data.multiple){_update(index,data)}}})}};function _init(opts){opts=$.extend({},options,opts||{});if($body===null){$body=$("body")}var $items=$(this);for(var i=0,count=$items.length;i<count;i++){_build($items.eq(i),opts)}return $items}function _build($select,opts){if(!$select.hasClass("selecter-element")){opts=$.extend({},opts,$select.data("selecter-options"));opts.multiple=$select.prop("multiple");opts.disabled=$select.is(":disabled");if(opts.external){opts.links=true}var $originalOption=$select.find("[selected]").not(":disabled"),originalOptionIndex=$select.find("option").index($originalOption);if(!opts.multiple&&opts.label!==""){$select.prepend('<option value="" class="selecter-placeholder" selected>'+opts.label+'</option>');if(originalOptionIndex>-1){originalOptionIndex++}}else{opts.label=""}var $allOptions=$select.find("option, optgroup"),$options=$allOptions.filter("option");if(!$originalOption.length){$originalOption=$options.eq(0)}var originalIndex=(originalOptionIndex>-1)?originalOptionIndex:0,originalLabel=(opts.label!=="")?opts.label:$originalOption.text(),wrapperTag="div";opts.tabIndex=$select[0].tabIndex;$select[0].tabIndex=-1;var inner="",wrapper="";wrapper+='<'+wrapperTag+' class="selecter '+opts.customClass;if(isMobile){wrapper+=' mobile'}else if(opts.cover){wrapper+=' cover'}if(opts.multiple){wrapper+=' multiple'}else{wrapper+=' closed'}if(opts.disabled){wrapper+=' disabled'}wrapper+='" tabindex="'+opts.tabIndex+'">';wrapper+='</'+wrapperTag+'>';if(!opts.multiple){inner+='<span class="selecter-selected">';inner+=$('<span></span>').text(_trim(originalLabel,opts.trim)).html();inner+='</span>'}inner+='<div class="selecter-options">';inner+='</div>';$select.addClass("selecter-element").wrap(wrapper).after(inner);var $selecter=$select.parent(".selecter"),data=$.extend({$select:$select,$allOptions:$allOptions,$options:$options,$selecter:$selecter,$selected:$selecter.find(".selecter-selected"),$itemsWrapper:$selecter.find(".selecter-options"),index:-1,guid:guid++},opts);_buildOptions(data);if(!data.multiple){_update(originalIndex,data)}if($.fn.scroller!==undefined){data.$itemsWrapper.scroller()}data.$selecter.on("touchstart.selecter",".selecter-selected",data,_onTouchStart).on("click.selecter",".selecter-selected",data,_onClick).on("click.selecter",".selecter-item",data,_onSelect).on("close.selecter",data,_onClose).data("selecter",data);data.$select.on("change.selecter",data,_onChange);if(!isMobile){data.$selecter.on("focusin.selecter",data,_onFocus).on("blur.selecter",data,_onBlur);data.$select.on("focusin.selecter",data,function(e){e.data.$selecter.trigger("focus")})}}}function _buildOptions(data){var html='',itemTag=(data.links)?"a":"span",j=0;for(var i=0,count=data.$allOptions.length;i<count;i++){var $op=data.$allOptions.eq(i);if($op[0].tagName==="OPTGROUP"){html+='<span class="selecter-group';if($op.is(":disabled")){html+=' disabled'}html+='">'+$op.attr("label")+'</span>'}else{var opVal=$op.val();if(!$op.attr("value")){$op.attr("value",opVal)}html+='<'+itemTag+' class="selecter-item';if($op.hasClass('selecter-placeholder')){html+=' placeholder'}if($op.is(':selected')){html+=' selected'}if($op.is(":disabled")){html+=' disabled'}html+='" ';if(data.links){html+='href="'+opVal+'"'}else{html+='data-value="'+opVal+'"'}html+='>'+$("<span></span>").text(_trim($op.text(),data.trim)).html()+'</'+itemTag+'>';j++}}data.$itemsWrapper.html(html);data.$items=data.$selecter.find(".selecter-item")}function _onTouchStart(e){e.stopPropagation();var data=e.data;data.touchStartEvent=e.originalEvent;data.touchStartX=data.touchStartEvent.touches[0].clientX;data.touchStartY=data.touchStartEvent.touches[0].clientY;data.$selecter.on("touchmove.selecter",".selecter-selected",data,_onTouchMove).on("touchend.selecter",".selecter-selected",data,_onTouchEnd)}function _onTouchMove(e){var data=e.data,oe=e.originalEvent;if(Math.abs(oe.touches[0].clientX-data.touchStartX)>10||Math.abs(oe.touches[0].clientY-data.touchStartY)>10){data.$selecter.off("touchmove.selecter touchend.selecter")}}function _onTouchEnd(e){var data=e.data;data.touchStartEvent.preventDefault();data.$selecter.off("touchmove.selecter touchend.selecter");_onClick(e)}function _onClick(e){e.preventDefault();e.stopPropagation();var data=e.data;if(!data.$select.is(":disabled")){$(".selecter").not(data.$selecter).trigger("close.selecter",[data]);if(!data.mobile&&isMobile&&!isFirefoxMobile){var el=data.$select[0];if(window.document.createEvent){var evt=window.document.createEvent("MouseEvents");evt.initMouseEvent("mousedown",false,true,window,0,0,0,0,0,false,false,false,false,0,null);el.dispatchEvent(evt)}else if(el.fireEvent){el.fireEvent("onmousedown")}}else{if(data.$selecter.hasClass("closed")){_onOpen(e)}else if(data.$selecter.hasClass("open")){_onClose(e)}}}}function _onOpen(e){e.preventDefault();e.stopPropagation();var data=e.data;if(!data.$selecter.hasClass("open")){var offset=data.$selecter.offset(),bodyHeight=$body.outerHeight(),optionsHeight=data.$itemsWrapper.outerHeight(true),selectedOffset=(data.index>=0)?data.$items.eq(data.index).position():{left:0,top:0};if(offset.top+optionsHeight>bodyHeight){data.$selecter.addClass("bottom")}data.$itemsWrapper.show();data.$selecter.removeClass("closed").addClass("open");$body.on("click.selecter-"+data.guid,":not(.selecter-options)",data,_onCloseHelper);_scrollOptions(data)}}function _onCloseHelper(e){e.preventDefault();e.stopPropagation();if($(e.currentTarget).parents(".selecter").length===0){_onClose(e)}}function _onClose(e){e.preventDefault();e.stopPropagation();var data=e.data;if(data.$selecter.hasClass("open")){data.$itemsWrapper.hide();data.$selecter.removeClass("open bottom").addClass("closed");$body.off(".selecter-"+data.guid)}}function _onSelect(e){e.preventDefault();e.stopPropagation();var $target=$(this),data=e.data;if(!data.$select.is(":disabled")){if(data.$itemsWrapper.is(":visible")){var index=data.$items.index($target);if(index!==data.index){_update(index,data);_handleChange(data)}}if(!data.multiple){_onClose(e)}}}function _onChange(e,internal){var $target=$(this),data=e.data;if(!internal&&!data.multiple){var index=data.$options.index(data.$options.filter("[value='"+_escape($target.val())+"']"));_update(index,data);_handleChange(data)}}function _onFocus(e){e.preventDefault();e.stopPropagation();var data=e.data;if(!data.$select.is(":disabled")&&!data.multiple){data.$selecter.addClass("focus").on("keydown.selecter-"+data.guid,data,_onKeypress);$(".selecter").not(data.$selecter).trigger("close.selecter",[data])}}function _onBlur(e,internal,two){e.preventDefault();e.stopPropagation();var data=e.data;data.$selecter.removeClass("focus").off("keydown.selecter-"+data.guid);$(".selecter").not(data.$selecter).trigger("close.selecter",[data])}function _onKeypress(e){var data=e.data;if(e.keyCode===13){if(data.$selecter.hasClass("open")){_onClose(e);_update(data.index,data)}_handleChange(data)}else if(e.keyCode!==9&&(!e.metaKey&&!e.altKey&&!e.ctrlKey&&!e.shiftKey)){e.preventDefault();e.stopPropagation();var total=data.$items.length-1,index=(data.index<0)?0:data.index;if($.inArray(e.keyCode,(isFirefox)?[38,40,37,39]:[38,40])>-1){index=index+((e.keyCode===38||(isFirefox&&e.keyCode===37))?-1:1);if(index<0){index=0}if(index>total){index=total}}else{var input=String.fromCharCode(e.keyCode).toUpperCase(),letter,i;for(i=data.index+1;i<=total;i++){letter=data.$options.eq(i).text().charAt(0).toUpperCase();if(letter===input){index=i;break}}if(index<0||index===data.index){for(i=0;i<=total;i++){letter=data.$options.eq(i).text().charAt(0).toUpperCase();if(letter===input){index=i;break}}}}if(index>=0){_update(index,data);_scrollOptions(data)}}}function _update(index,data){var $item=data.$items.eq(index),isSelected=$item.hasClass("selected"),isDisabled=$item.hasClass("disabled");if(!isDisabled){if(data.multiple){if(isSelected){data.$options.eq(index).prop("selected",null);$item.removeClass("selected")}else{data.$options.eq(index).prop("selected",true);$item.addClass("selected")}}else if(index>-1&&index<data.$items.length){var newLabel=$item.html(),newValue=$item.data("value");data.$selected.html(newLabel).removeClass('placeholder');data.$items.filter(".selected").removeClass("selected");data.$select[0].selectedIndex=index;$item.addClass("selected");data.index=index}else if(data.label!==""){data.$selected.html(data.label)}}}function _scrollOptions(data){var $selected=data.$items.eq(data.index),selectedOffset=(data.index>=0&&!$selected.hasClass("placeholder"))?$selected.position():{left:0,top:0};if($.fn.scroller!==undefined){data.$itemsWrapper.scroller("scroll",(data.$itemsWrapper.find(".scroller-content").scrollTop()+selectedOffset.top),0).scroller("reset")}else{data.$itemsWrapper.scrollTop(data.$itemsWrapper.scrollTop()+selectedOffset.top)}}function _handleChange(data){if(data.links){_launch(data)}else{data.callback.call(data.$selecter,data.$select.val(),data.index);data.$select.trigger("change",[true])}}function _launch(data){var url=data.$select.val();if(data.external){window.open(url)}else{window.location.href=url}}function _trim(text,length){if(length===0){return text}else{if(text.length>length){return text.substring(0,length)+"..."}else{return text}}}function _escape(text){return(typeof text==="string")?text.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,'\\$1'):text}$.fn.selecter=function(method){if(pub[method]){return pub[method].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof method==='object'||!method){return _init.apply(this,arguments)}return this};$.selecter=function(method){if(method==="defaults"){pub.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}})(jQuery,window);
/* 
 * Scroller v3.1.2 - 2014-12-08 
 * A jQuery plugin for replacing default browser scrollbars. Part of the Formstone Library. 
 * http://formstone.it/scroller/ 
 * 
 * Copyright 2014 Ben Plum; MIT Licensed 
 */
!function(a,b){"use strict";function c(b){b=a.extend({},q,b||{}),null===n&&(n=a("body"));for(var c=a(this),e=0,f=c.length;f>e;e++)d(c.eq(e),b);return c}function d(c,d){if(!c.hasClass(o.base)){d=a.extend({},d,c.data(m+"-options"));var h="";h+='<div class="'+o.bar+'">',h+='<div class="'+o.track+'">',h+='<div class="'+o.handle+'">',h+="</div></div></div>",d.paddingRight=parseInt(c.css("padding-right"),10),d.paddingBottom=parseInt(c.css("padding-bottom"),10),c.addClass([o.base,d.customClass].join(" ")).wrapInner('<div class="'+o.content+'" />').prepend(h),d.horizontal&&c.addClass(o.isHorizontal);var i=a.extend({$scroller:c,$content:c.find(l(o.content)),$bar:c.find(l(o.bar)),$track:c.find(l(o.track)),$handle:c.find(l(o.handle))},d);i.trackMargin=parseInt(i.trackMargin,10),i.$content.on("scroll."+m,i,e),i.$scroller.on(p.start,l(o.track),i,f).on(p.start,l(o.handle),i,g).data(m,i),r.reset.apply(c),a(b).one("load",function(){r.reset.apply(c)})}}function e(a){a.preventDefault(),a.stopPropagation();var b=a.data,c={};if(b.horizontal){var d=b.$content.scrollLeft();0>d&&(d=0);var e=d/b.scrollRatio;e>b.handleBounds.right&&(e=b.handleBounds.right),c={left:e}}else{var f=b.$content.scrollTop();0>f&&(f=0);var g=f/b.scrollRatio;g>b.handleBounds.bottom&&(g=b.handleBounds.bottom),c={top:g}}b.$handle.css(c)}function f(a){a.preventDefault(),a.stopPropagation();var b=a.data,c=a.originalEvent,d=b.$track.offset(),e="undefined"!=typeof c.targetTouches?c.targetTouches[0]:null,f=e?e.pageX:a.clientX,g=e?e.pageY:a.clientY;b.horizontal?(b.mouseStart=f,b.handleLeft=f-d.left-b.handleWidth/2,k(b,b.handleLeft)):(b.mouseStart=g,b.handleTop=g-d.top-b.handleHeight/2,k(b,b.handleTop)),h(b)}function g(a){a.preventDefault(),a.stopPropagation();var b=a.data,c=a.originalEvent,d="undefined"!=typeof c.targetTouches?c.targetTouches[0]:null,e=d?d.pageX:a.clientX,f=d?d.pageY:a.clientY;b.horizontal?(b.mouseStart=e,b.handleLeft=parseInt(b.$handle.css("left"),10)):(b.mouseStart=f,b.handleTop=parseInt(b.$handle.css("top"),10)),h(b)}function h(a){a.$content.off(l(m)),n.on(p.move,a,i).on(p.end,a,j)}function i(a){a.preventDefault(),a.stopPropagation();var b=a.data,c=a.originalEvent,d=0,e=0,f="undefined"!=typeof c.targetTouches?c.targetTouches[0]:null,g=f?f.pageX:a.clientX,h=f?f.pageY:a.clientY;b.horizontal?(e=b.mouseStart-g,d=b.handleLeft-e):(e=b.mouseStart-h,d=b.handleTop-e),k(b,d)}function j(a){a.preventDefault(),a.stopPropagation();var b=a.data;b.$content.on("scroll.scroller",b,e),n.off(".scroller")}function k(a,b){var c={};if(a.horizontal){b<a.handleBounds.left&&(b=a.handleBounds.left),b>a.handleBounds.right&&(b=a.handleBounds.right);var d=Math.round(b*a.scrollRatio);c={left:b},a.$content.scrollLeft(d)}else{b<a.handleBounds.top&&(b=a.handleBounds.top),b>a.handleBounds.bottom&&(b=a.handleBounds.bottom);var e=Math.round(b*a.scrollRatio);c={top:b},a.$content.scrollTop(e)}a.$handle.css(c)}function l(a){return"."+a}var m="scroller",n=null,o={base:"scroller",content:"scroller-content",bar:"scroller-bar",track:"scroller-track",handle:"scroller-handle",isHorizontal:"scroller-horizontal",isSetup:"scroller-setup",isActive:"scroller-active"},p={start:"touchstart."+m+" mousedown."+m,move:"touchmove."+m+" mousemove."+m,end:"touchend."+m+" mouseup."+m},q={customClass:"",duration:0,handleSize:0,horizontal:!1,trackMargin:0},r={defaults:function(b){return q=a.extend(q,b||{}),"object"==typeof this?a(this):!0},destroy:function(){return a(this).each(function(b,c){var d=a(c).data(m);d&&(d.$scroller.removeClass([d.customClass,o.base,o.isActive].join(" ")),d.$bar.remove(),d.$content.contents().unwrap(),d.$content.off(l(m)),d.$scroller.off(l(m)).removeData(m))})},scroll:function(b,c){return a(this).each(function(){var d=a(this).data(m),e=c||q.duration;if("number"!=typeof b){var f=a(b);if(f.length>0){var g=f.position();b=d.horizontal?g.left+d.$content.scrollLeft():g.top+d.$content.scrollTop()}else b=d.$content.scrollTop()}var h=d.horizontal?{scrollLeft:b}:{scrollTop:b};d.$content.stop().animate(h,e)})},reset:function(){return a(this).each(function(){var b=a(this).data(m);if(b){b.$scroller.addClass(o.isSetup);var c={},d={},e={},f=0,g=!0;if(b.horizontal){b.barHeight=b.$content[0].offsetHeight-b.$content[0].clientHeight,b.frameWidth=b.$content.outerWidth(),b.trackWidth=b.frameWidth-2*b.trackMargin,b.scrollWidth=b.$content[0].scrollWidth,b.ratio=b.trackWidth/b.scrollWidth,b.trackRatio=b.trackWidth/b.scrollWidth,b.handleWidth=b.handleSize>0?b.handleSize:b.trackWidth*b.trackRatio,b.scrollRatio=(b.scrollWidth-b.frameWidth)/(b.trackWidth-b.handleWidth),b.handleBounds={left:0,right:b.trackWidth-b.handleWidth},b.$content.css({paddingBottom:b.barHeight+b.paddingBottom});var h=b.$content.scrollLeft();f=h*b.ratio,g=b.scrollWidth<=b.frameWidth,c={width:b.frameWidth},d={width:b.trackWidth,marginLeft:b.trackMargin,marginRight:b.trackMargin},e={width:b.handleWidth}}else{b.barWidth=b.$content[0].offsetWidth-b.$content[0].clientWidth,b.frameHeight=b.$content.outerHeight(),b.trackHeight=b.frameHeight-2*b.trackMargin,b.scrollHeight=b.$content[0].scrollHeight,b.ratio=b.trackHeight/b.scrollHeight,b.trackRatio=b.trackHeight/b.scrollHeight,b.handleHeight=b.handleSize>0?b.handleSize:b.trackHeight*b.trackRatio,b.scrollRatio=(b.scrollHeight-b.frameHeight)/(b.trackHeight-b.handleHeight),b.handleBounds={top:0,bottom:b.trackHeight-b.handleHeight};var i=b.$content.scrollTop();f=i*b.ratio,g=b.scrollHeight<=b.frameHeight,c={height:b.frameHeight},d={height:b.trackHeight,marginBottom:b.trackMargin,marginTop:b.trackMargin},e={height:b.handleHeight}}g?b.$scroller.removeClass(o.isActive):b.$scroller.addClass(o.isActive),b.$bar.css(c),b.$track.css(d),b.$handle.css(e),k(b,f),b.$scroller.removeClass(o.isSetup)}})}};a.fn[m]=function(a){return r[a]?r[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?this:c.apply(this,arguments)},a[m]=function(a){"defaults"===a&&r.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery);
// Ezdz [izy-dizy]
// Licensed under the MIT license.
// http://github.com/jaysalvat/ezdz/
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else{if(typeof exports==="object"){factory(require("jquery"))}else{factory(jQuery)}}}(function($){var defaults={className:"",text:"Drop a file",previewImage:true,value:null,classes:{main:"ezdz-dropzone",enter:"ezdz-enter",reject:"ezdz-reject",accept:"ezdz-accept",focus:"ezdz-focus"},validators:{maxSize:null,width:null,maxWidth:null,minWidth:null,height:null,maxHeight:null,minHeight:null},init:function(){},enter:function(){},leave:function(){},reject:function(){},accept:function(){},format:function(filename){return filename}};$.ezdz=function(element,options){this.settings=$.extend(true,{},defaults,$.ezdz.defaults,options);this.$input=$(element);var self=this,settings=self.settings,$input=self.$input;if(!$input.is('input[type="file"]')){return}if(!$.ezdz.isBrowserCompatible()){return}var init=function(){var $ezdz,$container,value;$container=$('<div class="'+settings.classes.main+' '+$input.data('class')+'" />').on("dragover.ezdz",function(){$(this).addClass(settings.classes.enter);if($.isFunction(settings.enter)){settings.enter.apply(this)}}).on("dragleave.ezdz",function(){$(this).removeClass(settings.classes.enter);if($.isFunction(settings.leaved)){settings.leaved.apply(this)}}).addClass(settings.className);$input.wrap($container).before("<div>"+settings.text+"</div>");$ezdz=$input.parent("."+settings.classes.main);value=settings.value||$input.data("value");if($input.data("exist")){basename=$input.data("exist").replace(/\\/g,"/").replace(/.*\//,""),formatted=settings.format(basename);var img=new Image();img.src=$input.data("exist");img.onload=function(){$ezdz.find("div").html($(img).fadeIn())};img.onerror=function(){$ezdz.find("div").html("<span>"+formatted+"</span>")};$ezdz.addClass(settings.classes.accept)}if(value){self.preview(value)}if($.isFunction(settings.init)){settings.init.apply($input,[value])}$input.on("focus.ezdz",function(){$ezdz.addClass(settings.classes.focus)}).on("blur.ezdz",function(){$ezdz.removeClass(settings.classes.focus)}).on("change.ezdz",function(){var file=this.files[0];if(!file){return}var basename=file.name.replace(/\\/g,"/").replace(/.*\//,""),extension=file.name.split(".").pop(),formatted=settings.format(basename);file.extension=extension;var allowed=$input.attr("accept"),accepted=false,valid=true,errors={mimeType:false,maxSize:false,width:false,minWidth:false,maxWidth:false,height:false,minHeight:false,maxHeight:false};if(allowed){var types=allowed.split(/[,|]/);$.each(types,function(i,type){type=$.trim(type);if(file.type===type){accepted=true;return false}if(type.indexOf("/*")!==false){var a=type.replace("/*",""),b=file.type.replace(/(\/.*)$/g,"");if(a===b){accepted=true;return false}}});if(accepted===false){errors.mimeType=true}}else{accepted=true}$ezdz.removeClass(settings.classes.reject+" "+settings.classes.accept);if(accepted!==true){$input.val("");$ezdz.addClass(settings.classes.reject);if($.isFunction(settings.reject)){settings.reject.apply($input,[file,errors])}return false}var reader=new FileReader(file);reader.readAsDataURL(file);reader.onload=function(e){var img=new Image(),isImage;file.data=e.target.result;img.src=file.data;setTimeout(function(){isImage=(img.width&&img.height);if(settings.validators.maxSize&&file.size>settings.validators.maxSize){valid=false;errors.maxSize=true}if(isImage){file.width=img.width;file.height=img.height;if(settings.validators.width&&img.width!==settings.validators.width){valid=false;errors.width=true}if(settings.validators.maxWidth&&img.width>settings.validators.maxWidth){valid=false;errors.maxWidth=true}if(settings.validators.minWidth&&img.width<settings.validators.minWidth){valid=false;errors.minWidth=true}if(settings.validators.height&&img.height!==settings.validators.height){valid=false;errors.height=true}if(settings.validators.maxHeight&&img.height>settings.validators.maxHeight){valid=false;errors.maxHeight=true}if(settings.validators.minHeight&&img.height<settings.validators.minHeight){valid=false;errors.minHeight=true}}if(valid===true){$ezdz.find("img").remove();if(isImage&&settings.previewImage===true){$ezdz.find("div").html($(img).fadeIn())}else{$ezdz.find("div").html("<span>"+formatted+"</span>")}$ezdz.addClass(settings.classes.accept);if($.isFunction(settings.accept)){settings.accept.apply($input,[file])}}else{$input.val("");$ezdz.addClass(settings.classes.reject);if($.isFunction(settings.reject)){settings.reject.apply($input,[file,errors])}}},250)}})};init()};$.ezdz.prototype.preview=function(path,callback){var settings=this.settings,$input=this.$input,$ezdz=$input.parent("."+settings.classes.main),basename=path.replace(/\\/g,"/").replace(/.*\//,""),formatted=settings.format(basename);var img=new Image();img.src=path;img.onload=function(){$ezdz.find("div").html($(img).fadeIn());if($.isFunction(callback)){callback.apply(this)}};img.onerror=function(){$ezdz.find("div").html("<span>"+formatted+"</span>");if($.isFunction(callback)){callback.apply(this)}};$ezdz.addClass(settings.classes.accept)};$.ezdz.prototype.destroy=function(){var settings=this.settings,$input=this.$input;$input.parent("."+settings.classes.main).replaceWith($input);$input.off("*.ezdz");$input.removeData("ezdz")};$.ezdz.prototype.options=function(options){var settings=this.settings;if(!options){return settings}$.extend(true,this.settings,options)};$.ezdz.prototype.container=function(){var settings=this.settings,$input=this.$input;return $input.parent("."+settings.classes.main)};$.ezdz.isBrowserCompatible=function(){return !!(window.File&&window.FileList&&window.FileReader)};$.ezdz.defaults=defaults;$.fn.ezdz=function(options){var args=arguments,plugin=$(this).data("ezdz");if(!plugin){return $(this).data("ezdz",new $.ezdz(this,options))}if(plugin[options]){return plugin[options].apply(plugin,Array.prototype.slice.call(args,1))}else{$.error("Ezdz error - Method "+options+" does not exist.")}}}));
/*
Purty Picker Copyright 2013 Jayden Seric (MIT license).
A super lightweight visual HSL, RGB and hex color picker with a responsive, touch-friendly and customizable UI.
Requires jQuery or Zepto with core and event modules.
https://github.com/jaydenseric/Purty-Picker
*/
$(function(){'use strict';function HSLToRGB(h,s,l){h/=360;s/=100;l/=100;var r,g,b;if(s==0){r=g=b=l}else{var hueToRGB=function(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p};var q=l<0.5?l*(1+s):l+s-l*s,p=2*l-q;r=hueToRGB(p,q,h+1/3);g=hueToRGB(p,q,h);b=hueToRGB(p,q,h-1/3)}return{red:Math.round(r*255),green:Math.round(g*255),blue:Math.round(b*255)}}function RGBToHSL(r,g,b){r/=255,g/=255,b/=255;var max=Math.max(r,g,b),min=Math.min(r,g,b);var h,s,l=(max+min)/2;if(max==min){h=s=0}else{var d=max-min;s=l>0.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break}h/=6}return{hue:Math.round(h*360),saturation:Math.round(s*100),luminosity:Math.round(l*100)}}function RGBToHex(r,g,b){return'#'+((1<<24)+(r<<16)+(g<<8)+b).toString(16).slice(1)}function hexToRGB(hex){var bigInt=parseInt(hex.replace('#',''),16),r=(bigInt>>16)&255,g=(bigInt>>8)&255,b=bigInt&255;return{red:r,green:g,blue:b}}function hexToHSL(hex){var RGB=hexToRGB(hex);return RGBToHSL(RGB.red,RGB.green,RGB.blue)}function HSLToHex(h,s,l){var RGB=HSLToRGB(h,s,l);return RGBToHex(RGB.red,RGB.green,RGB.blue)}$.each($('.wojo.color-picker'),function(){var $picker=$(this),$formatInput=$picker.data('control'),$wrap=$picker.find('.color-wrap'),$colorInput=$picker.find('.color'),$luminosityInput=$picker.find('input[type=range]'),$spectrum=$picker.find('.spectrum'),$pin=$picker.find('.pin');function getHSL(){var position=$picker.find('.pin').position(),width=$spectrum.width(),height=$spectrum.height();return{hue:Math.round(position.left/width*360),saturation:Math.round(position.top/height*100),luminosity:$luminosityInput.val()}}function updateColorInput(){var HSL=getHSL();switch($formatInput){case'HSL':$colorInput.val('hsl('+HSL.hue+', '+HSL.saturation+'%, '+HSL.luminosity+'%)');break;case'RGB':var RGB=HSLToRGB(HSL.hue,HSL.saturation,HSL.luminosity);$colorInput.val('rgb('+RGB.red+', '+RGB.green+', '+RGB.blue+')');break;case'Hex':$colorInput.val(HSLToHex(HSL.hue,HSL.saturation,HSL.luminosity));break}$picker.trigger('change')}$colorInput.on('change',function(){var HSL;switch($formatInput){case'HSL':var values=$(this).val().match(/\d+/g);HSL={hue:values[0],saturation:values[1],luminosity:values[2]};break;case'RGB':var values=$(this).val().match(/\d+/g);HSL=RGBToHSL(values[0],values[1],values[2]);break;case'Hex':HSL=hexToHSL($(this).val());break}$luminosityInput.val(HSL.luminosity);setLuminosity(HSL.luminosity);$pin.css({left:HSL.hue/360*100+'%',top:HSL.saturation+'%'});$picker.trigger('change')});function setLuminosity(luminosity){var color,alpha;if(luminosity<=50){color='0, 0, 0';alpha=1-luminosity/100*2}else{color='255, 255, 255';alpha=luminosity/100*2-1}$spectrum.children().css('background-color','rgba('+color+', '+alpha+')')}$luminosityInput.on('change',function(){setLuminosity($(this).val());updateColorInput()});var movePin=function(event){var bounds=$spectrum[0].getBoundingClientRect(),x=event.clientX-bounds.left,y=event.clientY-bounds.top;if(x<0)x=0;else if(x>bounds.width)x=bounds.width;if(y<0)y=0;else if(y>bounds.height)y=bounds.height;$pin.css({left:x/bounds.width*100+'%',top:y/bounds.height*100+'%'});updateColorInput()};$spectrum.on('mousedown',function(event){event.preventDefault();movePin(event);$spectrum.addClass('active');$(document).on('mousemove',movePin)});$(document).on('mouseup',function(){$spectrum.removeClass('active');$(document).off('mousemove',movePin)});$spectrum.on('touchmove touchstart',movePin);$picker.on('change',function(){$colorInput.css('background-color',$colorInput.val()).toggleClass('dark',$luminosityInput.val()<=50)});$colorInput.on('click',function(e){$wrap.slideToggle()});$(document.body).on('click',function(e){$wrap.slideUp()});$picker.click(function(e){e.stopPropagation()});$colorInput.trigger('change')})});
/* 
Password Generator
*/
$.extend({password:function(length,special){var iteration=0;var password="";var randomNumber;if(special==undefined){var special=false}while(iteration<length){randomNumber=(Math.floor((Math.random()*100))%94)+33;if(!special){if((randomNumber>=33)&&(randomNumber<=47)){continue}if((randomNumber>=58)&&(randomNumber<=64)){continue}if((randomNumber>=91)&&(randomNumber<=96)){continue}if((randomNumber>=123)&&(randomNumber<=126)){continue}}iteration++;password+=String.fromCharCode(randomNumber)}return password}});
/*
Edit In Place
*/
$.fn.editableTableWidget=function(options){return $(this).each(function(){var buildDefaultOptions=function(){var opts=$.extend({},$.fn.editableTableWidget.defaultOptions);opts.editor=opts.editor.clone();return opts},activeOptions=$.extend(buildDefaultOptions(),options),ARROW_LEFT=37,ARROW_UP=38,ARROW_RIGHT=39,ARROW_DOWN=40,ENTER=13,ESC=27,TAB=9,element=$(this),editor=activeOptions.editor.css("position","absolute").hide().appendTo(element.parent()),active,showEditor=function(select){active=element.find("[data-editable]:focus");if(active.length){editor.val(active.text()).removeClass("error").show().offset(active.offset()).css(active.css(activeOptions.cloneProperties)).width(active.width()).height(active.height()).focus();if(select){editor.select()}}},setActiveText=function(){var text=editor.val(),evt=$.Event("change"),originalContent;if(active.text()===text||editor.hasClass("error")){return true}originalContent=active.html();active.text(text).trigger(evt,text);if(evt.result===false){active.html(originalContent)}},movement=function(element,keycode){if(keycode===ARROW_RIGHT){return element.next()}else{if(keycode===ARROW_LEFT){return element.prev()}else{if(keycode===ARROW_UP){return element.parent().prev().children().eq(element.index())}else{if(keycode===ARROW_DOWN){return element.parent().next().children().eq(element.index())}}}}return[]};editor.blur(function(){setActiveText();editor.hide()}).keydown(function(e){if(e.which===ENTER){setActiveText();editor.hide();active.focus();e.preventDefault();e.stopPropagation()}else{if(e.which===ESC){editor.val(active.text());e.preventDefault();e.stopPropagation();editor.hide();active.focus()}else{if(e.which===TAB){active.focus()}else{if(this.selectionEnd-this.selectionStart===this.value.length){var possibleMove=movement(active,e.which);if(possibleMove.length>0){possibleMove.focus();e.preventDefault();e.stopPropagation()}}}}}}).on("input paste",function(){var evt=$.Event("validate");active.trigger(evt,editor.val());if(evt.result===false){editor.addClass("error")}else{editor.removeClass("error")}});element.on("click keypress dblclick",showEditor).keydown(function(e){var prevent=true,possibleMove=movement($(e.target),e.which);if(possibleMove.length>0){possibleMove.focus()}else{if(e.which===ENTER){showEditor(false)}else{if(e.which===17||e.which===91||e.which===93){showEditor(true);prevent=false}else{prevent=false}}}if(prevent){e.stopPropagation();e.preventDefault()}});element.find("[data-editable]").css("cursor","pointer").prop("tabindex",1);$(window).on("resize",function(){if(editor.is(":visible")){editor.offset(active.offset()).width(active.width()).height(active.height())}})})};$.fn.editableTableWidget.defaultOptions={cloneProperties:["padding","padding-top","padding-bottom","padding-left","padding-right","text-align","font","font-size","font-family","font-weight","border","border-top","border-bottom","border-left","border-right"],editor:$("<input>").addClass("wojo editable")};
/*

Edit In Place WS
*/
$.fn.editableTableWidgetws=function(options){return $(this).each(function(){var buildDefaultOptions=function(){var opts=$.extend({},$.fn.editableTableWidgetws.defaultOptions);opts.editor=opts.editor.clone();return opts},activeOptions=$.extend(buildDefaultOptions(),options),ARROW_LEFT=37,ARROW_UP=38,ARROW_RIGHT=39,ARROW_DOWN=40,ENTER=13,ESC=27,TAB=9,element=$(this),editor=activeOptions.editor.css("position","absolute").hide().appendTo(element.parent()),active,showEditor=function(select){active=element.find("[data-editablews]:focus");if(active.length){editor.val(active.text()).removeClass("error").show().offset(active.offset()).css(active.css(activeOptions.cloneProperties)).width(active.width()).height(active.height()).focus();if(select){editor.select()}}},setActiveText=function(){var text=editor.val(),evt=$.Event("change"),originalContent;if(active.text()===text||editor.hasClass("error")){return true}originalContent=active.html();active.text(text).trigger(evt,text);if(evt.result===false){active.html(originalContent)}},movement=function(element,keycode){if(keycode===ARROW_RIGHT){return element.next()}else{if(keycode===ARROW_LEFT){return element.prev()}else{if(keycode===ARROW_UP){return element.parent().prev().children().eq(element.index())}else{if(keycode===ARROW_DOWN){return element.parent().next().children().eq(element.index())}}}}return[]};editor.blur(function(){setActiveText();editor.hide()}).keydown(function(e){if(e.which===ENTER){setActiveText();editor.hide();active.focus();e.preventDefault();e.stopPropagation()}else{if(e.which===ESC){editor.val(active.text());e.preventDefault();e.stopPropagation();editor.hide();active.focus()}else{if(e.which===TAB){active.focus()}else{if(this.selectionEnd-this.selectionStart===this.value.length){var possibleMove=movement(active,e.which);if(possibleMove.length>0){possibleMove.focus();e.preventDefault();e.stopPropagation()}}}}}}).on("input paste",function(){var evt=$.Event("validate");active.trigger(evt,editor.val());if(evt.result===false){editor.addClass("error")}else{editor.removeClass("error")}});element.on("click keypress dblclick",showEditor).keydown(function(e){var prevent=true,possibleMove=movement($(e.target),e.which);if(possibleMove.length>0){possibleMove.focus()}else{if(e.which===ENTER){showEditor(false)}else{if(e.which===17||e.which===91||e.which===93){showEditor(true);prevent=false}else{prevent=false}}}if(prevent){e.stopPropagation();e.preventDefault()}});element.find("[data-editablews]").css("cursor","pointer").prop("tabindex",1);$(window).on("resize",function(){if(editor.is(":visible")){editor.offset(active.offset()).width(active.width()).height(active.height())}})})};$.fn.editableTableWidgetws.defaultOptions={cloneProperties:["padding","padding-top","padding-bottom","padding-left","padding-right","text-align","font","font-size","font-family","font-weight","border","border-top","border-bottom","border-left","border-right"],editor:$("<input>").addClass("wojo editable")};

/*!
 * jQeury Table row sorter
 */
(function(e,c){var h=c(e.document),i=!!("ontouchstart" in h[0].documentElement),d=i?"touchstart":"mousedown",f=i?"touchend":"mouseup",g=!!("onselectstart" in h[0].documentElement),j=false,b={handler:"tbody > tr",tableDragClass:"sorting-table",disabledRowClass:"nodrag",dragClass:"sorting-row",onDragStart:null,onDrop:null};if(g){h[0].onselectstart=function(){if(j){return false}}}function a(u,w){var m=c.extend({},b,w),n=null,v=null,q=null,r=0,o=0;u=c(u);if(u.is("table")===false){throw new Error("Specified parameter is not a table.")}if(u.data("row-sorter-attached")!==true){u.on(d,m.handler,t);u.data("row-sorter-attached",true)}function t(x){n=u.find("tbody");n=n.length>0?n:u;v=n.find("tr");if(v.length<2){return true}q=c(this).closest("tr");if(q.length===0){return true}if(q.hasClass(m.disabledRowClass)){return true}j=true;o=v.index(q[0]);if(m.dragClass){q.addClass(m.dragClass)}if(m.tableDragClass){u.addClass(m.tableDragClass)}if(typeof m.onDragStart==="function"){m.onDragStart(n[0],q[0],o)}if(i){r=parseInt(x.originalEvent.touches[0].pageY,10);h.on("touchmove",k)}else{r=parseInt(x.pageY,10);v.not(q[0]).on("mousemove",p)}h.on(f,s);x.preventDefault();return false}function k(x){var z=x.originalEvent.touches[0],y=h[0].elementFromPoint(z.clientX,z.clientY);if(!y){return true}y=c(y).closest("tr");if(y&&y[0]!==q[0]&&y[0].parentNode===n[0]){l(y[0],z.pageY)}}function p(x){l(this,x.pageY)}function l(y,x){if(x>r&&y.nextSibling!==q[0]){if(y.nextSibling){n[0].insertBefore(q[0],y.nextSibling)}else{n[0].appendChild(q[0])}}else{if(x<=r&&y.previousSibling!==q[0]){n[0].insertBefore(q[0],y)}}r=x}function s(){var x;if(i){h.off("touchmove",k)}else{v.off("mousemove",p)}h.off(f,s);if(m.dragClass){q.removeClass(m.dragClass)}if(m.tableDragClass){u.removeClass(m.tableDragClass)}x=n.find("tr").index(q[0]);if(x!==o){if(typeof m.onDrop==="function"){m.onDrop(n[0],q[0],x,o)}}q=null;j=false;o=0}}c.fn.extend({rowSorter:function(k){this.each(function(l,m){a(m,k)})}})})(this,this.jQuery);
/*!
 * Simple File Upload with Preview
 */
(function(scope,$){var simpleUpload=[],simpleUploadCount=0;$.fn.simpleUpload=function(options){var def={url:null,change:null,error:null,types:null,fields:null,size:5120};return this.each(function(){var $this=$(this),id=++simpleUploadCount;$this.data("simpleUpload",id);options=options||{};$.each($this.data(),function(name,value){if("simpleUpload"==name){return}options[name]=(typeof window[value]=="function")?window[value]:value});var params=$.extend({},def,options);if(typeof params.change=="function"){$this.change(function(){params.change($this[0].files)})}if(params.trigger){if(params.trigger instanceof jQuery){params.trigger.click(send)}else{$(document).on("click",params.trigger,send)}}else{$this.change(send)}simpleUpload[id]=params;function send(event){event.preventDefault();$this.simpleUploadSend()}})};$.fn.simpleUploadSend=function(fields){return this.each(function(){var $this=$(this),id=$this.data("simpleUpload"),name=$this.attr("name"),data=new FormData();params=simpleUpload[id];for(var i in $this[0].files){if(typeof $this[0].files[i]=="object"){var file=$this[0].files[i];if(!$.typeCheck(file.name,params.types)){if(typeof params.error=="function"){params.error({type:"fileType"})}return false}if((file.size/params.size)>params.size){if(typeof params.error=="function"){params.error({type:"size"})}return false}data.append(name+"["+i+"]",file)}}if(typeof params.fields=="object"){for(i in params.fields){if($.isArray(params.fields[i])){for(var k in params.fields[i]){data.append(i+"["+k+"]",params.fields[i][k])}}else{data.append(i,params.fields[i])}}}var ajax={url:params.url,data:data,cache:false,contentType:false,processData:false,type:"POST",complete:function(){$this.val("");if(params.complete){params.complete(arguments)}}};if(params.error!=null){ajax.error=params.error}if(params.success){ajax.success=params.success}if(params.async){ajax.async=params.async}if(params.beforeSend){ajax.beforeSend=params.beforeSend}if(params.global){ajax.global=params.global}if(params.dataType){ajax.dataType=params.dataType}if(params.contents){ajax.contents=params.contents}if(params.jsonp){ajax.jsonp=params.jsonp}if(params.jsonpCallback){ajax.jsonpCallback=params.jsonpCallback}if(params.password){ajax.password=params.password}if(params.username){ajax.username=params.username}if(params.statusCode){ajax.statusCode=params.statusCode}$.ajax(ajax)})};$.extend(true,{typeCheck:function(name,types){if($.isArray(types)){if(types.indexOf($.getExt(name))>-1){return true}return false}return true},getExt:function(name){return name.substr(name.lastIndexOf(".")+1)}})})(window,window.jQuery);
/**
 * @plugin
 * @name Core
 * @description Formstone Library core. Required for all plugins.
 */
var Formstone=this.Formstone=(function($,window,document,undefined){"use strict";var Core=function(){this.Plugins={};this.ResizeHandlers=[];this.window=window;this.$window=$(window);this.document=document;this.$document=$(document);this.$body=null;this.windowWidth=0;this.windowHeight=0;this.userAgent=window.navigator.userAgent||window.navigator.vendor||window.opera;this.isFirefox=/Firefox/i.test(this.userAgent);this.isChrome=/Chrome/i.test(this.userAgent);this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome;this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent);this.isFirefoxMobile=(this.isFirefox&&this.isMobile);this.transform=null;this.transition=null;this.support={file:!!(window.File&&window.FileList&&window.FileReader),history:!!(window.history&&window.history.pushState&&window.history.replaceState),matchMedia:!!(window.matchMedia||window.msMatchMedia),raf:!!(window.requestAnimationFrame&&window.cancelAnimationFrame),touch:!!(("ontouchstart"in window)||window.DocumentTouch&&document instanceof window.DocumentTouch),transition:false,transform:false}},Functions={killEvent:function(e,immediate){try{e.preventDefault();e.stopPropagation();if(immediate){e.stopImmediatePropagation()}}catch(error){}},startTimer:function(timer,time,callback,interval){Functions.clearTimer(timer);return(interval)?setInterval(callback,time):setTimeout(callback,time)},clearTimer:function(timer,interval){if(timer){if(interval){clearInterval(timer)}else{clearTimeout(timer)}timer=null}},sortAsc:function(a,b){return(parseInt(b)-parseInt(a))},sortDesc:function(a,b){return(parseInt(b)-parseInt(a))}},Formstone=new Core(),Classes={base:"{ns}",element:"{ns}-element"},Events={namespace:".{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",resize:"resize.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"};Core.prototype.Plugin=function(namespace,settings){Formstone.Plugins[namespace]=(function(namespace,settings){var namespaceDash="wojo-"+namespace,namespaceDot="fs."+namespace;function initialize(options){var hasOptions=$.type(options)==="object";options=$.extend(true,{},settings.defaults||{},(hasOptions?options:{}));var $targets=this;for(var i=0,count=$targets.length;i<count;i++){var $element=$targets.eq(i);if(!getData($element)){var localOptions=$element.data(namespace+"-options"),data=$.extend(true,{$el:$element},options,($.type(localOptions)==="object"?localOptions:{}));$element.addClass(settings.classes.raw.element).data(namespaceDash,data);settings.methods._construct.apply($element,[data].concat(Array.prototype.slice.call(arguments,(hasOptions?1:0))))}}return $targets}function destroy(data){settings.functions.iterate.apply(this,[settings.methods._destruct].concat(Array.prototype.slice.call(arguments,1)));this.removeClass(settings.classes.raw.element).removeData(namespaceDash)}function getData($element){return $element.data(namespaceDash)}function delegateWidget(method){if(this instanceof $){var _method=settings.methods[method];if($.type(method)==="object"||!method){return initialize.apply(this,arguments)}else if(_method&&method.indexOf("_")!==0){return settings.functions.iterate.apply(this,[_method].concat(Array.prototype.slice.call(arguments,1)))}return this}}function delegateUtility(method){var _method=settings.utilities[method]||settings.utilities._initialize||false;if(_method){return _method.apply(window,Array.prototype.slice.call(arguments,($.type(method)==="object"?0:1)))}}function defaults(options){settings.defaults=$.extend(true,settings.defaults,options||{})}function iterate(fn){var $targets=this;for(var i=0,count=$targets.length;i<count;i++){var $element=$targets.eq(i),data=getData($element)||{};if($.type(data.$el)!=="undefined"){fn.apply($element,[data].concat(Array.prototype.slice.call(arguments,1)))}}return $targets}settings.initialized=false;settings.priority=settings.priority||10;settings.classes=namespaceProperties("classes",namespaceDash,Classes,settings.classes);settings.events=namespaceProperties("events",namespace,Events,settings.events);settings.functions=$.extend({getData:getData,iterate:iterate},Functions,settings.functions);settings.methods=$.extend(true,{_setup:$.noop,_construct:$.noop,_destruct:$.noop,_resize:false,destroy:destroy},settings.methods);settings.utilities=$.extend(true,{_initialize:false,_delegate:false,defaults:defaults},settings.utilities);if(settings.widget){$.fn[namespace]=delegateWidget}$[namespace]=settings.utilities._delegate||delegateUtility;settings.namespace=namespace;if(settings.methods._resize){Formstone.ResizeHandlers.push({namespace:namespace,priority:settings.priority,callback:settings.methods._resize});Formstone.ResizeHandlers.sort(sortPriority)}return settings})(namespace,settings);return Formstone.Plugins[namespace]};function namespaceProperties(type,namespace,globalProps,customProps){var _props={raw:{}},i;customProps=customProps||{};for(i in customProps){if(customProps.hasOwnProperty(i)){if(type==="classes"){_props.raw[customProps[i]]=namespace+"-"+customProps[i];_props[customProps[i]]="."+namespace+"-"+customProps[i]}else{_props.raw[i]=customProps[i];_props[i]=customProps[i]+"."+namespace}}}for(i in globalProps){if(globalProps.hasOwnProperty(i)){if(type==="classes"){_props.raw[i]=globalProps[i].replace(/{ns}/g,namespace);_props[i]=globalProps[i].replace(/{ns}/g,"."+namespace)}else{_props.raw[i]=globalProps[i].replace(/.{ns}/g,"");_props[i]=globalProps[i].replace(/{ns}/g,namespace)}}}return _props}function setTransitionInformation(){var transitionEvents={"transition":"transitionend","MozTransition":"transitionend","OTransition":"otransitionend","WebkitTransition":"webkitTransitionEnd"},transitionProperties=["transition","-webkit-transition"],transformProperties={'transform':'transform','MozTransform':'-moz-transform','OTransform':'-o-transform','msTransform':'-ms-transform','webkitTransform':'-webkit-transform'},transitionEvent="transitionend",transitionProperty="",transformProperty="",test=document.createElement("div"),i;for(i in transitionEvents){if(transitionEvents.hasOwnProperty(i)&&i in test.style){transitionEvent=transitionEvents[i];Formstone.support.transition=true;break}}Events.transitionEnd=transitionEvent+".{ns}";for(i in transitionProperties){if(transitionProperties.hasOwnProperty(i)&&transitionProperties[i]in test.style){transitionProperty=transitionProperties[i];break}}Formstone.transition=transitionProperty;for(i in transformProperties){if(transformProperties.hasOwnProperty(i)&&transformProperties[i]in test.style){Formstone.support.transform=true;transformProperty=transformProperties[i];break}}Formstone.transform=transformProperty}var ResizeTimer=null,Debounce=20;function onWindowResize(){Formstone.windowWidth=Formstone.$window.width();Formstone.windowHeight=Formstone.$window.height();ResizeTimer=Functions.startTimer(ResizeTimer,Debounce,handleWindowResize)}function handleWindowResize(){for(var i in Formstone.ResizeHandlers){if(Formstone.ResizeHandlers.hasOwnProperty(i)){Formstone.ResizeHandlers[i].callback.call(window,Formstone.windowWidth,Formstone.windowHeight)}}}Formstone.$window.on("resize.fs",onWindowResize);onWindowResize();function sortPriority(a,b){return(parseInt(a.priority)-parseInt(b.priority))}$(function(){Formstone.$body=$("body");for(var i in Formstone.Plugins){if(Formstone.Plugins.hasOwnProperty(i)&&!Formstone.Plugins[i].initialized){Formstone.Plugins[i].methods._setup.call(document);Formstone.Plugins[i].initialized=true}}});Events.clickTouchStart=Events.click+" "+Events.touchStart;setTransitionInformation();return Formstone})(jQuery,this,document);
/**
 * Touch Events
 */
;(function($,Formstone,undefined){"use strict";function construct(data){data.touches=[];data.touching=false;if(data.tap){data.pan=false;data.scale=false;data.swipe=false;this.on([Events.touchStart,Events.pointerDown].join(" "),data,onPointerStart).on(Events.click,data,onClick)}else if(data.pan||data.swipe||data.scale){data.tap=false;if(data.swipe){data.pan=true}if(data.scale){data.axis=false}if(data.axis){data.axisX=data.axis==="x";data.axisY=data.axis==="y"}else{touchAction(this,"none")}this.on([Events.touchStart,Events.pointerDown].join(" "),data,onTouch);if(data.pan){this.on(Events.mouseDown,data,onPointerStart)}}}function destruct(data){touchAction(this.off(Events.namespace),"")}function onTouch(e){if(e.preventManipulation){e.preventManipulation()}var data=e.data,oe=e.originalEvent;if(oe.type.match(/(up|end)$/i)){onPointerEnd(e);return}if(oe.pointerId){var activeTouch=false;for(var i in data.touches){if(data.touches[i].id===oe.pointerId){activeTouch=true;data.touches[i].pageX=oe.clientX;data.touches[i].pageY=oe.clientY}}if(!activeTouch){data.touches.push({id:oe.pointerId,pageX:oe.clientX,pageY:oe.clientY})}}else{data.touches=oe.touches}if(oe.type.match(/(down|start)$/i)){onPointerStart(e)}else if(oe.type.match(/move$/i)){onPointerMove(e)}}function onPointerStart(e){var data=e.data,touch=($.type(data.touches)!=="undefined")?data.touches[0]:null;if(!data.touching){data.startE=e.originalEvent;data.startX=(touch)?touch.pageX:e.pageX;data.startY=(touch)?touch.pageY:e.pageY;data.startT=new Date().getTime();data.scaleD=1;data.passed=false}if(data.tap){data.clicked=false;data.$el.on([Events.touchMove,Events.pointerMove].join(" "),data,onTouch).on([Events.touchEnd,Events.touchCancel,Events.pointerUp,Events.pointerCancel].join(" "),data,onTouch)}else if(data.pan||data.scale){if(data.$links){data.$links.off(Events.click)}var newE=buildEvent(data.scale?Events.scaleStart:Events.panStart,e,data.startX,data.startY,data.scaleD,0,0,"","");if(data.scale&&data.touches&&data.touches.length>=2){var t=data.touches;data.pinch={startX:midpoint(t[0].pageX,t[1].pageX),startY:midpoint(t[0].pageY,t[1].pageY),startD:pythagorus((t[1].pageX-t[0].pageX),(t[1].pageY-t[0].pageY))};newE.pageX=data.startX=data.pinch.startX;newE.pageY=data.startY=data.pinch.startY}if(!data.touching){data.touching=true;if(data.pan){$Window.on(Events.mouseMove,data,onPointerMove).on(Events.mouseUp,data,onPointerEnd)}$Window.on([Events.touchMove,Events.touchEnd,Events.touchCancel,Events.pointerMove,Events.pointerUp,Events.pointerCancel].join(" "),data,onTouch);data.$el.trigger(newE)}}}function onPointerMove(e){var data=e.data,touch=($.type(data.touches)!=="undefined")?data.touches[0]:null,newX=(touch)?touch.pageX:e.pageX,newY=(touch)?touch.pageY:e.pageY,deltaX=newX-data.startX,deltaY=newY-data.startY,dirX=(deltaX>0)?"right":"left",dirY=(deltaY>0)?"down":"up",movedX=Math.abs(deltaX)>TouchThreshold,movedY=Math.abs(deltaY)>TouchThreshold;if(data.tap){if(movedX||movedY){data.$el.off([Events.touchMove,Events.touchEnd,Events.touchCancel,Events.pointerMove,Events.pointerUp,Events.pointerCancel].join(" "))}}else if(data.pan||data.scale){if(!data.passed&&data.axis&&((data.axisX&&movedY)||(data.axisY&&movedX))){onPointerEnd(e)}else{if(!data.passed&&(!data.axis||(data.axis&&(data.axisX&&movedX)||(data.axisY&&movedY)))){data.passed=true}if(data.passed){Functions.killEvent(e);Functions.killEvent(data.startE)}var fire=true,newE=buildEvent(data.scale?Events.scale:Events.pan,e,newX,newY,data.scaleD,deltaX,deltaY,dirX,dirY);if(data.scale){if(data.touches&&data.touches.length>=2){var t=data.touches;data.pinch.endX=midpoint(t[0].pageX,t[1].pageX);data.pinch.endY=midpoint(t[0].pageY,t[1].pageY);data.pinch.endD=pythagorus((t[1].pageX-t[0].pageX),(t[1].pageY-t[0].pageY));data.scaleD=(data.pinch.endD/data.pinch.startD);newE.pageX=data.pinch.endX;newE.pageY=data.pinch.endY;newE.scale=data.scaleD;newE.deltaX=data.pinch.endX-data.pinch.startX;newE.deltaY=data.pinch.endY-data.pinch.startY}else if(!data.pan){fire=false}}if(fire){data.$el.trigger(newE)}}}}function bindLink($link,data){$link.on(Events.click,data,onLinkClick);var events=$._data($link[0],"events")["click"];events.unshift(events.pop())}function onLinkClick(e){Functions.killEvent(e,true);e.data.$links.off(Events.click)}function onPointerEnd(e){var data=e.data;if(data.tap){data.$el.off([Events.touchMove,Events.touchEnd,Events.touchCancel,Events.pointerMove,Events.pointerUp,Events.pointerCancel,Events.mouseMove,Events.mouseUp].join(" "));data.startE.preventDefault();onClick(e)}else if(data.pan||data.scale){var touch=($.type(data.touches)!=="undefined")?data.touches[0]:null,newX=(touch)?touch.pageX:e.pageX,newY=(touch)?touch.pageY:e.pageY,deltaX=newX-data.startX,deltaY=newY-data.startY,endT=new Date().getTime(),eType=data.scale?Events.scaleEnd:Events.panEnd,dirX=(deltaX>0)?"right":"left",dirY=(deltaY>0)?"down":"up",movedX=Math.abs(deltaX)>1,movedY=Math.abs(deltaY)>1;if(data.swipe&&Math.abs(deltaX)>TouchThreshold&&(endT-data.startT)<TouchTime){eType=Events.swipe}if((data.axis&&((data.axisX&&movedY)||(data.axisY&&movedX)))||(movedX||movedY)){data.$links=data.$el.find("a");for(var i=0,count=data.$links.length;i<count;i++){bindLink(data.$links.eq(i),data)}}var newE=buildEvent(eType,e,newX,newY,data.scaleD,deltaX,deltaY,dirX,dirY);$Window.off([Events.touchMove,Events.touchEnd,Events.touchCancel,Events.mouseMove,Events.mouseUp,Events.pointerMove,Events.pointerUp,Events.pointerCancel].join(" "));data.$el.trigger(newE);data.touches=[];if(data.scale){}}data.touching=false}function onClick(e){Functions.killEvent(e);var data=e.data;if(!data.clicked){if(e.type!=="click"){data.clicked=true}var newX=(data.startE)?data.startX:e.pageX,newY=(data.startE)?data.startY:e.pageY,newE=buildEvent(Events.tap,e.originalEvent,newX,newY,1,0,0);data.$el.trigger(newE)}}function buildEvent(type,oe,px,py,s,dx,dy,dirx,diry){return $.Event(type,{originalEvent:oe,bubbles:true,pageX:px,pageY:py,scale:s,deltaX:dx,deltaY:dy,directionX:dirx,directionY:diry})}function midpoint(a,b){return(a+b)/2.0}function pythagorus(a,b){return Math.sqrt((a*a)+(b*b))}function touchAction($target,action){$target.css({"-ms-touch-action":action,"touch-action":action})}var legacyPointer=!(Formstone.window.PointerEvent),Plugin=Formstone.Plugin("touch",{widget:true,defaults:{axis:false,pan:false,scale:false,swipe:false,tap:false},methods:{_construct:construct,_destruct:destruct},events:{pointerDown:legacyPointer?"MSPointerDown":"pointerdown",pointerUp:legacyPointer?"MSPointerUp":"pointerup",pointerMove:legacyPointer?"MSPointerMove":"pointermove",pointerCancel:legacyPointer?"MSPointerCancel":"pointercancel"}}),Events=Plugin.events,Functions=Plugin.functions,$Window=Formstone.$window,TouchThreshold=5,TouchTime=200;Events.tap="tap";Events.pan="pan";Events.panStart="panstart";Events.panEnd="panend";Events.scale="scale";Events.scaleStart="scalestart";Events.scaleEnd="scaleend";Events.swipe="swipe"})(jQuery,Formstone);
/**
 * Transitions
 */
(function($,Formstone,undefined){"use strict";function construct(data,callback){if(callback){data.$target=this.find(data.target);data.$check=data.target?data.$target:this;data.callback=callback;data.styles=getStyles(data.$check);data.timer=null;var duration=data.$check.css(Formstone.transition+"-duration"),durationValue=parseFloat(duration);if(Formstone.support.transition&&duration&&durationValue){this.on(Events.transitionEnd,data,onTranistionEnd)}else{data.timer=Functions.startTimer(data.timer,50,function(){checkStyles(data)},true)}}}function destruct(data){Functions.clearTimer(data.timer,true);this.off(Events.namespace)}function onTranistionEnd(e){e.stopPropagation();e.preventDefault();var data=e.data,oe=e.originalEvent,$target=data.target?data.$target:data.$el;if((!data.property||oe.propertyName===data.property)&&$(oe.target).is($target)){resolve(data)}}function resolve(data){if(!data.always){data.$el[Plugin.namespace]("destroy")}data.callback.apply(data.$el)}function checkStyles(data){var styles=getStyles(data.$check);if(!isEqual(data.styles,styles)){resolve(data)}data.styles=styles}function getStyles(el){var computed,styles={},prop,val;if(el instanceof $){el=el[0]}if(Window.getComputedStyle){computed=Window.getComputedStyle(el,null);for(var i=0,count=computed.length;i<count;i++){prop=computed[i];val=computed.getPropertyValue(prop);styles[prop]=val}}else if(el.currentStyle){computed=el.currentStyle;for(prop in computed){if(computed[prop]){styles[prop]=computed[prop]}}}return styles}function isEqual(a,b){if($.type(a)!==$.type(b)){return false}for(var i in a){if(!(a.hasOwnProperty(i)&&b.hasOwnProperty(i)&&a[i]===b[i])){return false}}return true}var Plugin=Formstone.Plugin("transition",{widget:true,defaults:{always:false,property:null,target:null},methods:{_construct:construct,_destruct:destruct,resolve:resolve}}),Events=Plugin.events,Functions=Plugin.functions,Window=Formstone.window})(jQuery,Formstone);

/**
 * Lightbox.
 */
(function($,Formstone,undefined){"use strict";function setup(){$Body=Formstone.$body;$Locks=$("html, body")}function resize(){if(Instance){resizeLightbox()}}function construct(data){this.on(Events.click,data,buildLightbox)}function destruct(data){closeLightbox();this.off(Events.namespace)}function initialize($target,options){if($target instanceof $){buildLightbox.apply(Window,[{data:$.extend({},{$object:$target},Defaults,options||{})}])}}function buildLightbox(e){if(!Instance){var data=e.data,$el=data.$el,$object=data.$object,source=($el&&$el[0].href)?$el[0].href||"":"",hash=($el&&$el[0].hash)?$el[0].hash||"":"",sourceParts=source.toLowerCase().split(".").pop().split(/\#|\?/),extension=sourceParts[0],type=($el)?$el.data(Namespace+"-type"):"",isImage=((type==="image")||($.inArray(extension,data.extensions)>-1||source.substr(0,10)==="data:image")),isVideo=(source.indexOf("youtube.com")>-1||source.indexOf("youtu.be")>-1||source.indexOf("player.vimeo.com/video")>-1),isUrl=((type==="url")||(!isImage&&!isVideo&&source.substr(0,4)==="http"&&!hash)),isElement=((type==="element")||(!isImage&&!isVideo&&!isUrl&&(hash.substr(0,1)==="#"))),isObject=((typeof $object!=="undefined"));if(isElement){source=hash}if(!(isImage||isVideo||isUrl||isElement||isObject)){return}Functions.killEvent(e);Instance=$.extend({},{visible:false,gallery:{active:false},isMobile:(Formstone.isMobile||data.mobile),isAnimating:true,oldContentHeight:0,oldContentWidth:0},data);Instance.margin*=2;if(isImage){Instance.type="image"}else if(isVideo){Instance.type="video"}else{Instance.type="element"}if(isImage||isVideo){var id=$el.data(Namespace+"-gallery");if(id){Instance.gallery.active=true;Instance.gallery.id=id;Instance.gallery.$items=$("a[data-lightbox-gallery= "+Instance.gallery.id+"], a[rel= "+Instance.gallery.id+"]");Instance.gallery.index=Instance.gallery.$items.index(Instance.$el);Instance.gallery.total=Instance.gallery.$items.length-1}}var html='';if(!Instance.isMobile){html+='<div class="'+[Classes.raw.overlay,Instance.customClass].join(" ")+'"></div>'}var lightboxClasses=[Classes.raw.base,Classes.raw.loading,Classes.raw.animating,Instance.customClass];if(Instance.fixed){lightboxClasses.push(Classes.raw.fixed)}if(Instance.isMobile){lightboxClasses.push(Classes.raw.mobile)}if(isUrl){lightboxClasses.push(Classes.raw.iframed)}if(isElement||isObject){lightboxClasses.push(Classes.raw.inline)}html+='<div class="'+lightboxClasses.join(" ")+'">';html+='<button type="button" class="'+Classes.raw.close+'">'+Instance.labels.close+'</button>';html+='<span class="'+Classes.raw.loading_icon+'"></span>';html+='<div class="'+Classes.raw.container+'">';html+='<div class="'+Classes.raw.content+'">';if(isImage||isVideo){html+='<div class="'+Classes.raw.meta+'">';if(Instance.gallery.active){html+='<button type="button" class="'+[Classes.raw.control,Classes.raw.control_previous].join(" ")+'">'+Instance.labels.previous+'</button>';html+='<button type="button" class="'+[Classes.raw.control,Classes.raw.control_next].join(" ")+'">'+Instance.labels.next+'</button>';html+='<p class="'+Classes.raw.position+'"';if(Instance.gallery.total<1){html+=' style="display: none;"'}html+='>';html+='<span class="'+Classes.raw.position_current+'">'+(Instance.gallery.index+1)+'</span> ';html+=Instance.labels.count;html+=' <span class="'+Classes.raw.position_total+'">'+(Instance.gallery.total+1)+'</span>';html+='</p>'}html+='<div class="'+Classes.raw.caption+'">';html+=Instance.formatter.call($el,data);html+='</div></div>'}html+='</div></div></div>';$Body.append(html);Instance.$overlay=$(Classes.overlay);Instance.$lightbox=$(Classes.base);Instance.$close=$(Classes.close);Instance.$container=$(Classes.container);Instance.$content=$(Classes.content);Instance.$meta=$(Classes.meta);Instance.$position=$(Classes.position);Instance.$caption=$(Classes.caption);Instance.$controls=$(Classes.control);if(Instance.isMobile){Instance.paddingVertical=Instance.$close.outerHeight();Instance.paddingHorizontal=0;Instance.mobilePaddingVertical=parseInt(Instance.$content.css("paddingTop"),10)+parseInt(Instance.$content.css("paddingBottom"),10);Instance.mobilePaddingHorizontal=parseInt(Instance.$content.css("paddingLeft"),10)+parseInt(Instance.$content.css("paddingRight"),10)}else{Instance.paddingVertical=parseInt(Instance.$lightbox.css("paddingTop"),10)+parseInt(Instance.$lightbox.css("paddingBottom"),10);Instance.paddingHorizontal=parseInt(Instance.$lightbox.css("paddingLeft"),10)+parseInt(Instance.$lightbox.css("paddingRight"),10);Instance.mobilePaddingVertical=0;Instance.mobilePaddingHorizontal=0}Instance.contentHeight=Instance.$lightbox.outerHeight()-Instance.paddingVertical;Instance.contentWidth=Instance.$lightbox.outerWidth()-Instance.paddingHorizontal;Instance.controlHeight=Instance.$controls.outerHeight();centerLightbox();if(Instance.gallery.active){updateGalleryControls()}$Window.on(Events.keyDown,onKeyDown);$Body.on(Events.clickTouchStart,[Classes.overlay,Classes.close].join(", "),closeLightbox);if(Instance.gallery.active){Instance.$lightbox.on(Events.clickTouchStart,Classes.control,advanceGallery)}Instance.$lightbox.transition({property:"opacity"},function(){if(isImage){loadImage(source)}else if(isVideo){loadVideo(source)}else if(isUrl){loadURL(source)}else if(isElement){cloneElement(source)}else if(isObject){appendObject(Instance.$object)}}).addClass(Classes.raw.open);Instance.$overlay.addClass(Classes.raw.open)}}function resizeLightbox(e){if(typeof e!=="object"){Instance.targetHeight=arguments[0];Instance.targetWidth=arguments[1]}if(Instance.type==="element"){sizeContent(Instance.$content.find("> :first-child"))}else if(Instance.type==="image"){sizeImage()}else if(Instance.type==="video"){sizeVideo()}sizeLightbox()}function closeLightbox(e){Functions.killEvent(e);if(Instance){Instance.$lightbox.transition("destroy");Instance.$container.transition("destroy");Instance.$lightbox.addClass(Classes.raw.animating).transition({property:"opacity"},function(e){Instance.$lightbox.off(Events.namespace);Instance.$container.off(Events.namespace);$Window.off(Events.namespace);$Body.off(Events.namespace);Instance.$overlay.remove();Instance.$lightbox.remove();Instance=null;$Window.trigger(Events.close)});Instance.$lightbox.removeClass(Classes.raw.open);Instance.$overlay.removeClass(Classes.raw.open);if(Instance.isMobile){$Locks.removeClass(RawClasses.lock)}}}function openLightbox(){var position=calculatePosition(),durration=Instance.isMobile?0:Instance.duration;if(!Instance.isMobile){Instance.$controls.css({marginTop:((Instance.contentHeight-Instance.controlHeight-Instance.metaHeight)/2)})}if(!Instance.visible&&Instance.isMobile&&Instance.gallery.active){Instance.$content.touch({axis:"x",swipe:true}).on(Events.swipe,onSwipe)}Instance.$lightbox.transition({property:(Instance.contentHeight!==Instance.oldContentHeight)?"height":"width"},function(){Instance.$container.transition({property:"opacity"},function(){Instance.$lightbox.removeClass(Classes.raw.animating);Instance.isAnimating=false});Instance.$lightbox.removeClass(Classes.raw.loading);Instance.visible=true;$Window.trigger(Events.open);if(Instance.gallery.active){preloadGallery()}});if(!Instance.isMobile){Instance.$lightbox.css({height:Instance.contentHeight+Instance.paddingVertical,width:Instance.contentWidth+Instance.paddingHorizontal,top:(!Instance.fixed)?position.top:0})}var contentHasChanged=(Instance.oldContentHeight!==Instance.contentHeight||Instance.oldContentWidth!==Instance.contentWidth);if(Instance.isMobile||!contentHasChanged){Instance.$lightbox.transition("resolve")}Instance.oldContentHeight=Instance.contentHeight;Instance.oldContentWidth=Instance.contentWidth;if(Instance.isMobile){$Locks.addClass(RawClasses.lock)}}function sizeLightbox(){if(Instance.visible&&!Instance.isMobile){var position=calculatePosition();Instance.$controls.css({marginTop:((Instance.contentHeight-Instance.controlHeight-Instance.metaHeight)/2)});Instance.$lightbox.css({height:Instance.contentHeight+Instance.paddingVertical,width:Instance.contentWidth+Instance.paddingHorizontal,top:(!Instance.fixed)?position.top:0})}}function centerLightbox(){var position=calculatePosition();Instance.$lightbox.css({top:(!Instance.fixed)?position.top:0})}function calculatePosition(){if(Instance.isMobile){return{left:0,top:0}}var pos={left:(Formstone.windowWidth-Instance.contentWidth-Instance.paddingHorizontal)/2,top:(Instance.top<=0)?((Formstone.windowHeight-Instance.contentHeight-Instance.paddingVertical)/2):Instance.top};if(Instance.fixed!==true){pos.top+=$Window.scrollTop()}return pos}function formatCaption(){var title=this.attr("data-title"),t=(title!==undefined&&title)?title.replace(/^\s+|\s+$/g,''):false;return t?'<p class="caption">'+t+'</p>':""}function loadImage(source){Instance.$image=$("<img>");Instance.$image.one(Events.load,function(){var naturalSize=calculateNaturalSize(Instance.$image);Instance.naturalHeight=naturalSize.naturalHeight;Instance.naturalWidth=naturalSize.naturalWidth;if(Instance.retina){Instance.naturalHeight/=2;Instance.naturalWidth/=2}Instance.$content.prepend(Instance.$image);if(Instance.$caption.html()===""){Instance.$caption.hide()}else{Instance.$caption.show()}sizeImage();openLightbox()}).error(loadError).attr("src",source).addClass(Classes.raw.image);if(Instance.$image[0].complete||Instance.$image[0].readyState===4){Instance.$image.trigger(Events.load)}}function sizeImage(){var count=0;Instance.windowHeight=Instance.viewportHeight=Formstone.windowHeight-Instance.paddingVertical;Instance.windowWidth=Instance.viewportWidth=Formstone.windowWidth-Instance.paddingHorizontal;Instance.contentHeight=Infinity;Instance.contentWidth=Infinity;Instance.imageMarginTop=0;Instance.imageMarginLeft=0;while(Instance.contentHeight>Instance.viewportHeight&&count<2){Instance.imageHeight=(count===0)?Instance.naturalHeight:Instance.$image.outerHeight();Instance.imageWidth=(count===0)?Instance.naturalWidth:Instance.$image.outerWidth();Instance.metaHeight=(count===0)?0:Instance.metaHeight;if(count===0){Instance.ratioHorizontal=Instance.imageHeight/Instance.imageWidth;Instance.ratioVertical=Instance.imageWidth/Instance.imageHeight;Instance.isWide=(Instance.imageWidth>Instance.imageHeight)}if(Instance.imageHeight<Instance.minHeight){Instance.minHeight=Instance.imageHeight}if(Instance.imageWidth<Instance.minWidth){Instance.minWidth=Instance.imageWidth}if(Instance.isMobile){Instance.$meta.css({width:(count===0)?Instance.windowWidth:Instance.contentWidth});Instance.metaHeight=Instance.$meta.outerHeight(true);Instance.contentHeight=Instance.viewportHeight-Instance.mobilePaddingVertical;Instance.contentWidth=Instance.viewportWidth-Instance.mobilePaddingHorizontal;fitImage();Instance.imageMarginTop=(Instance.contentHeight-Instance.targetImageHeight-Instance.metaHeight)/2;Instance.imageMarginLeft=(Instance.contentWidth-Instance.targetImageWidth)/2}else{if(count===0){Instance.viewportHeight-=(Instance.margin+Instance.paddingVertical);Instance.viewportWidth-=(Instance.margin+Instance.paddingHorizontal)}Instance.viewportHeight-=Instance.metaHeight;fitImage();Instance.contentHeight=Instance.targetImageHeight;Instance.contentWidth=Instance.targetImageWidth}Instance.$meta.css({'min-width':Instance.contentWidth});Instance.$image.css({height:Instance.targetImageHeight,'min-width':Instance.targetImageWidth,marginTop:Instance.imageMarginTop,marginLeft:Instance.imageMarginLeft});if(!Instance.isMobile){Instance.metaHeight=Instance.$meta.outerHeight(true);Instance.contentHeight+=Instance.metaHeight}count++}}function fitImage(){var height=(!Instance.isMobile)?Instance.viewportHeight:Instance.contentHeight-Instance.metaHeight,width=(!Instance.isMobile)?Instance.viewportWidth:Instance.contentWidth;if(Instance.isWide){Instance.targetImageWidth=width;Instance.targetImageHeight=Instance.targetImageWidth*Instance.ratioHorizontal;if(Instance.targetImageHeight>height){Instance.targetImageHeight=height;Instance.targetImageWidth=Instance.targetImageHeight*Instance.ratioVertical}}else{Instance.targetImageHeight=height;Instance.targetImageWidth=Instance.targetImageHeight*Instance.ratioVertical;if(Instance.targetImageWidth>width){Instance.targetImageWidth=width;Instance.targetImageHeight=Instance.targetImageWidth*Instance.ratioHorizontal}}if(Instance.targetImageWidth>Instance.imageWidth||Instance.targetImageHeight>Instance.imageHeight){Instance.targetImageHeight=Instance.imageHeight;Instance.targetImageWidth=Instance.imageWidth}if(Instance.targetImageWidth<Instance.minWidth||Instance.targetImageHeight<Instance.minHeight){if(Instance.targetImageWidth<Instance.minWidth){Instance.targetImageWidth=Instance.minWidth;Instance.targetImageHeight=Instance.targetImageWidth*Instance.ratioHorizontal}else{Instance.targetImageHeight=Instance.minHeight;Instance.targetImageWidth=Instance.targetImageHeight*Instance.ratioVertical}}}function loadVideo(source){Instance.$videoWrapper=$('<div class="'+Classes.raw.videoWrapper+'"></div>');Instance.$video=$('<iframe class="'+Classes.raw.video+'" seamless="seamless"></iframe>');Instance.$video.attr("src",source).addClass(Classes.raw.video).prependTo(Instance.$videoWrapper);Instance.$content.prepend(Instance.$videoWrapper);sizeVideo();openLightbox()}function sizeVideo(){Instance.windowHeight=Instance.viewportHeight=Instance.contentHeight=Formstone.windowHeight-Instance.paddingVertical;Instance.windowWidth=Instance.viewportWidth=Instance.contentWidth=Formstone.windowWidth-Instance.paddingHorizontal;Instance.videoMarginTop=0;Instance.videoMarginLeft=0;if(Instance.isMobile){Instance.$meta.css({width:Instance.windowWidth});Instance.metaHeight=Instance.$meta.outerHeight(true);Instance.viewportHeight-=Instance.metaHeight;Instance.targetVideoWidth=Instance.viewportWidth;Instance.targetVideoHeight=Instance.targetVideoWidth*Instance.videoRatio;if(Instance.targetVideoHeight>Instance.viewportHeight){Instance.targetVideoHeight=Instance.viewportHeight;Instance.targetVideoWidth=Instance.targetVideoHeight/Instance.videoRatio}Instance.videoMarginTop=(Instance.viewportHeight-Instance.targetVideoHeight)/2;Instance.videoMarginLeft=(Instance.viewportWidth-Instance.targetVideoWidth)/2}else{Instance.viewportHeight=Instance.windowHeight-Instance.margin;Instance.viewportWidth=Instance.windowWidth-Instance.margin;Instance.targetVideoWidth=(Instance.videoWidth>Instance.viewportWidth)?Instance.viewportWidth:Instance.videoWidth;if(Instance.targetVideoWidth<Instance.minWidth){Instance.targetVideoWidth=Instance.minWidth}Instance.targetVideoHeight=Instance.targetVideoWidth*Instance.videoRatio;Instance.contentHeight=Instance.targetVideoHeight;Instance.contentWidth=Instance.targetVideoWidth}Instance.$meta.css({width:Instance.contentWidth});Instance.$videoWrapper.css({height:Instance.targetVideoHeight,width:Instance.targetVideoWidth,marginTop:Instance.videoMarginTop,marginLeft:Instance.videoMarginLeft});if(!Instance.isMobile){Instance.metaHeight=Instance.$meta.outerHeight(true);Instance.contentHeight=Instance.targetVideoHeight+Instance.metaHeight}}function preloadGallery(e){var source='';if(Instance.gallery.index>0){source=Instance.gallery.$items.eq(Instance.gallery.index-1).attr("href");if(source.indexOf("youtube.com/embed")<0&&source.indexOf("player.vimeo.com/video")<0){$('<img src="'+source+'">')}}if(Instance.gallery.index<Instance.gallery.total){source=Instance.gallery.$items.eq(Instance.gallery.index+1).attr("href");if(source.indexOf("youtube.com/embed")<0&&source.indexOf("player.vimeo.com/video")<0){$('<img src="'+source+'">')}}}function advanceGallery(e){Functions.killEvent(e);var $control=$(e.currentTarget);if(!Instance.isAnimating&&!$control.hasClass(Classes.raw.control_disabled)){Instance.isAnimating=true;Instance.gallery.index+=($control.hasClass(Classes.raw.control_next))?1:-1;if(Instance.gallery.index>Instance.gallery.total){Instance.gallery.index=(Instance.infinite)?0:Instance.gallery.total}if(Instance.gallery.index<0){Instance.gallery.index=(Instance.infinite)?Instance.gallery.total:0}Instance.$lightbox.addClass([Classes.raw.loading,Classes.raw.animating].join(" "));Instance.$container.transition({property:"opacity"},function(){if(typeof Instance.$image!=='undefined'){Instance.$image.remove()}if(typeof Instance.$videoWrapper!=='undefined'){Instance.$videoWrapper.remove()}Instance.$el=Instance.gallery.$items.eq(Instance.gallery.index);Instance.$caption.html(Instance.formatter.call(Instance.$el,Instance));Instance.$position.find(Classes.position_current).html(Instance.gallery.index+1);var source=Instance.$el.attr("href"),isVideo=(source.indexOf("youtube.com/embed")>-1||source.indexOf("player.vimeo.com/video")>-1);if(isVideo){loadVideo(source)}else{loadImage(source)}updateGalleryControls()})}}function updateGalleryControls(){Instance.$controls.removeClass(Classes.raw.control_disabled);if(!Instance.infinite){if(Instance.gallery.index===0){Instance.$controls.filter(Classes.control_previous).addClass(RawClasses.control_disabled)}if(Instance.gallery.index===Instance.gallery.total){Instance.$controls.filter(Classes.control_next).addClass(RawClasses.control_disabled)}}}function onKeyDown(e){if(Instance.gallery.active&&(e.keyCode===37||e.keyCode===39)){Functions.killEvent(e);Instance.$controls.filter((e.keyCode===37)?Classes.control_previous:Classes.control_next).trigger(Events.click)}else if(e.keyCode===27){Instance.$close.trigger(Events.click)}}function cloneElement(id){var $clone=$(id).find("> :first-child").clone();appendObject($clone)}function loadURL(source){source=source+((source.indexOf("?")>-1)?"&"+Instance.requestKey+"=true":"?"+Instance.requestKey+"=true");var $iframe=$('<iframe class="'+Classes.raw.iframe+'" src="'+source+'"></iframe>');appendObject($iframe)}function appendObject($object){Instance.$content.append($object);sizeContent($object);openLightbox()}function sizeContent($object){Instance.windowHeight=Formstone.windowHeight-Instance.paddingVertical;Instance.windowWidth=Formstone.windowWidth-Instance.paddingHorizontal;Instance.objectHeight=$object.outerHeight(true);Instance.objectWidth=$object.outerWidth(true);Instance.targetHeight=Instance.targetHeight||(Instance.$el?Instance.$el.data(Namespace+"-height"):null);Instance.targetWidth=Instance.targetWidth||(Instance.$el?Instance.$el.data(Namespace+"-width"):null);Instance.maxHeight=(Instance.windowHeight<0)?Instance.minHeight:Instance.windowHeight;Instance.isIframe=$object.is("iframe");Instance.objectMarginTop=0;Instance.objectMarginLeft=0;if(!Instance.isMobile){Instance.windowHeight-=Instance.margin;Instance.windowWidth-=Instance.margin}Instance.contentHeight=(Instance.targetHeight)?Instance.targetHeight:(Instance.isIframe||Instance.isMobile)?Instance.windowHeight:Instance.objectHeight;Instance.contentWidth=(Instance.targetWidth)?Instance.targetWidth:(Instance.isIframe||Instance.isMobile)?Instance.windowWidth:Instance.objectWidth;if((Instance.isIframe||Instance.isObject)&&Instance.isMobile){Instance.contentHeight=Instance.windowHeight;Instance.contentWidth=Instance.windowWidth}else if(Instance.isObject){Instance.contentHeight=(Instance.contentHeight>Instance.windowHeight)?Instance.windowHeight:Instance.contentHeight;Instance.contentWidth=(Instance.contentWidth>Instance.windowWidth)?Instance.windowWidth:Instance.contentWidth}}function loadError(e){var $error=$('<div class="'+Classes.raw.error+'"><p>Error Loading Resource</p></div>');Instance.type="element";Instance.$meta.remove();Instance.$image.off(Events.namespace);appendObject($error)}function onSwipe(e){Instance.$controls.filter((e.directionX==="left")?Classes.control_next:Classes.control_previous).trigger(Events.click)}function calculateNaturalSize($img){var node=$img[0],img=new Image();if(typeof node.naturalHeight!=="undefined"){return{naturalHeight:node.naturalHeight,naturalWidth:node.naturalWidth}}else{if(node.tagName.toLowerCase()==='img'){img.src=node.src;return{naturalHeight:img.height,naturalWidth:img.width}}}return false}var Plugin=Formstone.Plugin("lightbox",{widget:true,defaults:{customClass:"",extensions:["jpg","sjpg","jpeg","png","gif"],fixed:false,formatter:formatCaption,infinite:false,labels:{close:"Close",count:"of",next:"Next",previous:"Previous"},margin:50,minHeight:100,minWidth:100,mobile:false,retina:false,requestKey:"fs-lightbox",top:0,videoRatio:0.5625,videoWidth:600},classes:["loading","animating","fixed","mobile","inline","iframed","open","overlay","close","loading_icon","container","content","image","video","video_wrapper","meta","control","control_previous","control_next","control_disabled","position","position_current","position_total","caption","iframe","error","lock"],events:{open:"open",close:"close",swipe:"swipe"},methods:{_setup:setup,_construct:construct,_destruct:destruct,_resize:resize,resize:resizeLightbox},utilities:{_initialize:initialize,close:closeLightbox}}),Namespace=Plugin.namespace,Defaults=Plugin.defaults,Classes=Plugin.classes,RawClasses=Classes.raw,Events=Plugin.events,Functions=Plugin.functions,Window=Formstone.window,$Window=Formstone.$window,$Body=null,$Locks=null,Instance=null})(jQuery,Formstone);
/**
 * Tooltip
 */
(function($,Formstone,undefined){"use strict";function construct(data){this.on(Events.mouseEnter,data,onMouseEnter)}function destruct(data){removeTooltip();this.off(Events.namespace)}function onMouseEnter(e){removeTooltip();var data=e.data;data.left=e.pageX;data.top=e.pageY;buildTooltip(data)}function onMouseLeave(e){var data=e.data;Functions.clearTimer(data.timer);removeTooltip()}function onMouseMove(e){positionTooltip(e.pageX,e.pageY)}function buildTooltip(data){removeTooltip();var html='';html+='<div class="';html+=[RawClasses.base,RawClasses[data.direction]].join(" ");html+='">';html+='<div class="'+RawClasses.content+'">';html+=data.formatter.call(data.$el,data);html+='<span class="'+RawClasses.caret+'"></span>';html+='</div>';html+='</div>';Instance={$tooltip:$(html),$el:data.$el};Formstone.$body.append(Instance.$tooltip);var $content=Instance.$tooltip.find(Classes.content),$caret=Instance.$tooltip.find(Classes.caret),offset=data.$el.offset(),height=data.$el.outerHeight(),width=data.$el.outerWidth(),tooltipLeft=0,tooltipTop=0,contentLeft=0,contentTop=0,caretLeft=false,caretTop=false,caretHeight=$caret.outerHeight(true),caretWidth=$caret.outerWidth(true),contentHeight=$content.outerHeight(true),contentWidth=$content.outerWidth(true);if(data.direction==="right"||data.direction==="left"){caretTop=(contentHeight-caretHeight)/2;contentTop=-contentHeight/2;if(data.direction==="right"){contentLeft=data.margin}else if(data.direction==="left"){contentLeft=-(contentWidth+data.margin)}}else{caretLeft=(contentWidth-caretWidth)/2;contentLeft=-contentWidth/2;if(data.direction==="bottom"){contentTop=data.margin}else if(data.direction==="top"){contentTop=-(contentHeight+data.margin)}}$content.css({top:contentTop,left:contentLeft});$caret.css({top:caretTop,left:caretLeft});if(data.follow){data.$el.on(Events.mouseMove,data,onMouseMove)}else{if(data.match){if(data.direction==="right"||data.direction==="left"){tooltipTop=data.top;if(data.direction==="right"){tooltipLeft=offset.left+width}else if(data.direction==="left"){tooltipLeft=offset.left}}else{tooltipLeft=data.left;if(data.direction==="bottom"){tooltipTop=offset.top+height}else if(data.direction==="top"){tooltipTop=offset.top}}}else{if(data.direction==="right"||data.direction==="left"){tooltipTop=offset.top+(height/2);if(data.direction==="right"){tooltipLeft=offset.left+width}else if(data.direction==="left"){tooltipLeft=offset.left}}else{tooltipLeft=offset.left+(width/2);if(data.direction==="bottom"){tooltipTop=offset.top+height}else if(data.direction==="top"){tooltipTop=offset.top}}}positionTooltip(tooltipLeft,tooltipTop)}data.timer=Functions.startTimer(data.timer,data.delay,function(){Instance.$tooltip.addClass(RawClasses.visible)});data.$el.one(Events.mouseLeave,data,onMouseLeave)}function positionTooltip(left,top){if(Instance){Instance.$tooltip.css({left:left,top:top})}}function removeTooltip(){if(Instance){Instance.$el.off([Events.mouseMove,Events.mouseLeave].join(" "));Instance.$tooltip.remove();Instance=null}}function format(data){return this.data("content")}var Plugin=Formstone.Plugin("tooltip",{widget:true,defaults:{delay:10,direction:"top",follow:false,formatter:format,margin:15,match:false},classes:["content","caret","visible","top","bottom","right","left"],methods:{_construct:construct,_destruct:destruct}}),Classes=Plugin.classes,RawClasses=Classes.raw,Events=Plugin.events,Functions=Plugin.functions,Instance=null})(jQuery,Formstone);
/**
 * Range Slider
 */
(function($,Formstone,undefined){function resize(windowWidth){Functions.iterate.call($Instances,resizeInstance)}function cacheInstances(){$Instances=$(Classes.element)}function construct(data){if(!data.formatter){data.formatter=formatNumber}data.min=parseFloat(this.attr("min"))||0;data.max=parseFloat(this.attr("max"))||100;data.step=parseFloat(this.attr("step"))||1;data.digits=data.step.toString().length-data.step.toString().indexOf(".");data.value=parseFloat(this.val())||(data.min+((data.max-data.min)/2));var html="";data.disbaled=this.is(":disabled");data.vertical=this.attr("orient")==="vertical"||data.vertical;html+='<div class="'+RawClasses.track+'">';html+='<div class="'+RawClasses.selection+'">';html+='<div class="'+RawClasses.handle+'" data-content="0">';html+='<span class="'+RawClasses.marker+'"></span>';html+="</div>";html+="</div>";html+="</div>";var baseClasses=[RawClasses.base,data.customClass,(data.vertical)?RawClasses.vertical:"",(data.labels)?RawClasses.labels:"",(data.disabled)?RawClasses.disabled:""];this.addClass(RawClasses.element).wrap('<div class="'+baseClasses.join(" ")+'"></div>').after(html);data.$container=this.parents(Classes.base);data.$track=data.$container.find(Classes.track);data.$selection=data.$container.find(Classes.selection);data.$handle=data.$container.find(Classes.handle);data.$output=data.$container.find(Classes.output);data.$label_min=data.$container.find(Classes.label_min);data.$label_max=data.$container.find(Classes.label_max);if(data.labels){var uposmax=(data.units.place==="append")?data.max+data.units.max:data.units.max+data.max;var uposmin=(data.units.place==="append")?data.min+data.units.min:data.units.min+data.min;var labelMax='<span class="'+[RawClasses.label,RawClasses.label_max].join(" ")+'">'+data.formatter.call(this,(data.labels.max)?data.labels.max:uposmax)+"</span>",labelMin='<span class="'+[RawClasses.label,RawClasses.label_min].join(" ")+'">'+data.formatter.call(this,(data.labels.max)?data.labels.min:uposmin)+"</span>";data.$container.prepend((data.vertical)?labelMax:labelMin).append((data.vertical)?labelMin:labelMax)}data.$labels=data.$container.find(Classes.label);this.on(Events.focus,data,onFocus).on(Events.blur,data,onBlur).on(Events.change,data,onChange);data.$container.touch({pan:true,axis:data.vertical?"y":"x"}).on(Events.panStart,data,onPanStart).on(Events.pan,data,onPan).on(Events.panEnd,data,onPanEnd);cacheInstances();resizeInstance.call(this,data);$(data.$handle).attr("data-content",data.$el.val()).tooltip({follow:true})}function destruct(data){data.$container.off(Events.namespace).touch("destroy");data.$track.remove();data.$labels.remove();this.unwrap().removeClass(RawClasses.element).off(Events.namespace);cacheInstances()}function enable(data){if(data.disabled){this.prop("disabled",false);data.$container.removeClass(RawClasses.disabled);data.disabled=false}}function disable(data){if(!data.disabled){this.prop("disabled",true);data.$container.addClass(RawClasses.disabled);data.disabled=true}}function resizeInstance(data){data.stepCount=(data.max-data.min)/data.step;data.offset=data.$track.offset();var percent=(data.$el.val()-data.min)/(data.max-data.min);if(data.vertical){data.trackHeight=data.$track.outerHeight();data.handleHeight=data.$handle.outerHeight();data.increment=data.trackHeight/data.stepCount}else{data.trackWidth=data.$track.outerWidth();data.handleWidth=data.$handle.outerWidth();data.increment=data.trackWidth/data.stepCount}position(data,percent,true)}function onPanStart(e){Functions.killEvent(e);var data=e.data;if(!data.disbaled){onPan(e);data.$container.addClass(RawClasses.focus)}}function onPan(e){Functions.killEvent();var data=e.data,percent=0;if(data.vertical){percent=1-(e.pageY-data.offset.top)/data.trackHeight}else{percent=(e.pageX-data.offset.left)/data.trackWidth}position(data,percent)}function onPanEnd(e){Functions.killEvent(e);var data=e.data;data.$container.removeClass(RawClasses.focus)}function onFocus(e){e.data.$container.addClass("focus")}function onBlur(e){e.data.$container.removeClass("focus")}function position(data,perc,isResize){if(data.increment>1){if(data.vertical){perc=(Math.round(perc*data.stepCount)*data.increment)/data.trackHeight}else{perc=(Math.round(perc*data.stepCount)*data.increment)/data.trackWidth}}if(perc<0){perc=0}if(perc>1){perc=1}var value=((data.min-data.max)*perc);value=-parseFloat(value.toFixed(data.digits));data.$handle.css((data.vertical)?"bottom":"left",(perc*100)+"%");data.$selection.css({width:(perc*100)+"%"});value+=data.min;if(value!==data.value&&value&&isResize!==true){data.$el.val(value).trigger(Events.change,[true]);data.value=value}}function onChange(e,internal){var data=e.data;if(!internal&&!data.disabled){var percent=(data.$el.val()-data.min)/(data.max-data.min);position(data,percent)}$(data.$labels[0]).html(data.$el.val())}function formatNumber(number){var parts=number.toString().split(".");parts[0]=parts[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");return parts.join(".")}var Plugin=Formstone.Plugin("range",{widget:true,defaults:{customClass:"",formatter:false,labels:{max:false,min:false},units:{max:false,min:false,place:"prepend"},vertical:false},classes:["track","handle","marker","selection","labels","label","label_min","label_max","vertical","focus","disabled"],methods:{_construct:construct,_destruct:destruct,_resize:resize,enable:enable,disable:disable,resize:resizeInstance},events:{panStart:"panstart",pan:"pan",panEnd:"panend"}}),Classes=Plugin.classes,RawClasses=Classes.raw,Events=Plugin.events,Functions=Plugin.functions,$Instances=[]})(jQuery,Formstone);
/**
 * Toggle Switch
 */
(function($,Formstone,undefined){function construct(data){var $parent=this.closest("label"),$label=$parent.length?$parent.eq(0):$("label[for="+this.attr("id")+"]"),baseClass=[RawClasses.base,data.customClass].join(" "),html="";data.radio=(this.attr("type")==="radio");data.group=this.attr("name");html+='<div class="'+RawClasses.marker+'">';html+='<div class="'+RawClasses.flag+'"></div>';if(data.toggle){baseClass+=" "+RawClasses.toggle;html+='<span class="'+[RawClasses.state,RawClasses.state_on].join(" ")+'">'+data.labels.on+"</span>";html+='<span class="'+[RawClasses.state,RawClasses.state_off].join(" ")+'">'+data.labels.off+"</span>";}if(data.radio){baseClass+=" "+RawClasses.radio;}html+="</div>";if($label.length){$label.addClass(RawClasses.label).wrap('<div class="'+baseClass+'"></div>').before(html);}else{this.before('<div class=" '+baseClass+'">'+html+"</div>");}data.$checkbox=($label.length)?$label.parents(Classes.base):this.prev(Classes.base);data.$marker=data.$checkbox.find(Classes.marker);data.$states=data.$checkbox.find(Classes.state);data.$label=$label;if(this.is(":checked")){data.$checkbox.addClass(RawClasses.checked);}if(this.is(":disabled")){data.$checkbox.addClass(RawClasses.disabled);}this.on(Events.focus,data,onFocus).on(Events.blur,data,onBlur).on(Events.change,data,onChange).on(Events.click,data,onClick).on(Events.deselect,data,onDeselect);data.$checkbox.touch({tap:true}).on(Events.tap,data,onClick);}function destruct(data){data.$checkbox.off(Events.namespace).touch("destroy");data.$marker.remove();data.$states.remove();data.$label.unwrap().removeClass(RawClasses.label);this.off(Events.namespace);}function enable(data){this.prop("disabled",false);data.$checkbox.removeClass(RawClasses.disabled);}function disable(data){this.prop("disabled",true);data.$checkbox.addClass(RawClasses.disabled);}function onClick(e){e.stopPropagation();var data=e.data;if(!$(e.target).is(data.$el)){e.preventDefault();data.$el.trigger("click");}}function onChange(e){var data=e.data,disabled=data.$el.is(":disabled"),checked=data.$el.is(":checked");if(!disabled){if(data.radio){onSelect(e);}else{if(checked){onSelect(e);}else{onDeselect(e);}}}}function onSelect(e){if(e.data.radio){$('input[name="'+e.data.group+'"]').not(e.data.$el).trigger("deselect");}e.data.$checkbox.addClass(RawClasses.checked);}function onDeselect(e){e.data.$checkbox.removeClass(RawClasses.checked);}function onFocus(e){e.data.$checkbox.addClass(RawClasses.focus);}function onBlur(e){e.data.$checkbox.removeClass(RawClasses.focus);}var Plugin=Formstone.Plugin("checkbox",{widget:true,defaults:{customClass:"",toggle:false,labels:{on:"ON",off:"OFF"}},classes:["label","marker","flag","radio","focus","checked","disabled","toggle","state","state_on","state_off"],methods:{_construct:construct,_destruct:destruct,enable:enable,disable:disable},events:{deselect:"deselect",tap:"tap"}}),Classes=Plugin.classes,RawClasses=Classes.raw,Events=Plugin.events,Functions=Plugin.functions;})(jQuery,Formstone);
/**
 * Multiple File Uploads
 */
;(function($,Formstone,undefined){"use strict";function construct(data){if(Formstone.support.file){var html="";html+='<div class="'+RawClasses.target+'">';html+=data.label;html+='</div>';html+='<input class="'+RawClasses.input+'" type="file"';if(data.maxQueue>1){html+=' multiple = "multiple"'}html+='>';this.addClass(RawClasses.base).append(html);data.$input=this.find(Classes.input);data.queue=[];data.total=0;data.uploading=false;this.on(Events.click,Classes.target,data,onClick).on(Events.dragEnter,data,onDragEnter).on(Events.dragOver,data,onDragOver).on(Events.dragLeave,data,onDragOut).on(Events.drop,Classes.target,data,onDrop);data.$input.on(Events.change,data,onChange)}}function destruct(data){if(Formstone.support.file){data.$input.off(Events.namespace);this.off([Events.click,Events.dragEnter,Events.dragOver,Events.dragLeave,Events.drop].join(" ")).removeClass(RawClasses.base).html("")}}function onClick(e){e.stopPropagation();e.preventDefault();var data=e.data;data.$input.trigger(Events.click)}function onChange(e){e.stopPropagation();e.preventDefault();var data=e.data,files=data.$input[0].files;if(files.length){handleUpload(data,files)}}function onDragEnter(e){e.stopPropagation();e.preventDefault();var data=e.data;data.$el.addClass(RawClasses.dropping)}function onDragOver(e){e.stopPropagation();e.preventDefault();var data=e.data;data.$el.addClass(RawClasses.dropping)}function onDragOut(e){e.stopPropagation();e.preventDefault();var data=e.data;data.$el.removeClass(RawClasses.dropping)}function onDrop(e){e.preventDefault();var data=e.data,files=e.originalEvent.dataTransfer.files;data.$el.removeClass(RawClasses.dropping);handleUpload(data,files)}function handleUpload(data,files){var newFiles=[];for(var i=0;i<files.length;i++){var file={index:data.total++,file:files[i],name:files[i].name,size:files[i].size,started:false,complete:false,error:false,transfer:null};newFiles.push(file);data.queue.push(file)}if(!data.uploading){$Window.on(Events.beforeUnload,function(){return data.leave});data.uploading=true}data.$el.trigger(Events.start,[newFiles]);checkQueue(data)}function checkQueue(data){var transfering=0,newQueue=[];for(var i in data.queue){if(data.queue.hasOwnProperty(i)&&!data.queue[i].complete&&!data.queue[i].error){newQueue.push(data.queue[i])}}data.queue=newQueue;for(var j in data.queue){if(data.queue.hasOwnProperty(j)){if(!data.queue[j].started){var formData=new FormData();formData.append(data.postKey,data.queue[j].file);for(var k in data.postData){if(data.postData.hasOwnProperty(k)){formData.append(k,data.postData[k])}}uploadFile(data,data.queue[j],formData)}transfering++;if(transfering>=data.maxQueue){return}else{i++}}}if(transfering===0){$Window.off(Events.beforeUnload);data.uploading=false;data.$el.trigger(Events.complete)}}function uploadFile(data,file,formData){if(file.size>=data.maxSize){file.error=true;data.$el.trigger(Events.fileError,[file,data.errsize]);checkQueue(data)}else if($.inArray(file.name.split('.').pop().toLowerCase(),data.ext)==-1){file.error=true;data.$el.trigger(Events.fileError,[file,data.errext]);checkQueue(data)}else{file.started=true;file.transfer=$.ajax({url:data.action,data:formData,type:"POST",contentType:false,processData:false,dataType:'json',cache:false,xhr:function(){var $xhr=$.ajaxSettings.xhr();if($xhr.upload){$xhr.upload.addEventListener("progress",function(e){var percent=0,position=e.loaded||e.position,total=e.total;if(e.lengthComputable){percent=Math.ceil(position/total*100)}data.$el.trigger(Events.fileProgress,[file,percent])},false)}return $xhr},beforeSend:function(e){data.$el.trigger(Events.fileStart,[file])},success:function(response,status,jqXHR){file.complete=true;data.$el.trigger(Events.fileComplete,[file,response]);checkQueue(data)},error:function(jqXHR,status,error){file.error=true;data.$el.trigger(Events.fileError,[file,error]);checkQueue(data)}})}}var Plugin=Formstone.Plugin("upload",{widget:true,defaults:{customClass:"",action:"",label:"Drag and drop files or click to select",leave:"You have uploads pending, are you sure you want to leave this page?",errsize:"File is too large",errext:"Invalid file type",maxQueue:5,maxSize:5242880,ext:['png','jpg','jpeg'],postData:{},postKey:"file"},classes:["input","target","multiple","dropping"],methods:{_construct:construct,_destruct:destruct}}),Classes=Plugin.classes,RawClasses=Classes.raw,Events=Plugin.events,Functions=Plugin.functions,$Window=Formstone.$window;Events.complete="complete";Events.fileStart="filestart";Events.fileProgress="fileprogress";Events.fileComplete="filecomplete";Events.fileError="fileerror";Events.start="start"})(jQuery,Formstone);
/*!
	ProgressBar
*/
(function($){$.fn.simpleprogress=function(method){var methods={init:function(options){options=$.extend({},$.fn.simpleprogress.defaults,options);this.each(function(){var $this=$(this);percent=parseInt($(this).attr("data-percent"),10)||options.percent;progress=$(this).attr("data-progress")||options.progress;label=progress?percent+"%&nbsp;":null;$this.find(".meter").animate({width:percent+"%"},2000,"easeInOutExpo").html(label)});return $(this)},update:function(percent){var $this=$(this);$this.find(".meter").animate({width:percent+"%"},2000,"easeInOutExpo").html(percent+"%&nbsp;");return $this}};if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof method==="object"||!method){return methods.init.apply(this,arguments)}else{$.error("Method "+method+" does not exist")}}};$.fn.simpleprogress.defaults={percent:0,progress:false}})(jQuery);
/*
 Version: 1.5.8
  Author: Ken Wheeler
 Website: http://kenwheeler.github.io
 */
!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";var b=window.Slick||{};b=function(){function c(c,d){var f,e=this;e.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:a(c),appendDots:a(c),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(a,b){return'<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">'+(b+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},e.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},a.extend(e,e.initials),e.activeBreakpoint=null,e.animType=null,e.animProp=null,e.breakpoints=[],e.breakpointSettings=[],e.cssTransitions=!1,e.hidden="hidden",e.paused=!1,e.positionProp=null,e.respondTo=null,e.rowCount=1,e.shouldClick=!0,e.$slider=a(c),e.$slidesCache=null,e.transformType=null,e.transitionType=null,e.visibilityChange="visibilitychange",e.windowWidth=0,e.windowTimer=null,f=a(c).data("slick")||{},e.options=a.extend({},e.defaults,f,d),e.currentSlide=e.options.initialSlide,e.originalSettings=e.options,"undefined"!=typeof document.mozHidden?(e.hidden="mozHidden",e.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(e.hidden="webkitHidden",e.visibilityChange="webkitvisibilitychange"),e.autoPlay=a.proxy(e.autoPlay,e),e.autoPlayClear=a.proxy(e.autoPlayClear,e),e.changeSlide=a.proxy(e.changeSlide,e),e.clickHandler=a.proxy(e.clickHandler,e),e.selectHandler=a.proxy(e.selectHandler,e),e.setPosition=a.proxy(e.setPosition,e),e.swipeHandler=a.proxy(e.swipeHandler,e),e.dragHandler=a.proxy(e.dragHandler,e),e.keyHandler=a.proxy(e.keyHandler,e),e.autoPlayIterator=a.proxy(e.autoPlayIterator,e),e.instanceUid=b++,e.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,e.registerBreakpoints(),e.init(!0),e.checkResponsive(!0)}var b=0;return c}(),b.prototype.addSlide=b.prototype.slickAdd=function(b,c,d){var e=this;if("boolean"==typeof c)d=c,c=null;else if(0>c||c>=e.slideCount)return!1;e.unload(),"number"==typeof c?0===c&&0===e.$slides.length?a(b).appendTo(e.$slideTrack):d?a(b).insertBefore(e.$slides.eq(c)):a(b).insertAfter(e.$slides.eq(c)):d===!0?a(b).prependTo(e.$slideTrack):a(b).appendTo(e.$slideTrack),e.$slides=e.$slideTrack.children(this.options.slide),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.append(e.$slides),e.$slides.each(function(b,c){a(c).attr("data-slick-index",b)}),e.$slidesCache=e.$slides,e.reinit()},b.prototype.animateHeight=function(){var a=this;if(1===a.options.slidesToShow&&a.options.adaptiveHeight===!0&&a.options.vertical===!1){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.animate({height:b},a.options.speed)}},b.prototype.animateSlide=function(b,c){var d={},e=this;e.animateHeight(),e.options.rtl===!0&&e.options.vertical===!1&&(b=-b),e.transformsEnabled===!1?e.options.vertical===!1?e.$slideTrack.animate({left:b},e.options.speed,e.options.easing,c):e.$slideTrack.animate({top:b},e.options.speed,e.options.easing,c):e.cssTransitions===!1?(e.options.rtl===!0&&(e.currentLeft=-e.currentLeft),a({animStart:e.currentLeft}).animate({animStart:b},{duration:e.options.speed,easing:e.options.easing,step:function(a){a=Math.ceil(a),e.options.vertical===!1?(d[e.animType]="translate("+a+"px, 0px)",e.$slideTrack.css(d)):(d[e.animType]="translate(0px,"+a+"px)",e.$slideTrack.css(d))},complete:function(){c&&c.call()}})):(e.applyTransition(),b=Math.ceil(b),d[e.animType]=e.options.vertical===!1?"translate3d("+b+"px, 0px, 0px)":"translate3d(0px,"+b+"px, 0px)",e.$slideTrack.css(d),c&&setTimeout(function(){e.disableTransition(),c.call()},e.options.speed))},b.prototype.asNavFor=function(b){var c=this,d=c.options.asNavFor;d&&null!==d&&(d=a(d).not(c.$slider)),null!==d&&"object"==typeof d&&d.each(function(){var c=a(this).slick("getSlick");c.unslicked||c.slideHandler(b,!0)})},b.prototype.applyTransition=function(a){var b=this,c={};c[b.transitionType]=b.options.fade===!1?b.transformType+" "+b.options.speed+"ms "+b.options.cssEase:"opacity "+b.options.speed+"ms "+b.options.cssEase,b.options.fade===!1?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.autoPlay=function(){var a=this;a.autoPlayTimer&&clearInterval(a.autoPlayTimer),a.slideCount>a.options.slidesToShow&&a.paused!==!0&&(a.autoPlayTimer=setInterval(a.autoPlayIterator,a.options.autoplaySpeed))},b.prototype.autoPlayClear=function(){var a=this;a.autoPlayTimer&&clearInterval(a.autoPlayTimer)},b.prototype.autoPlayIterator=function(){var a=this;a.options.infinite===!1?1===a.direction?(a.currentSlide+1===a.slideCount-1&&(a.direction=0),a.slideHandler(a.currentSlide+a.options.slidesToScroll)):(0===a.currentSlide-1&&(a.direction=1),a.slideHandler(a.currentSlide-a.options.slidesToScroll)):a.slideHandler(a.currentSlide+a.options.slidesToScroll)},b.prototype.buildArrows=function(){var b=this;b.options.arrows===!0&&(b.$prevArrow=a(b.options.prevArrow).addClass("slick-arrow"),b.$nextArrow=a(b.options.nextArrow).addClass("slick-arrow"),b.slideCount>b.options.slidesToShow?(b.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),b.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),b.htmlExpr.test(b.options.prevArrow)&&b.$prevArrow.prependTo(b.options.appendArrows),b.htmlExpr.test(b.options.nextArrow)&&b.$nextArrow.appendTo(b.options.appendArrows),b.options.infinite!==!0&&b.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):b.$prevArrow.add(b.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},b.prototype.buildDots=function(){var c,d,b=this;if(b.options.dots===!0&&b.slideCount>b.options.slidesToShow){for(d='<ul class="'+b.options.dotsClass+'">',c=0;c<=b.getDotCount();c+=1)d+="<li>"+b.options.customPaging.call(this,b,c)+"</li>";d+="</ul>",b.$dots=a(d).appendTo(b.options.appendDots),b.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},b.prototype.buildOut=function(){var b=this;b.$slides=b.$slider.children(b.options.slide+":not(.slick-cloned)").addClass("slick-slide"),b.slideCount=b.$slides.length,b.$slides.each(function(b,c){a(c).attr("data-slick-index",b).data("originalStyling",a(c).attr("style")||"")}),b.$slidesCache=b.$slides,b.$slider.addClass("slick-slider"),b.$slideTrack=0===b.slideCount?a('<div class="slick-track"/>').appendTo(b.$slider):b.$slides.wrapAll('<div class="slick-track"/>').parent(),b.$list=b.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),b.$slideTrack.css("opacity",0),(b.options.centerMode===!0||b.options.swipeToSlide===!0)&&(b.options.slidesToScroll=1),a("img[data-lazy]",b.$slider).not("[src]").addClass("slick-loading"),b.setupInfinite(),b.buildArrows(),b.buildDots(),b.updateDots(),b.setSlideClasses("number"==typeof b.currentSlide?b.currentSlide:0),b.options.draggable===!0&&b.$list.addClass("draggable")},b.prototype.buildRows=function(){var b,c,d,e,f,g,h,a=this;if(e=document.createDocumentFragment(),g=a.$slider.children(),a.options.rows>1){for(h=a.options.slidesPerRow*a.options.rows,f=Math.ceil(g.length/h),b=0;f>b;b++){var i=document.createElement("div");for(c=0;c<a.options.rows;c++){var j=document.createElement("div");for(d=0;d<a.options.slidesPerRow;d++){var k=b*h+(c*a.options.slidesPerRow+d);g.get(k)&&j.appendChild(g.get(k))}i.appendChild(j)}e.appendChild(i)}a.$slider.html(e),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},b.prototype.checkResponsive=function(b,c){var e,f,g,d=this,h=!1,i=d.$slider.width(),j=window.innerWidth||a(window).width();if("window"===d.respondTo?g=j:"slider"===d.respondTo?g=i:"min"===d.respondTo&&(g=Math.min(j,i)),d.options.responsive&&d.options.responsive.length&&null!==d.options.responsive){f=null;for(e in d.breakpoints)d.breakpoints.hasOwnProperty(e)&&(d.originalSettings.mobileFirst===!1?g<d.breakpoints[e]&&(f=d.breakpoints[e]):g>d.breakpoints[e]&&(f=d.breakpoints[e]));null!==f?null!==d.activeBreakpoint?(f!==d.activeBreakpoint||c)&&(d.activeBreakpoint=f,"unslick"===d.breakpointSettings[f]?d.unslick(f):(d.options=a.extend({},d.originalSettings,d.breakpointSettings[f]),b===!0&&(d.currentSlide=d.options.initialSlide),d.refresh(b)),h=f):(d.activeBreakpoint=f,"unslick"===d.breakpointSettings[f]?d.unslick(f):(d.options=a.extend({},d.originalSettings,d.breakpointSettings[f]),b===!0&&(d.currentSlide=d.options.initialSlide),d.refresh(b)),h=f):null!==d.activeBreakpoint&&(d.activeBreakpoint=null,d.options=d.originalSettings,b===!0&&(d.currentSlide=d.options.initialSlide),d.refresh(b),h=f),b||h===!1||d.$slider.trigger("breakpoint",[d,h])}},b.prototype.changeSlide=function(b,c){var f,g,h,d=this,e=a(b.target);switch(e.is("a")&&b.preventDefault(),e.is("li")||(e=e.closest("li")),h=0!==d.slideCount%d.options.slidesToScroll,f=h?0:(d.slideCount-d.currentSlide)%d.options.slidesToScroll,b.data.message){case"previous":g=0===f?d.options.slidesToScroll:d.options.slidesToShow-f,d.slideCount>d.options.slidesToShow&&d.slideHandler(d.currentSlide-g,!1,c);break;case"next":g=0===f?d.options.slidesToScroll:f,d.slideCount>d.options.slidesToShow&&d.slideHandler(d.currentSlide+g,!1,c);break;case"index":var i=0===b.data.index?0:b.data.index||e.index()*d.options.slidesToScroll;d.slideHandler(d.checkNavigable(i),!1,c),e.children().trigger("focus");break;default:return}},b.prototype.checkNavigable=function(a){var c,d,b=this;if(c=b.getNavigableIndexes(),d=0,a>c[c.length-1])a=c[c.length-1];else for(var e in c){if(a<c[e]){a=d;break}d=c[e]}return a},b.prototype.cleanUpEvents=function(){var b=this;b.options.dots&&null!==b.$dots&&(a("li",b.$dots).off("click.slick",b.changeSlide),b.options.pauseOnDotsHover===!0&&b.options.autoplay===!0&&a("li",b.$dots).off("mouseenter.slick",a.proxy(b.setPaused,b,!0)).off("mouseleave.slick",a.proxy(b.setPaused,b,!1))),b.options.arrows===!0&&b.slideCount>b.options.slidesToShow&&(b.$prevArrow&&b.$prevArrow.off("click.slick",b.changeSlide),b.$nextArrow&&b.$nextArrow.off("click.slick",b.changeSlide)),b.$list.off("touchstart.slick mousedown.slick",b.swipeHandler),b.$list.off("touchmove.slick mousemove.slick",b.swipeHandler),b.$list.off("touchend.slick mouseup.slick",b.swipeHandler),b.$list.off("touchcancel.slick mouseleave.slick",b.swipeHandler),b.$list.off("click.slick",b.clickHandler),a(document).off(b.visibilityChange,b.visibility),b.$list.off("mouseenter.slick",a.proxy(b.setPaused,b,!0)),b.$list.off("mouseleave.slick",a.proxy(b.setPaused,b,!1)),b.options.accessibility===!0&&b.$list.off("keydown.slick",b.keyHandler),b.options.focusOnSelect===!0&&a(b.$slideTrack).children().off("click.slick",b.selectHandler),a(window).off("orientationchange.slick.slick-"+b.instanceUid,b.orientationChange),a(window).off("resize.slick.slick-"+b.instanceUid,b.resize),a("[draggable!=true]",b.$slideTrack).off("dragstart",b.preventDefault),a(window).off("load.slick.slick-"+b.instanceUid,b.setPosition),a(document).off("ready.slick.slick-"+b.instanceUid,b.setPosition)},b.prototype.cleanUpRows=function(){var b,a=this;a.options.rows>1&&(b=a.$slides.children().children(),b.removeAttr("style"),a.$slider.html(b))},b.prototype.clickHandler=function(a){var b=this;b.shouldClick===!1&&(a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault())},b.prototype.destroy=function(b){var c=this;c.autoPlayClear(),c.touchObject={},c.cleanUpEvents(),a(".slick-cloned",c.$slider).detach(),c.$dots&&c.$dots.remove(),c.$prevArrow&&c.$prevArrow.length&&(c.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),c.htmlExpr.test(c.options.prevArrow)&&c.$prevArrow.remove()),c.$nextArrow&&c.$nextArrow.length&&(c.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),c.htmlExpr.test(c.options.nextArrow)&&c.$nextArrow.remove()),c.$slides&&(c.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){a(this).attr("style",a(this).data("originalStyling"))}),c.$slideTrack.children(this.options.slide).detach(),c.$slideTrack.detach(),c.$list.detach(),c.$slider.append(c.$slides)),c.cleanUpRows(),c.$slider.removeClass("slick-slider"),c.$slider.removeClass("slick-initialized"),c.unslicked=!0,b||c.$slider.trigger("destroy",[c])},b.prototype.disableTransition=function(a){var b=this,c={};c[b.transitionType]="",b.options.fade===!1?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.fadeSlide=function(a,b){var c=this;c.cssTransitions===!1?(c.$slides.eq(a).css({zIndex:c.options.zIndex}),c.$slides.eq(a).animate({opacity:1},c.options.speed,c.options.easing,b)):(c.applyTransition(a),c.$slides.eq(a).css({opacity:1,zIndex:c.options.zIndex}),b&&setTimeout(function(){c.disableTransition(a),b.call()},c.options.speed))},b.prototype.fadeSlideOut=function(a){var b=this;b.cssTransitions===!1?b.$slides.eq(a).animate({opacity:0,zIndex:b.options.zIndex-2},b.options.speed,b.options.easing):(b.applyTransition(a),b.$slides.eq(a).css({opacity:0,zIndex:b.options.zIndex-2}))},b.prototype.filterSlides=b.prototype.slickFilter=function(a){var b=this;null!==a&&(b.unload(),b.$slideTrack.children(this.options.slide).detach(),b.$slidesCache.filter(a).appendTo(b.$slideTrack),b.reinit())},b.prototype.getCurrent=b.prototype.slickCurrentSlide=function(){var a=this;return a.currentSlide},b.prototype.getDotCount=function(){var a=this,b=0,c=0,d=0;if(a.options.infinite===!0)for(;b<a.slideCount;)++d,b=c+a.options.slidesToShow,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;else if(a.options.centerMode===!0)d=a.slideCount;else for(;b<a.slideCount;)++d,b=c+a.options.slidesToShow,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;return d-1},b.prototype.getLeft=function(a){var c,d,f,b=this,e=0;return b.slideOffset=0,d=b.$slides.first().outerHeight(!0),b.options.infinite===!0?(b.slideCount>b.options.slidesToShow&&(b.slideOffset=-1*b.slideWidth*b.options.slidesToShow,e=-1*d*b.options.slidesToShow),0!==b.slideCount%b.options.slidesToScroll&&a+b.options.slidesToScroll>b.slideCount&&b.slideCount>b.options.slidesToShow&&(a>b.slideCount?(b.slideOffset=-1*(b.options.slidesToShow-(a-b.slideCount))*b.slideWidth,e=-1*(b.options.slidesToShow-(a-b.slideCount))*d):(b.slideOffset=-1*b.slideCount%b.options.slidesToScroll*b.slideWidth,e=-1*b.slideCount%b.options.slidesToScroll*d))):a+b.options.slidesToShow>b.slideCount&&(b.slideOffset=(a+b.options.slidesToShow-b.slideCount)*b.slideWidth,e=(a+b.options.slidesToShow-b.slideCount)*d),b.slideCount<=b.options.slidesToShow&&(b.slideOffset=0,e=0),b.options.centerMode===!0&&b.options.infinite===!0?b.slideOffset+=b.slideWidth*Math.floor(b.options.slidesToShow/2)-b.slideWidth:b.options.centerMode===!0&&(b.slideOffset=0,b.slideOffset+=b.slideWidth*Math.floor(b.options.slidesToShow/2)),c=b.options.vertical===!1?-1*a*b.slideWidth+b.slideOffset:-1*a*d+e,b.options.variableWidth===!0&&(f=b.slideCount<=b.options.slidesToShow||b.options.infinite===!1?b.$slideTrack.children(".slick-slide").eq(a):b.$slideTrack.children(".slick-slide").eq(a+b.options.slidesToShow),c=f[0]?-1*f[0].offsetLeft:0,b.options.centerMode===!0&&(f=b.options.infinite===!1?b.$slideTrack.children(".slick-slide").eq(a):b.$slideTrack.children(".slick-slide").eq(a+b.options.slidesToShow+1),c=f[0]?-1*f[0].offsetLeft:0,c+=(b.$list.width()-f.outerWidth())/2)),c},b.prototype.getOption=b.prototype.slickGetOption=function(a){var b=this;return b.options[a]},b.prototype.getNavigableIndexes=function(){var e,a=this,b=0,c=0,d=[];for(a.options.infinite===!1?e=a.slideCount:(b=-1*a.options.slidesToScroll,c=-1*a.options.slidesToScroll,e=2*a.slideCount);e>b;)d.push(b),b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;return d},b.prototype.getSlick=function(){return this},b.prototype.getSlideCount=function(){var c,d,e,b=this;return e=b.options.centerMode===!0?b.slideWidth*Math.floor(b.options.slidesToShow/2):0,b.options.swipeToSlide===!0?(b.$slideTrack.find(".slick-slide").each(function(c,f){return f.offsetLeft-e+a(f).outerWidth()/2>-1*b.swipeLeft?(d=f,!1):void 0}),c=Math.abs(a(d).attr("data-slick-index")-b.currentSlide)||1):b.options.slidesToScroll},b.prototype.goTo=b.prototype.slickGoTo=function(a,b){var c=this;c.changeSlide({data:{message:"index",index:parseInt(a)}},b)},b.prototype.init=function(b){var c=this;a(c.$slider).hasClass("slick-initialized")||(a(c.$slider).addClass("slick-initialized"),c.buildRows(),c.buildOut(),c.setProps(),c.startLoad(),c.loadSlider(),c.initializeEvents(),c.updateArrows(),c.updateDots()),b&&c.$slider.trigger("init",[c]),c.options.accessibility===!0&&c.initADA()},b.prototype.initArrowEvents=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.on("click.slick",{message:"previous"},a.changeSlide),a.$nextArrow.on("click.slick",{message:"next"},a.changeSlide))},b.prototype.initDotEvents=function(){var b=this;b.options.dots===!0&&b.slideCount>b.options.slidesToShow&&a("li",b.$dots).on("click.slick",{message:"index"},b.changeSlide),b.options.dots===!0&&b.options.pauseOnDotsHover===!0&&b.options.autoplay===!0&&a("li",b.$dots).on("mouseenter.slick",a.proxy(b.setPaused,b,!0)).on("mouseleave.slick",a.proxy(b.setPaused,b,!1))},b.prototype.initializeEvents=function(){var b=this;b.initArrowEvents(),b.initDotEvents(),b.$list.on("touchstart.slick mousedown.slick",{action:"start"},b.swipeHandler),b.$list.on("touchmove.slick mousemove.slick",{action:"move"},b.swipeHandler),b.$list.on("touchend.slick mouseup.slick",{action:"end"},b.swipeHandler),b.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},b.swipeHandler),b.$list.on("click.slick",b.clickHandler),a(document).on(b.visibilityChange,a.proxy(b.visibility,b)),b.$list.on("mouseenter.slick",a.proxy(b.setPaused,b,!0)),b.$list.on("mouseleave.slick",a.proxy(b.setPaused,b,!1)),b.options.accessibility===!0&&b.$list.on("keydown.slick",b.keyHandler),b.options.focusOnSelect===!0&&a(b.$slideTrack).children().on("click.slick",b.selectHandler),a(window).on("orientationchange.slick.slick-"+b.instanceUid,a.proxy(b.orientationChange,b)),a(window).on("resize.slick.slick-"+b.instanceUid,a.proxy(b.resize,b)),a("[draggable!=true]",b.$slideTrack).on("dragstart",b.preventDefault),a(window).on("load.slick.slick-"+b.instanceUid,b.setPosition),a(document).on("ready.slick.slick-"+b.instanceUid,b.setPosition)},b.prototype.initUI=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.show(),a.$nextArrow.show()),a.options.dots===!0&&a.slideCount>a.options.slidesToShow&&a.$dots.show(),a.options.autoplay===!0&&a.autoPlay()},b.prototype.keyHandler=function(a){var b=this;a.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===a.keyCode&&b.options.accessibility===!0?b.changeSlide({data:{message:"previous"}}):39===a.keyCode&&b.options.accessibility===!0&&b.changeSlide({data:{message:"next"}}))},b.prototype.lazyLoad=function(){function g(b){a("img[data-lazy]",b).each(function(){var b=a(this),c=a(this).attr("data-lazy"),d=document.createElement("img");d.onload=function(){b.animate({opacity:0},100,function(){b.attr("src",c).animate({opacity:1},200,function(){b.removeAttr("data-lazy").removeClass("slick-loading")})})},d.src=c})}var c,d,e,f,b=this;b.options.centerMode===!0?b.options.infinite===!0?(e=b.currentSlide+(b.options.slidesToShow/2+1),f=e+b.options.slidesToShow+2):(e=Math.max(0,b.currentSlide-(b.options.slidesToShow/2+1)),f=2+(b.options.slidesToShow/2+1)+b.currentSlide):(e=b.options.infinite?b.options.slidesToShow+b.currentSlide:b.currentSlide,f=e+b.options.slidesToShow,b.options.fade===!0&&(e>0&&e--,f<=b.slideCount&&f++)),c=b.$slider.find(".slick-slide").slice(e,f),g(c),b.slideCount<=b.options.slidesToShow?(d=b.$slider.find(".slick-slide"),g(d)):b.currentSlide>=b.slideCount-b.options.slidesToShow?(d=b.$slider.find(".slick-cloned").slice(0,b.options.slidesToShow),g(d)):0===b.currentSlide&&(d=b.$slider.find(".slick-cloned").slice(-1*b.options.slidesToShow),g(d))},b.prototype.loadSlider=function(){var a=this;a.setPosition(),a.$slideTrack.css({opacity:1}),a.$slider.removeClass("slick-loading"),a.initUI(),"progressive"===a.options.lazyLoad&&a.progressiveLazyLoad()},b.prototype.next=b.prototype.slickNext=function(){var a=this;a.changeSlide({data:{message:"next"}})},b.prototype.orientationChange=function(){var a=this;a.checkResponsive(),a.setPosition()},b.prototype.pause=b.prototype.slickPause=function(){var a=this;a.autoPlayClear(),a.paused=!0},b.prototype.play=b.prototype.slickPlay=function(){var a=this;a.paused=!1,a.autoPlay()},b.prototype.postSlide=function(a){var b=this;b.$slider.trigger("afterChange",[b,a]),b.animating=!1,b.setPosition(),b.swipeLeft=null,b.options.autoplay===!0&&b.paused===!1&&b.autoPlay(),b.options.accessibility===!0&&b.initADA()},b.prototype.prev=b.prototype.slickPrev=function(){var a=this;a.changeSlide({data:{message:"previous"}})},b.prototype.preventDefault=function(a){a.preventDefault()},b.prototype.progressiveLazyLoad=function(){var c,d,b=this;c=a("img[data-lazy]",b.$slider).length,c>0&&(d=a("img[data-lazy]",b.$slider).first(),d.attr("src",d.attr("data-lazy")).removeClass("slick-loading").load(function(){d.removeAttr("data-lazy"),b.progressiveLazyLoad(),b.options.adaptiveHeight===!0&&b.setPosition()}).error(function(){d.removeAttr("data-lazy"),b.progressiveLazyLoad()}))},b.prototype.refresh=function(b){var c=this,d=c.currentSlide;c.destroy(!0),a.extend(c,c.initials,{currentSlide:d}),c.init(),b||c.changeSlide({data:{message:"index",index:d}},!1)},b.prototype.registerBreakpoints=function(){var c,d,e,b=this,f=b.options.responsive||null;if("array"===a.type(f)&&f.length){b.respondTo=b.options.respondTo||"window";for(c in f)if(e=b.breakpoints.length-1,d=f[c].breakpoint,f.hasOwnProperty(c)){for(;e>=0;)b.breakpoints[e]&&b.breakpoints[e]===d&&b.breakpoints.splice(e,1),e--;b.breakpoints.push(d),b.breakpointSettings[d]=f[c].settings}b.breakpoints.sort(function(a,c){return b.options.mobileFirst?a-c:c-a})}},b.prototype.reinit=function(){var b=this;b.$slides=b.$slideTrack.children(b.options.slide).addClass("slick-slide"),b.slideCount=b.$slides.length,b.currentSlide>=b.slideCount&&0!==b.currentSlide&&(b.currentSlide=b.currentSlide-b.options.slidesToScroll),b.slideCount<=b.options.slidesToShow&&(b.currentSlide=0),b.registerBreakpoints(),b.setProps(),b.setupInfinite(),b.buildArrows(),b.updateArrows(),b.initArrowEvents(),b.buildDots(),b.updateDots(),b.initDotEvents(),b.checkResponsive(!1,!0),b.options.focusOnSelect===!0&&a(b.$slideTrack).children().on("click.slick",b.selectHandler),b.setSlideClasses(0),b.setPosition(),b.$slider.trigger("reInit",[b]),b.options.autoplay===!0&&b.focusHandler()},b.prototype.resize=function(){var b=this;a(window).width()!==b.windowWidth&&(clearTimeout(b.windowDelay),b.windowDelay=window.setTimeout(function(){b.windowWidth=a(window).width(),b.checkResponsive(),b.unslicked||b.setPosition()},50))},b.prototype.removeSlide=b.prototype.slickRemove=function(a,b,c){var d=this;return"boolean"==typeof a?(b=a,a=b===!0?0:d.slideCount-1):a=b===!0?--a:a,d.slideCount<1||0>a||a>d.slideCount-1?!1:(d.unload(),c===!0?d.$slideTrack.children().remove():d.$slideTrack.children(this.options.slide).eq(a).remove(),d.$slides=d.$slideTrack.children(this.options.slide),d.$slideTrack.children(this.options.slide).detach(),d.$slideTrack.append(d.$slides),d.$slidesCache=d.$slides,d.reinit(),void 0)},b.prototype.setCSS=function(a){var d,e,b=this,c={};b.options.rtl===!0&&(a=-a),d="left"==b.positionProp?Math.ceil(a)+"px":"0px",e="top"==b.positionProp?Math.ceil(a)+"px":"0px",c[b.positionProp]=a,b.transformsEnabled===!1?b.$slideTrack.css(c):(c={},b.cssTransitions===!1?(c[b.animType]="translate("+d+", "+e+")",b.$slideTrack.css(c)):(c[b.animType]="translate3d("+d+", "+e+", 0px)",b.$slideTrack.css(c)))},b.prototype.setDimensions=function(){var a=this;a.options.vertical===!1?a.options.centerMode===!0&&a.$list.css({padding:"0px "+a.options.centerPadding}):(a.$list.height(a.$slides.first().outerHeight(!0)*a.options.slidesToShow),a.options.centerMode===!0&&a.$list.css({padding:a.options.centerPadding+" 0px"})),a.listWidth=a.$list.width(),a.listHeight=a.$list.height(),a.options.vertical===!1&&a.options.variableWidth===!1?(a.slideWidth=Math.ceil(a.listWidth/a.options.slidesToShow),a.$slideTrack.width(Math.ceil(a.slideWidth*a.$slideTrack.children(".slick-slide").length))):a.options.variableWidth===!0?a.$slideTrack.width(5e3*a.slideCount):(a.slideWidth=Math.ceil(a.listWidth),a.$slideTrack.height(Math.ceil(a.$slides.first().outerHeight(!0)*a.$slideTrack.children(".slick-slide").length)));var b=a.$slides.first().outerWidth(!0)-a.$slides.first().width();a.options.variableWidth===!1&&a.$slideTrack.children(".slick-slide").width(a.slideWidth-b)},b.prototype.setFade=function(){var c,b=this;b.$slides.each(function(d,e){c=-1*b.slideWidth*d,b.options.rtl===!0?a(e).css({position:"relative",right:c,top:0,zIndex:b.options.zIndex-2,opacity:0}):a(e).css({position:"relative",left:c,top:0,zIndex:b.options.zIndex-2,opacity:0})}),b.$slides.eq(b.currentSlide).css({zIndex:b.options.zIndex-1,opacity:1})},b.prototype.setHeight=function(){var a=this;if(1===a.options.slidesToShow&&a.options.adaptiveHeight===!0&&a.options.vertical===!1){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.css("height",b)}},b.prototype.setOption=b.prototype.slickSetOption=function(b,c,d){var f,g,e=this;if("responsive"===b&&"array"===a.type(c))for(g in c)if("array"!==a.type(e.options.responsive))e.options.responsive=[c[g]];else{for(f=e.options.responsive.length-1;f>=0;)e.options.responsive[f].breakpoint===c[g].breakpoint&&e.options.responsive.splice(f,1),f--;e.options.responsive.push(c[g])}else e.options[b]=c;d===!0&&(e.unload(),e.reinit())},b.prototype.setPosition=function(){var a=this;a.setDimensions(),a.setHeight(),a.options.fade===!1?a.setCSS(a.getLeft(a.currentSlide)):a.setFade(),a.$slider.trigger("setPosition",[a])},b.prototype.setProps=function(){var a=this,b=document.body.style;a.positionProp=a.options.vertical===!0?"top":"left","top"===a.positionProp?a.$slider.addClass("slick-vertical"):a.$slider.removeClass("slick-vertical"),(void 0!==b.WebkitTransition||void 0!==b.MozTransition||void 0!==b.msTransition)&&a.options.useCSS===!0&&(a.cssTransitions=!0),a.options.fade&&("number"==typeof a.options.zIndex?a.options.zIndex<3&&(a.options.zIndex=3):a.options.zIndex=a.defaults.zIndex),void 0!==b.OTransform&&(a.animType="OTransform",a.transformType="-o-transform",a.transitionType="OTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.MozTransform&&(a.animType="MozTransform",a.transformType="-moz-transform",a.transitionType="MozTransition",void 0===b.perspectiveProperty&&void 0===b.MozPerspective&&(a.animType=!1)),void 0!==b.webkitTransform&&(a.animType="webkitTransform",a.transformType="-webkit-transform",a.transitionType="webkitTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.msTransform&&(a.animType="msTransform",a.transformType="-ms-transform",a.transitionType="msTransition",void 0===b.msTransform&&(a.animType=!1)),void 0!==b.transform&&a.animType!==!1&&(a.animType="transform",a.transformType="transform",a.transitionType="transition"),a.transformsEnabled=null!==a.animType&&a.animType!==!1},b.prototype.setSlideClasses=function(a){var c,d,e,f,b=this;d=b.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),b.$slides.eq(a).addClass("slick-current"),b.options.centerMode===!0?(c=Math.floor(b.options.slidesToShow/2),b.options.infinite===!0&&(a>=c&&a<=b.slideCount-1-c?b.$slides.slice(a-c,a+c+1).addClass("slick-active").attr("aria-hidden","false"):(e=b.options.slidesToShow+a,d.slice(e-c+1,e+c+2).addClass("slick-active").attr("aria-hidden","false")),0===a?d.eq(d.length-1-b.options.slidesToShow).addClass("slick-center"):a===b.slideCount-1&&d.eq(b.options.slidesToShow).addClass("slick-center")),b.$slides.eq(a).addClass("slick-center")):a>=0&&a<=b.slideCount-b.options.slidesToShow?b.$slides.slice(a,a+b.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):d.length<=b.options.slidesToShow?d.addClass("slick-active").attr("aria-hidden","false"):(f=b.slideCount%b.options.slidesToShow,e=b.options.infinite===!0?b.options.slidesToShow+a:a,b.options.slidesToShow==b.options.slidesToScroll&&b.slideCount-a<b.options.slidesToShow?d.slice(e-(b.options.slidesToShow-f),e+f).addClass("slick-active").attr("aria-hidden","false"):d.slice(e,e+b.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===b.options.lazyLoad&&b.lazyLoad()},b.prototype.setupInfinite=function(){var c,d,e,b=this;if(b.options.fade===!0&&(b.options.centerMode=!1),b.options.infinite===!0&&b.options.fade===!1&&(d=null,b.slideCount>b.options.slidesToShow)){for(e=b.options.centerMode===!0?b.options.slidesToShow+1:b.options.slidesToShow,c=b.slideCount;c>b.slideCount-e;c-=1)d=c-1,a(b.$slides[d]).clone(!0).attr("id","").attr("data-slick-index",d-b.slideCount).prependTo(b.$slideTrack).addClass("slick-cloned");for(c=0;e>c;c+=1)d=c,a(b.$slides[d]).clone(!0).attr("id","").attr("data-slick-index",d+b.slideCount).appendTo(b.$slideTrack).addClass("slick-cloned");b.$slideTrack.find(".slick-cloned").find("[id]").each(function(){a(this).attr("id","")})}},b.prototype.setPaused=function(a){var b=this;b.options.autoplay===!0&&b.options.pauseOnHover===!0&&(b.paused=a,a?b.autoPlayClear():b.autoPlay())},b.prototype.selectHandler=function(b){var c=this,d=a(b.target).is(".slick-slide")?a(b.target):a(b.target).parents(".slick-slide"),e=parseInt(d.attr("data-slick-index"));return e||(e=0),c.slideCount<=c.options.slidesToShow?(c.setSlideClasses(e),c.asNavFor(e),void 0):(c.slideHandler(e),void 0)},b.prototype.slideHandler=function(a,b,c){var d,e,f,g,h=null,i=this;return b=b||!1,i.animating===!0&&i.options.waitForAnimate===!0||i.options.fade===!0&&i.currentSlide===a||i.slideCount<=i.options.slidesToShow?void 0:(b===!1&&i.asNavFor(a),d=a,h=i.getLeft(d),g=i.getLeft(i.currentSlide),i.currentLeft=null===i.swipeLeft?g:i.swipeLeft,i.options.infinite===!1&&i.options.centerMode===!1&&(0>a||a>i.getDotCount()*i.options.slidesToScroll)?(i.options.fade===!1&&(d=i.currentSlide,c!==!0?i.animateSlide(g,function(){i.postSlide(d)}):i.postSlide(d)),void 0):i.options.infinite===!1&&i.options.centerMode===!0&&(0>a||a>i.slideCount-i.options.slidesToScroll)?(i.options.fade===!1&&(d=i.currentSlide,c!==!0?i.animateSlide(g,function(){i.postSlide(d)}):i.postSlide(d)),void 0):(i.options.autoplay===!0&&clearInterval(i.autoPlayTimer),e=0>d?0!==i.slideCount%i.options.slidesToScroll?i.slideCount-i.slideCount%i.options.slidesToScroll:i.slideCount+d:d>=i.slideCount?0!==i.slideCount%i.options.slidesToScroll?0:d-i.slideCount:d,i.animating=!0,i.$slider.trigger("beforeChange",[i,i.currentSlide,e]),f=i.currentSlide,i.currentSlide=e,i.setSlideClasses(i.currentSlide),i.updateDots(),i.updateArrows(),i.options.fade===!0?(c!==!0?(i.fadeSlideOut(f),i.fadeSlide(e,function(){i.postSlide(e)
})):i.postSlide(e),i.animateHeight(),void 0):(c!==!0?i.animateSlide(h,function(){i.postSlide(e)}):i.postSlide(e),void 0)))},b.prototype.startLoad=function(){var a=this;a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.hide(),a.$nextArrow.hide()),a.options.dots===!0&&a.slideCount>a.options.slidesToShow&&a.$dots.hide(),a.$slider.addClass("slick-loading")},b.prototype.swipeDirection=function(){var a,b,c,d,e=this;return a=e.touchObject.startX-e.touchObject.curX,b=e.touchObject.startY-e.touchObject.curY,c=Math.atan2(b,a),d=Math.round(180*c/Math.PI),0>d&&(d=360-Math.abs(d)),45>=d&&d>=0?e.options.rtl===!1?"left":"right":360>=d&&d>=315?e.options.rtl===!1?"left":"right":d>=135&&225>=d?e.options.rtl===!1?"right":"left":e.options.verticalSwiping===!0?d>=35&&135>=d?"left":"right":"vertical"},b.prototype.swipeEnd=function(){var c,b=this;if(b.dragging=!1,b.shouldClick=b.touchObject.swipeLength>10?!1:!0,void 0===b.touchObject.curX)return!1;if(b.touchObject.edgeHit===!0&&b.$slider.trigger("edge",[b,b.swipeDirection()]),b.touchObject.swipeLength>=b.touchObject.minSwipe)switch(b.swipeDirection()){case"left":c=b.options.swipeToSlide?b.checkNavigable(b.currentSlide+b.getSlideCount()):b.currentSlide+b.getSlideCount(),b.slideHandler(c),b.currentDirection=0,b.touchObject={},b.$slider.trigger("swipe",[b,"left"]);break;case"right":c=b.options.swipeToSlide?b.checkNavigable(b.currentSlide-b.getSlideCount()):b.currentSlide-b.getSlideCount(),b.slideHandler(c),b.currentDirection=1,b.touchObject={},b.$slider.trigger("swipe",[b,"right"])}else b.touchObject.startX!==b.touchObject.curX&&(b.slideHandler(b.currentSlide),b.touchObject={})},b.prototype.swipeHandler=function(a){var b=this;if(!(b.options.swipe===!1||"ontouchend"in document&&b.options.swipe===!1||b.options.draggable===!1&&-1!==a.type.indexOf("mouse")))switch(b.touchObject.fingerCount=a.originalEvent&&void 0!==a.originalEvent.touches?a.originalEvent.touches.length:1,b.touchObject.minSwipe=b.listWidth/b.options.touchThreshold,b.options.verticalSwiping===!0&&(b.touchObject.minSwipe=b.listHeight/b.options.touchThreshold),a.data.action){case"start":b.swipeStart(a);break;case"move":b.swipeMove(a);break;case"end":b.swipeEnd(a)}},b.prototype.swipeMove=function(a){var d,e,f,g,h,b=this;return h=void 0!==a.originalEvent?a.originalEvent.touches:null,!b.dragging||h&&1!==h.length?!1:(d=b.getLeft(b.currentSlide),b.touchObject.curX=void 0!==h?h[0].pageX:a.clientX,b.touchObject.curY=void 0!==h?h[0].pageY:a.clientY,b.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(b.touchObject.curX-b.touchObject.startX,2))),b.options.verticalSwiping===!0&&(b.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(b.touchObject.curY-b.touchObject.startY,2)))),e=b.swipeDirection(),"vertical"!==e?(void 0!==a.originalEvent&&b.touchObject.swipeLength>4&&a.preventDefault(),g=(b.options.rtl===!1?1:-1)*(b.touchObject.curX>b.touchObject.startX?1:-1),b.options.verticalSwiping===!0&&(g=b.touchObject.curY>b.touchObject.startY?1:-1),f=b.touchObject.swipeLength,b.touchObject.edgeHit=!1,b.options.infinite===!1&&(0===b.currentSlide&&"right"===e||b.currentSlide>=b.getDotCount()&&"left"===e)&&(f=b.touchObject.swipeLength*b.options.edgeFriction,b.touchObject.edgeHit=!0),b.swipeLeft=b.options.vertical===!1?d+f*g:d+f*(b.$list.height()/b.listWidth)*g,b.options.verticalSwiping===!0&&(b.swipeLeft=d+f*g),b.options.fade===!0||b.options.touchMove===!1?!1:b.animating===!0?(b.swipeLeft=null,!1):(b.setCSS(b.swipeLeft),void 0)):void 0)},b.prototype.swipeStart=function(a){var c,b=this;return 1!==b.touchObject.fingerCount||b.slideCount<=b.options.slidesToShow?(b.touchObject={},!1):(void 0!==a.originalEvent&&void 0!==a.originalEvent.touches&&(c=a.originalEvent.touches[0]),b.touchObject.startX=b.touchObject.curX=void 0!==c?c.pageX:a.clientX,b.touchObject.startY=b.touchObject.curY=void 0!==c?c.pageY:a.clientY,b.dragging=!0,void 0)},b.prototype.unfilterSlides=b.prototype.slickUnfilter=function(){var a=this;null!==a.$slidesCache&&(a.unload(),a.$slideTrack.children(this.options.slide).detach(),a.$slidesCache.appendTo(a.$slideTrack),a.reinit())},b.prototype.unload=function(){var b=this;a(".slick-cloned",b.$slider).remove(),b.$dots&&b.$dots.remove(),b.$prevArrow&&b.htmlExpr.test(b.options.prevArrow)&&b.$prevArrow.remove(),b.$nextArrow&&b.htmlExpr.test(b.options.nextArrow)&&b.$nextArrow.remove(),b.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},b.prototype.unslick=function(a){var b=this;b.$slider.trigger("unslick",[b,a]),b.destroy()},b.prototype.updateArrows=function(){var b,a=this;b=Math.floor(a.options.slidesToShow/2),a.options.arrows===!0&&a.slideCount>a.options.slidesToShow&&!a.options.infinite&&(a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),a.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===a.currentSlide?(a.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):a.currentSlide>=a.slideCount-a.options.slidesToShow&&a.options.centerMode===!1?(a.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):a.currentSlide>=a.slideCount-1&&a.options.centerMode===!0&&(a.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},b.prototype.updateDots=function(){var a=this;null!==a.$dots&&(a.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),a.$dots.find("li").eq(Math.floor(a.currentSlide/a.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},b.prototype.visibility=function(){var a=this;document[a.hidden]?(a.paused=!0,a.autoPlayClear()):a.options.autoplay===!0&&(a.paused=!1,a.autoPlay())},b.prototype.initADA=function(){var b=this;b.$slides.add(b.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),b.$slideTrack.attr("role","listbox"),b.$slides.not(b.$slideTrack.find(".slick-cloned")).each(function(c){a(this).attr({role:"option","aria-describedby":"slick-slide"+b.instanceUid+c})}),null!==b.$dots&&b.$dots.attr("role","tablist").find("li").each(function(c){a(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+b.instanceUid+c,id:"slick-slide"+b.instanceUid+c})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),b.activateADA()},b.prototype.activateADA=function(){var a=this,b=a.$slider.find("*").is(":focus");a.$slideTrack.find(".slick-active").attr({"aria-hidden":"false",tabindex:"0"}).find("a, input, button, select").attr({tabindex:"0"}),b&&a.$slideTrack.find(".slick-active").focus()},b.prototype.focusHandler=function(){var b=this;b.$slider.on("focus.slick blur.slick","*",function(c){c.stopImmediatePropagation();var d=a(this);setTimeout(function(){b.isPlay&&(d.is(":focus")?(b.autoPlayClear(),b.paused=!0):(b.paused=!1,b.autoPlay()))},0)})},a.fn.slick=function(){var g,a=this,c=arguments[0],d=Array.prototype.slice.call(arguments,1),e=a.length,f=0;for(f;e>f;f++)if("object"==typeof c||"undefined"==typeof c?a[f].slick=new b(a[f],c):g=a[f].slick[c].apply(a[f].slick,d),"undefined"!=typeof g)return g;return a}});
/**
 * Check for Bounds
 */
(function($){$.fn.isOnScreen=function(x,y){if(x==null||typeof x=='undefined')x=1;if(y==null||typeof y=='undefined')y=1;var win=$(window);var viewport={top:win.scrollTop(),left:win.scrollLeft()};viewport.right=viewport.left+win.width();viewport.bottom=viewport.top+win.height();var height=this.outerHeight();var width=this.outerWidth();if(!width||!height){return false}var bounds=this.offset();bounds.right=bounds.left+width;bounds.bottom=bounds.top+height;var visible=(!(viewport.right<bounds.left||viewport.left>bounds.right||viewport.bottom<bounds.top||viewport.top>bounds.bottom));if(!visible){return false}var deltas={top:Math.min(1,(bounds.bottom-viewport.top)/height),bottom:Math.min(1,(viewport.bottom-bounds.top)/height),left:Math.min(1,(bounds.right-viewport.left)/width),right:Math.min(1,(viewport.right-bounds.left)/width)};return(deltas.left*deltas.right)>=x&&(deltas.top*deltas.bottom)>=y}})(jQuery);
/**
 * EU Cookie Notice
 */
jQuery.fn.extend({acceptCookies:function(options){var defaults={position:"top",textcolour:"#FFF",notice:"We use cookies to track visits to our website.",accept:"ACCEPT COOKIES",decline:"DECLINE COOKIES",whatc:"What are cookies?",decline_t:"In doing so this website may function incorrectly. Do you wish to proceed?",fontfamily:"Helvetica, Arial, sans-serif"};var options=$.extend(defaults,options);return this.each(function(){var o=options;if($.cookie("CDP_EU_COOKIE")!=null){return $()}else{if($.cookie("CDP_EU_COOKIE")!=null){return setInterval(function(){$().deleteAllCookies()},1000)}}$("body").append('<div id="accept_cookies"><div class="euinner">'+o.notice+' <span><a href="http://www.allaboutcookies.org/" target="_blank">'+o.whatc+'</a></span><div><button id="ac_accept">'+o.accept+'</button><button id="ac_decline">'+o.decline+"</button></div></div></div>");$("#accept_cookies").css({"background-color":"#000","z-index":999999,opacity:0.85,position:"fixed",padding:"0px",width:"100%","text-align":"center",left:0,color:o.textcolour,"font-family":o.fontfamily,});$(".euinner").css({padding:"50px",width:"70%",margin:"0 auto"});if(o.position=="top"){$("#accept_cookies").css("top",0)}else{$("#accept_cookies").css("bottom",0)}$("#accept_cookies span").css({display:"block","font-size":"90%",margin:"10px 0"});$("#accept_cookies a").css({"text-decoration":"underline",color:"#FFF"});$("#accept_cookies button").css({"background-color":"#7DAF3B",border:0,color:"#FFF",padding:"16px","font-weight":"bold",cursor:"pointer",margin:"0 16px"});$("#accept_cookies button#ac_decline").css({"background-color":"#fd1046",}).click(function(e){e.preventDefault();var conf=confirm(o.decline_t);if(conf){setInterval(function(){$().deleteAllCookies()},1000);window.location.href="http://google.com"}});$("#accept_cookies button#ac_accept").click(function(e){e.preventDefault();$.cookie("CDP_EU_COOKIE",true,{expires:365,path:"/"});$.cookie("CDP_EU_COOKIE",true,{expires:365,path:"/"});$("#accept_cookies").fadeOut()})})},deleteAllCookies:function(){var cookies=document.cookie.split(";");var ccc=document.cookie;for(var i=0;i<cookies.length;i++){var cookie=cookies[i];var eqPos=cookie.indexOf("=");var name=eqPos>-1?cookie.substr(0,eqPos):cookie;if($.trim(name)!="CDP_EU_COOKIE"){$.cookie($.trim(name),null,{domain:$().getDomain(),path:"/"});$.cookie($.trim(name),null,{domain:"www."+$().getDomain(),path:"/"});$.cookie($.trim(name),null,{domain:"."+$().getDomain(),path:"/"});$.cookie($.trim(name),null,{domain:document.domain,path:"/"});$.cookie($.trim(name),null,{path:"/"})}}return $()},getDomain:function(){return window.location.hostname.replace(/([a-zA-Z0-9]+.)/,"")}});
/**
* jquery.matchHeight.js master
* http://brm.io/jquery-match-height/
* License: MIT
*/
;(function($){var _previousResizeWidth=-1,_updateTimeout=-1;var _parse=function(value){return parseFloat(value)||0};var _rows=function(elements){var tolerance=1,$elements=$(elements),lastTop=null,rows=[];$elements.each(function(){var $that=$(this),top=$that.offset().top-_parse($that.css('margin-top')),lastRow=rows.length>0?rows[rows.length-1]:null;if(lastRow===null){rows.push($that)}else{if(Math.floor(Math.abs(lastTop-top))<=tolerance){rows[rows.length-1]=lastRow.add($that)}else{rows.push($that)}}lastTop=top});return rows};var _parseOptions=function(options){var opts={byRow:true,property:'height',target:null,remove:false};if(typeof options==='object'){return $.extend(opts,options)}if(typeof options==='boolean'){opts.byRow=options}else if(options==='remove'){opts.remove=true}return opts};var matchHeight=$.fn.matchHeight=function(options){var opts=_parseOptions(options);if(opts.remove){var that=this;this.css(opts.property,'');$.each(matchHeight._groups,function(key,group){group.elements=group.elements.not(that)});return this}if(this.length<=1&&!opts.target){return this}matchHeight._groups.push({elements:this,options:opts});matchHeight._apply(this,opts);return this};matchHeight._groups=[];matchHeight._throttle=80;matchHeight._maintainScroll=false;matchHeight._beforeUpdate=null;matchHeight._afterUpdate=null;matchHeight._apply=function(elements,options){var opts=_parseOptions(options),$elements=$(elements),rows=[$elements];var scrollTop=$(window).scrollTop(),htmlHeight=$('html').outerHeight(true);var $hiddenParents=$elements.parents().filter(':hidden');$hiddenParents.each(function(){var $that=$(this);$that.data('style-cache',$that.attr('style'))});$hiddenParents.css('display','block');if(opts.byRow&&!opts.target){$elements.each(function(){var $that=$(this),display=$that.css('display')==='inline-block'?'inline-block':'block';$that.data('style-cache',$that.attr('style'));$that.css({'display':display,'padding-top':'0','padding-bottom':'0','margin-top':'0','margin-bottom':'0','border-top-width':'0','border-bottom-width':'0','height':'100px'})});rows=_rows($elements);$elements.each(function(){var $that=$(this);$that.attr('style',$that.data('style-cache')||'')})}$.each(rows,function(key,row){var $row=$(row),targetHeight=0;if(!opts.target){if(opts.byRow&&$row.length<=1){$row.css(opts.property,'');return}$row.each(function(){var $that=$(this),display=$that.css('display')==='inline-block'?'inline-block':'block';var css={'display':display};css[opts.property]='';$that.css(css);if($that.outerHeight(false)>targetHeight){targetHeight=$that.outerHeight(false)}$that.css('display','')})}else{targetHeight=opts.target.outerHeight(false)}$row.each(function(){var $that=$(this),verticalPadding=0;if(opts.target&&$that.is(opts.target)){return}if($that.css('box-sizing')!=='border-box'){verticalPadding+=_parse($that.css('border-top-width'))+_parse($that.css('border-bottom-width'));verticalPadding+=_parse($that.css('padding-top'))+_parse($that.css('padding-bottom'))}$that.css(opts.property,targetHeight-verticalPadding)})});$hiddenParents.each(function(){var $that=$(this);$that.attr('style',$that.data('style-cache')||null)});if(matchHeight._maintainScroll){$(window).scrollTop((scrollTop/htmlHeight)*$('html').outerHeight(true))}return this};matchHeight._applyDataApi=function(){var groups={};$('[data-match-height], [data-mh]').each(function(){var $this=$(this),groupId=$this.attr('data-mh')||$this.attr('data-match-height');if(groupId in groups){groups[groupId]=groups[groupId].add($this)}else{groups[groupId]=$this}});$.each(groups,function(){this.matchHeight(true)})};var _update=function(event){if(matchHeight._beforeUpdate){matchHeight._beforeUpdate(event,matchHeight._groups)}$.each(matchHeight._groups,function(){matchHeight._apply(this.elements,this.options)});if(matchHeight._afterUpdate){matchHeight._afterUpdate(event,matchHeight._groups)}};matchHeight._update=function(throttle,event){if(event&&event.type==='resize'){var windowWidth=$(window).width();if(windowWidth===_previousResizeWidth){return}_previousResizeWidth=windowWidth}if(!throttle){_update(event)}else if(_updateTimeout===-1){_updateTimeout=setTimeout(function(){_update(event);_updateTimeout=-1},matchHeight._throttle)}};$(matchHeight._applyDataApi);$(window).on('load',function(event){matchHeight._update(false,event)});$(window).on('resize orientationchange',function(event){matchHeight._update(true,event)})})(jQuery);
/**
* Ion.RangeSlider | version 2.0.13 | https://github.com/IonDen/ion.rangeSlider
 */
(function(g,a,f,c){var e=0;var h=(function(){var k=c.userAgent,j=/msie\s\d+/i,i;if(k.search(j)>0){i=j.exec(k).toString();i=i.split(" ")[1];if(i<9){return true}}return false}());var b=(function(){try{a.createEvent("TouchEvent");return true}catch(i){return false}}());var d={init:function(m){var l='<span class="irs"><span class="irs-line"></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>';var k='<span class="irs-slider single"></span>';var j='<span class="irs-diapason"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>';var i='<span class="irs-disable-mask"></span>';return this.each(function(){var ac=g.extend({min:null,max:null,from:null,to:null,type:"single",step:1,prefix:"",postfix:"",hasGrid:false,hideMinMax:false,hideFromTo:false,prettify:true,disable:false,onChange:null,onLoad:null,onFinish:null},m);var v=g(this),x=this,z=null;if(v.data("isActive")){return}v.data("isActive",true);e+=1;this.pluginCount=e;if(v.prop("value")){z=v.prop("value").split(";")}if(ac.type==="single"){if(z&&z.length>1){if(typeof ac.min!=="number"){ac.min=parseFloat(z[0])}else{if(typeof ac.from!=="number"){ac.from=parseFloat(z[0])}}if(typeof ac.max!=="number"){ac.max=parseFloat(z[1])}}else{if(z&&z.length===1){if(typeof ac.from!=="number"){ac.from=parseFloat(z[0])}}}}else{if(ac.type==="double"){if(z&&z.length>1){if(typeof ac.min!=="number"){ac.min=parseFloat(z[0])}else{if(typeof ac.from!=="number"){ac.from=parseFloat(z[0])}}if(typeof ac.max!=="number"){ac.max=parseFloat(z[1])}else{if(typeof ac.to!=="number"){ac.to=parseFloat(z[1])}}}else{if(z&&z.length===1){if(typeof ac.min!=="number"){ac.min=parseFloat(z[0])}else{if(typeof ac.from!=="number"){ac.from=parseFloat(z[0])}}}}}}if(typeof ac.min!=="number"){ac.min=10}if(typeof ac.max!=="number"){ac.max=100}if(typeof ac.from!=="number"){ac.from=ac.min}if(typeof ac.to!=="number"){ac.to=ac.max}if(typeof v.data("min")==="number"){ac.min=parseFloat(v.data("min"))}if(typeof v.data("max")==="number"){ac.max=parseFloat(v.data("max"))}if(typeof v.data("from")==="number"){ac.from=parseFloat(v.data("from"))}if(typeof v.data("to")==="number"){ac.to=parseFloat(v.data("to"))}if(v.data("step")){ac.step=parseFloat(v.data("step"))}if(v.data("type")){ac.type=v.data("type")}if(v.data("prefix")){ac.prefix=v.data("prefix")}if(v.data("postfix")){ac.postfix=v.data("postfix")}if(v.data("hasgrid")){ac.hasGrid=v.data("hasgrid")}if(v.data("hideminmax")){ac.hideMinMax=v.data("hideminmax")}if(v.data("hidefromto")){ac.hideFromTo=v.data("hidefromto")}if(v.data("prettify")){ac.prettify=v.data("prettify")}if(ac.from<ac.min){ac.from=ac.min}if(ac.to>ac.max){ac.to=ac.max}if(ac.type==="double"){if(ac.from>ac.to){ac.from=ac.to}if(ac.to<ac.from){ac.to=ac.from}}var C=function(aj){var ak=aj.toString();if(ac.prettify){ak=ak.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1 ")}return ak};var ah='<span class="irs" id="irs-'+this.pluginCount+'"></span>';v[0].style.display="none";v.before(ah);var u=v.prev(),J=g(a.body),aa=g(f),s,ab,F,af,V,H,r,q,B,M,ag,ad;var U=false,R=false,y=true,ai={};var P=0,o=0,w=0,ae=0,G=0,p=0,n=0,t=0,W=0,N=0,I=0;if(parseInt(ac.step,10)!==parseFloat(ac.step)){I=ac.step.toString().split(".")[1];I=Math.pow(10,I.length)}this.updateData=function(aj){y=true;ac=g.extend(ac,aj);L()};this.removeSlider=function(){u.find("*").off();aa.off("mouseup.irs"+x.pluginCount);J.off("mouseup.irs"+x.pluginCount);J.off("mousemove.irs"+x.pluginCount);u.html("").remove();v.data("isActive",false);v.show()};var L=function(){u.find("*").off();aa.off("mouseup.irs"+x.pluginCount);J.off("mouseup.irs"+x.pluginCount);J.off("mousemove.irs"+x.pluginCount);u.html("");T()};var T=function(){u.html(l);s=u.find(".irs");ab=s.find(".irs-min");F=s.find(".irs-max");af=s.find(".irs-from");V=s.find(".irs-to");H=s.find(".irs-single");ad=u.find(".irs-grid");if(ac.hideMinMax){ab[0].style.display="none";F[0].style.display="none";o=0;w=0}if(ac.hideFromTo){af[0].style.display="none";V[0].style.display="none";H[0].style.display="none"}if(!ac.hideMinMax){ab.html(ac.prefix+C(ac.min)+ac.postfix);F.html(ac.prefix+C(ac.max)+ac.postfix);o=ab.outerWidth();w=F.outerWidth()}if(ac.type==="single"){s.append(k);r=s.find(".single");r.on("mousedown",function(ak){ak.preventDefault();ak.stopPropagation();Q(ak,g(this),null);U=true;R=true;if(h){g("*").prop("unselectable",true)}});if(b){r.on("touchstart",function(ak){ak.preventDefault();ak.stopPropagation();Q(ak.originalEvent.touches[0],g(this),null);U=true;R=true})}}else{if(ac.type==="double"){s.append(j);q=s.find(".from");B=s.find(".to");ag=s.find(".irs-diapason");S();q.on("mousedown",function(ak){ak.preventDefault();ak.stopPropagation();g(this).addClass("last");B.removeClass("last");Q(ak,g(this),"from");U=true;R=true;if(h){g("*").prop("unselectable",true)}});B.on("mousedown",function(ak){ak.preventDefault();ak.stopPropagation();g(this).addClass("last");q.removeClass("last");Q(ak,g(this),"to");U=true;R=true;if(h){g("*").prop("unselectable",true)}});if(b){q.on("touchstart",function(ak){ak.preventDefault();ak.stopPropagation();g(this).addClass("last");B.removeClass("last");Q(ak.originalEvent.touches[0],g(this),"from");U=true;R=true});B.on("touchstart",function(ak){ak.preventDefault();ak.stopPropagation();g(this).addClass("last");q.removeClass("last");Q(ak.originalEvent.touches[0],g(this),"to");U=true;R=true})}if(ac.to===ac.max){q.addClass("last")}}}var aj=function(){if(U){R=false;U=false;M.removeAttr("id");M=null;if(ac.type==="double"){S()}D();if(h){g("*").prop("unselectable",false)}}};J.on("mouseup.irs"+x.pluginCount,function(){aj()});aa.on("mouseup.irs"+x.pluginCount,function(){aj()});J.on("mousemove.irs"+x.pluginCount,function(ak){if(U){P=ak.pageX;X()}});u.on("mouseup",function(ak){if(U||ac.disable){return}Y(ak.pageX)});if(b){aa.on("touchend",function(){if(U){R=false;U=false;M.removeAttr("id");M=null;if(ac.type==="double"){S()}D()}});aa.on("touchmove",function(ak){if(U){P=ak.originalEvent.touches[0].pageX;X()}})}K();Z();if(ac.hasGrid){A()}if(ac.disable){E()}};var K=function(){ae=s.width();if(r){p=r.width()}else{p=q.width()}G=ae-p};var Q=function(an,ak,aj){K();y=false;M=ak;M.attr("id","irs-active-slider");var am=M.offset().left,al=an.pageX-am;N=am+al-M.position().left;if(ac.type==="single"){n=s.width()-p}else{if(ac.type==="double"){if(aj==="from"){t=0;W=parseInt(B.css("left"),10)}else{t=parseInt(q.css("left"),10);W=s.width()-p}}}};var S=function(){var an=q.width(),am=g.data(q[0],"x")||parseInt(q[0].style.left,10)||q.position().left,ak=g.data(B[0],"x")||parseInt(B[0].style.left,10)||B.position().left,aj=am+(an/2),al=ak-am;ag[0].style.left=aj+"px";ag[0].style.width=al+"px"};var X=function(al){var ak=P-N,aj;if(al){ak=al}else{ak=P-N}if(ac.type==="single"){if(ak<0){ak=0}if(ak>n){ak=n}}else{if(ac.type==="double"){if(ak<t){ak=t}if(ak>W){ak=W}S()}}g.data(M[0],"x",ak);D();aj=Math.round(ak);M[0].style.left=aj+"px"};var D=function(){var am={input:v,slider:u,fromNumber:0,toNumber:0,fromPers:0,toPers:0,fromX:0,toX:0};var al=ac.max-ac.min,ak,aj;if(ac.type==="single"){am.fromX=g.data(r[0],"x")||parseInt(r[0].style.left,10)||r.position().left;am.fromPers=am.fromX/G*100;ak=(al/100*am.fromPers)+ac.min;am.fromNumber=Math.round(ak/ac.step)*ac.step;if(am.fromNumber<ac.min){am.fromNumber=ac.min}if(am.fromNumber>ac.max){am.fromNumber=ac.max}if(I){am.fromNumber=parseInt(am.fromNumber*I,10)/I}}else{if(ac.type==="double"){am.fromX=g.data(q[0],"x")||parseInt(q[0].style.left,10)||q.position().left;am.fromPers=am.fromX/G*100;ak=(al/100*am.fromPers)+ac.min;am.fromNumber=Math.round(ak/ac.step)*ac.step;if(am.fromNumber<ac.min){am.fromNumber=ac.min}am.toX=g.data(B[0],"x")||parseInt(B[0].style.left,10)||B.position().left;am.toPers=am.toX/G*100;aj=(al/100*am.toPers)+ac.min;am.toNumber=Math.round(aj/ac.step)*ac.step;if(am.toNumber>ac.max){am.toNumber=ac.max}if(I){am.fromNumber=parseInt(am.fromNumber*I,10)/I;am.toNumber=parseInt(am.toNumber*I,10)/I}}}ai=am;O()};var Z=function(){var ak={input:v,slider:u,fromNumber:ac.from,toNumber:ac.to,fromPers:0,toPers:0,fromX:0,fromX_pure:0,toX:0,toX_pure:0};var aj=ac.max-ac.min;if(ac.type==="single"){ak.fromPers=(ak.fromNumber-ac.min)/aj*100;ak.fromX_pure=G/100*ak.fromPers;ak.fromX=Math.round(ak.fromX_pure);r[0].style.left=ak.fromX+"px";g.data(r[0],"x",ak.fromX_pure)}else{if(ac.type==="double"){ak.fromPers=(ak.fromNumber-ac.min)/aj*100;ak.fromX_pure=G/100*ak.fromPers;ak.fromX=Math.round(ak.fromX_pure);q[0].style.left=ak.fromX+"px";g.data(q[0],"x",ak.fromX_pure);ak.toPers=(ak.toNumber-ac.min)/aj*100;ak.toX_pure=G/100*ak.toPers;ak.toX=Math.round(ak.toX_pure);B[0].style.left=ak.toX+"px";g.data(B[0],"x",ak.toX_pure);S()}}ai=ak;O()};var Y=function(ak){var aj=ak-u.offset().left,al=ai.toX-ai.fromX,am=ai.fromX+(al/2);t=0;n=s.width()-p;W=s.width()-p;if(ac.type==="single"){M=r;M.attr("id","irs-active-slider");X(aj)}else{if(ac.type==="double"){if(aj<=am){M=q}else{M=B}M.attr("id","irs-active-slider");X(aj);S()}}M.removeAttr("id");M=null};var O=function(){var am,ar,aq,al,aj,at,ak,ao,an,ap=(p/2);if(ac.type==="single"){if(!ac.hideText){af[0].style.display="none";V[0].style.display="none";ak=ac.prefix+C(ai.fromNumber)+ac.postfix;H.html(ak);ao=H.outerWidth();an=ai.fromX-(ao/2)+ap;if(an<0){an=0}if(an>ae-ao){an=ae-ao}H[0].style.left=an+"px";if(!ac.hideMinMax&&!ac.hideFromTo){if(an<o){ab[0].style.display="none"}else{ab[0].style.display="block"}if(an+ao>ae-w){F[0].style.display="none"}else{F[0].style.display="block"}}}v.attr("value",parseFloat(ai.fromNumber))}else{if(ac.type==="double"){if(!ac.hideText){am=ac.prefix+C(ai.fromNumber)+ac.postfix;al=ac.prefix+C(ai.toNumber)+ac.postfix;if(ai.fromNumber!==ai.toNumber){ak=ac.prefix+C(ai.fromNumber)+" — "+ac.prefix+C(ai.toNumber)+ac.postfix}else{ak=ac.prefix+C(ai.fromNumber)+ac.postfix}af.html(am);V.html(al);H.html(ak);ar=af.outerWidth();aq=ai.fromX-(ar/2)+ap;if(aq<0){aq=0}if(aq>ae-ar){aq=ae-ar}af[0].style.left=aq+"px";aj=V.outerWidth();at=ai.toX-(aj/2)+ap;if(at<0){at=0}if(at>ae-aj){at=ae-aj}V[0].style.left=at+"px";ao=H.outerWidth();an=ai.fromX+((ai.toX-ai.fromX)/2)-(ao/2)+ap;if(an<0){an=0}if(an>ae-ao){an=ae-ao}H[0].style.left=an+"px";if(aq+ar<at){H[0].style.display="none";af[0].style.display="block";V[0].style.display="block"}else{H[0].style.display="block";af[0].style.display="none";V[0].style.display="none"}if(!ac.hideMinMax&&!ac.hideFromTo){if(an<o||aq<o){ab[0].style.display="none"}else{ab[0].style.display="block"}if(an+ao>ae-w||at+aj>ae-w){F[0].style.display="none"}else{F[0].style.display="block"}}}v.attr("value",parseFloat(ai.fromNumber)+";"+parseFloat(ai.toNumber))}}if(typeof ac.onChange==="function"){ac.onChange.call(this,ai)}if(typeof ac.onFinish==="function"&&!R&&!y){ac.onFinish.call(this,ai)}if(typeof ac.onLoad==="function"&&!R&&y){ac.onLoad.call(this,ai)}};var A=function(){u.addClass("irs-with-grid");var ak,ao="",am=0,al=0,an="",ap=20,aj=4;for(ak=0;ak<=ap;ak+=1){am=Math.floor(ae/ap*ak);if(am>=ae){am=ae-1}an+='<span class="irs-grid-pol small" style="left: '+am+'px;"></span>'}for(ak=0;ak<=aj;ak+=1){am=Math.floor(ae/aj*ak);if(am>=ae){am=ae-1}an+='<span class="irs-grid-pol" style="left: '+am+'px;"></span>';if(I){ao=(ac.min+((ac.max-ac.min)/aj*ak));ao=(ao/ac.step)*ac.step;ao=parseInt(ao*I,10)/I}else{ao=Math.round(ac.min+((ac.max-ac.min)/aj*ak));ao=Math.round(ao/ac.step)*ac.step;ao=C(ao)}if(ak===0){al=am;an+='<span class="irs-grid-text" style="left: '+al+'px; text-align: left;">'+ao+"</span>"}else{if(ak===aj){al=am-100;an+='<span class="irs-grid-text" style="left: '+al+'px; text-align: right;">'+ao+"</span>"}else{al=am-50;an+='<span class="irs-grid-text" style="left: '+al+'px;">'+ao+"</span>"}}}ad.html(an)};var E=function(){u.addClass("irs-disabled");u.append(i)};T()})},update:function(i){return this.each(function(){this.updateData(i)})},remove:function(){return this.each(function(){this.removeSlider()})}};g.fn.ionRangeSlider=function(i){if(d[i]){return d[i].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof i==="object"||!i){return d.init.apply(this,arguments)}else{g.error("Method "+i+" does not exist for jQuery.ionRangeSlider")}}}}(jQuery,document,window,navigator));
/**
 * Debug Console
 */
var arrDebugTabs=["General","Params","Warnings","Errors","Queries"];var debugTabsHeight="200px";function appSetCookie(state,tab){$.cookie("debugBarState",state);if(tab!==null){$.cookie("debugBarTab",tab)}}function appGetCookie(name){if(document.cookie.length>0){start_c=document.cookie.indexOf(name+"=");if(start_c!=-1){start_c+=(name.length+1);end_c=document.cookie.indexOf(";",start_c);if(end_c==-1){end_c=document.cookie.length}return unescape(document.cookie.substring(start_c,end_c))}}return""}function appTabsMiddle(){appExpandTabs("middle",appGetCookie("debugBarTab"))}function appTabsMaximize(){appExpandTabs("max",appGetCookie("debugBarTab"))}function appTabsMinimize(){appExpandTabs("min","General")}function appExpandTabs(act,key){if(act=="max"){debugTabsHeight="500px"}else{if(act=="middle"){debugTabsHeight="200px"}else{if(act=="min"){debugTabsHeight="0px"}else{if(act=="auto"){if(debugTabsHeight=="0px"){debugTabsHeight="200px";act="middle"}else{if(debugTabsHeight=="200px"){act="middle"}else{if(debugTabsHeight=="500px"){act="max"}}}}}}}keyTab=(key==null)?"General":key;$("#debugArrowExpand").css("display",((act=="max")?"none":(act=="middle")?"none":""));$("#debugArrowCollapse").css("display",((act=="max")?"":(act=="middle")?"":"none"));$("#debugArrowMaximize").css("display",((act=="max")?"none":(act=="middle")?"":""));$("#debugArrowMinimize").css("display",((act=="max")?"":(act=="middle")?"none":"none"));for(var i=0;i<arrDebugTabs.length;i++){if(act=="min"||arrDebugTabs[i]!=keyTab){$("#content"+arrDebugTabs[i]).css("display","none");$("#tab"+arrDebugTabs[i]).css("color","#bbb")}}if(act!="min"){$("#content"+keyTab).css("display","");$("#content"+keyTab).css({"overflow-y":"auto",height:debugTabsHeight});$("#tab"+keyTab).css("color","#222")}$("#debug-panel").css("opacity",(act=="min")?"0.9":"1");appSetCookie(act,key)};